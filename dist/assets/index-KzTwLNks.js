function EE(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const g of u.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $w(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var z1={exports:{}},Oc={};var A2;function AE(){if(A2)return Oc;A2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var g=null;if(u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),"key"in l){u={};for(var y in l)y!=="key"&&(u[y]=l[y])}else u=l;return l=u.ref,{$$typeof:t,type:s,key:g,ref:l!==void 0?l:null,props:u}}return Oc.Fragment=e,Oc.jsx=n,Oc.jsxs=n,Oc}var S2;function SE(){return S2||(S2=1,z1.exports=AE()),z1.exports}var m=SE(),F1={exports:{}},rt={};var C2;function CE(){if(C2)return rt;C2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function O(G){return G===null||typeof G!="object"?null:(G=S&&G[S]||G["@@iterator"],typeof G=="function"?G:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function F(G,re,se){this.props=G,this.context=re,this.refs=j,this.updater=se||k}F.prototype.isReactComponent={},F.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")},F.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function H(){}H.prototype=F.prototype;function z(G,re,se){this.props=G,this.context=re,this.refs=j,this.updater=se||k}var U=z.prototype=new H;U.constructor=z,M(U,F.prototype),U.isPureReactComponent=!0;var Y=Array.isArray;function $(){}var X={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function J(G,re,se){var he=se.ref;return{$$typeof:t,type:G,key:re,ref:he!==void 0?he:null,props:se}}function Oe(G,re){return J(G.type,re,G.props)}function Ee(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function xe(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(se){return re[se]})}var me=/\/+/g;function ke(G,re){return typeof G=="object"&&G!==null&&G.key!=null?xe(""+G.key):re.toString(36)}function K(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then($,$):(G.status="pending",G.then(function(re){G.status==="pending"&&(G.status="fulfilled",G.value=re)},function(re){G.status==="pending"&&(G.status="rejected",G.reason=re)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Z(G,re,se,he,je){var Se=typeof G;(Se==="undefined"||Se==="boolean")&&(G=null);var Ue=!1;if(G===null)Ue=!0;else switch(Se){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(G.$$typeof){case t:case e:Ue=!0;break;case w:return Ue=G._init,Z(Ue(G._payload),re,se,he,je)}}if(Ue)return je=je(G),Ue=he===""?"."+ke(G,0):he,Y(je)?(se="",Ue!=null&&(se=Ue.replace(me,"$&/")+"/"),Z(je,re,se,"",function(cn){return cn})):je!=null&&(Ee(je)&&(je=Oe(je,se+(je.key==null||G&&G.key===je.key?"":(""+je.key).replace(me,"$&/")+"/")+Ue)),re.push(je)),1;Ue=0;var Ye=he===""?".":he+":";if(Y(G))for(var Pe=0;Pe<G.length;Pe++)he=G[Pe],Se=Ye+ke(he,Pe),Ue+=Z(he,re,se,Se,je);else if(Pe=O(G),typeof Pe=="function")for(G=Pe.call(G),Pe=0;!(he=G.next()).done;)he=he.value,Se=Ye+ke(he,Pe++),Ue+=Z(he,re,se,Se,je);else if(Se==="object"){if(typeof G.then=="function")return Z(K(G),re,se,he,je);throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(G,re,se){if(G==null)return G;var he=[],je=0;return Z(G,he,"","",function(Se){return re.call(se,Se,je++)}),he}function Me(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(se){(G._status===0||G._status===-1)&&(G._status=1,G._result=se)},function(se){(G._status===0||G._status===-1)&&(G._status=2,G._result=se)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var Be=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Le={map:oe,forEach:function(G,re,se){oe(G,function(){re.apply(this,arguments)},se)},count:function(G){var re=0;return oe(G,function(){re++}),re},toArray:function(G){return oe(G,function(re){return re})||[]},only:function(G){if(!Ee(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return rt.Activity=E,rt.Children=Le,rt.Component=F,rt.Fragment=n,rt.Profiler=l,rt.PureComponent=z,rt.StrictMode=s,rt.Suspense=b,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,rt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return X.H.useMemoCache(G)}},rt.cache=function(G){return function(){return G.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(G,re,se){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var he=M({},G.props),je=G.key;if(re!=null)for(Se in re.key!==void 0&&(je=""+re.key),re)!ue.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(he[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)he.children=se;else if(1<Se){for(var Ue=Array(Se),Ye=0;Ye<Se;Ye++)Ue[Ye]=arguments[Ye+2];he.children=Ue}return J(G.type,je,he)},rt.createContext=function(G){return G={$$typeof:g,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:u,_context:G},G},rt.createElement=function(G,re,se){var he,je={},Se=null;if(re!=null)for(he in re.key!==void 0&&(Se=""+re.key),re)ue.call(re,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(je[he]=re[he]);var Ue=arguments.length-2;if(Ue===1)je.children=se;else if(1<Ue){for(var Ye=Array(Ue),Pe=0;Pe<Ue;Pe++)Ye[Pe]=arguments[Pe+2];je.children=Ye}if(G&&G.defaultProps)for(he in Ue=G.defaultProps,Ue)je[he]===void 0&&(je[he]=Ue[he]);return J(G,Se,je)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(G){return{$$typeof:y,render:G}},rt.isValidElement=Ee,rt.lazy=function(G){return{$$typeof:w,_payload:{_status:-1,_result:G},_init:Me}},rt.memo=function(G,re){return{$$typeof:f,type:G,compare:re===void 0?null:re}},rt.startTransition=function(G){var re=X.T,se={};X.T=se;try{var he=G(),je=X.S;je!==null&&je(se,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then($,Be)}catch(Se){Be(Se)}finally{re!==null&&se.types!==null&&(re.types=se.types),X.T=re}},rt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},rt.use=function(G){return X.H.use(G)},rt.useActionState=function(G,re,se){return X.H.useActionState(G,re,se)},rt.useCallback=function(G,re){return X.H.useCallback(G,re)},rt.useContext=function(G){return X.H.useContext(G)},rt.useDebugValue=function(){},rt.useDeferredValue=function(G,re){return X.H.useDeferredValue(G,re)},rt.useEffect=function(G,re){return X.H.useEffect(G,re)},rt.useEffectEvent=function(G){return X.H.useEffectEvent(G)},rt.useId=function(){return X.H.useId()},rt.useImperativeHandle=function(G,re,se){return X.H.useImperativeHandle(G,re,se)},rt.useInsertionEffect=function(G,re){return X.H.useInsertionEffect(G,re)},rt.useLayoutEffect=function(G,re){return X.H.useLayoutEffect(G,re)},rt.useMemo=function(G,re){return X.H.useMemo(G,re)},rt.useOptimistic=function(G,re){return X.H.useOptimistic(G,re)},rt.useReducer=function(G,re,se){return X.H.useReducer(G,re,se)},rt.useRef=function(G){return X.H.useRef(G)},rt.useState=function(G){return X.H.useState(G)},rt.useSyncExternalStore=function(G,re,se){return X.H.useSyncExternalStore(G,re,se)},rt.useTransition=function(){return X.H.useTransition()},rt.version="19.2.3",rt}var N2;function Ef(){return N2||(N2=1,F1.exports=CE()),F1.exports}var ne=Ef();const Xn=$w(ne);var U1={exports:{}},kc={},H1={exports:{}},V1={};var T2;function NE(){return T2||(T2=1,(function(t){function e(Z,oe){var Me=Z.length;Z.push(oe);e:for(;0<Me;){var Be=Me-1>>>1,Le=Z[Be];if(0<l(Le,oe))Z[Be]=oe,Z[Me]=Le,Me=Be;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var oe=Z[0],Me=Z.pop();if(Me!==oe){Z[0]=Me;e:for(var Be=0,Le=Z.length,G=Le>>>1;Be<G;){var re=2*(Be+1)-1,se=Z[re],he=re+1,je=Z[he];if(0>l(se,Me))he<Le&&0>l(je,se)?(Z[Be]=je,Z[he]=Me,Be=he):(Z[Be]=se,Z[re]=Me,Be=re);else if(he<Le&&0>l(je,Me))Z[Be]=je,Z[he]=Me,Be=he;else break e}}return oe}function l(Z,oe){var Me=Z.sortIndex-oe.sortIndex;return Me!==0?Me:Z.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var g=Date,y=g.now();t.unstable_now=function(){return g.now()-y}}var b=[],f=[],w=1,E=null,S=3,O=!1,k=!1,M=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function U(Z){for(var oe=n(f);oe!==null;){if(oe.callback===null)s(f);else if(oe.startTime<=Z)s(f),oe.sortIndex=oe.expirationTime,e(b,oe);else break;oe=n(f)}}function Y(Z){if(M=!1,U(Z),!k)if(n(b)!==null)k=!0,$||($=!0,xe());else{var oe=n(f);oe!==null&&K(Y,oe.startTime-Z)}}var $=!1,X=-1,ue=5,J=-1;function Oe(){return j?!0:!(t.unstable_now()-J<ue)}function Ee(){if(j=!1,$){var Z=t.unstable_now();J=Z;var oe=!0;try{e:{k=!1,M&&(M=!1,H(X),X=-1),O=!0;var Me=S;try{t:{for(U(Z),E=n(b);E!==null&&!(E.expirationTime>Z&&Oe());){var Be=E.callback;if(typeof Be=="function"){E.callback=null,S=E.priorityLevel;var Le=Be(E.expirationTime<=Z);if(Z=t.unstable_now(),typeof Le=="function"){E.callback=Le,U(Z),oe=!0;break t}E===n(b)&&s(b),U(Z)}else s(b);E=n(b)}if(E!==null)oe=!0;else{var G=n(f);G!==null&&K(Y,G.startTime-Z),oe=!1}}break e}finally{E=null,S=Me,O=!1}oe=void 0}}finally{oe?xe():$=!1}}}var xe;if(typeof z=="function")xe=function(){z(Ee)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ke=me.port2;me.port1.onmessage=Ee,xe=function(){ke.postMessage(null)}}else xe=function(){F(Ee,0)};function K(Z,oe){X=F(function(){Z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var Me=S;S=oe;try{return Z()}finally{S=Me}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Me=S;S=Z;try{return oe()}finally{S=Me}},t.unstable_scheduleCallback=function(Z,oe,Me){var Be=t.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?Be+Me:Be):Me=Be,Z){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=Me+Le,Z={id:w++,callback:oe,priorityLevel:Z,startTime:Me,expirationTime:Le,sortIndex:-1},Me>Be?(Z.sortIndex=Me,e(f,Z),n(b)===null&&Z===n(f)&&(M?(H(X),X=-1):M=!0,K(Y,Me-Be))):(Z.sortIndex=Le,e(b,Z),k||O||(k=!0,$||($=!0,xe()))),Z},t.unstable_shouldYield=Oe,t.unstable_wrapCallback=function(Z){var oe=S;return function(){var Me=S;S=oe;try{return Z.apply(this,arguments)}finally{S=Me}}}})(V1)),V1}var O2;function TE(){return O2||(O2=1,H1.exports=NE()),H1.exports}var G1={exports:{}},oi={};var k2;function OE(){if(k2)return oi;k2=1;var t=Ef();function e(b){var f="https://react.dev/errors/"+b;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)f+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+b+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(b,f,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:b,containerInfo:f,implementation:w}}var g=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,f){if(b==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,oi.createPortal=function(b,f){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return u(b,f,null,w)},oi.flushSync=function(b){var f=g.T,w=s.p;try{if(g.T=null,s.p=2,b)return b()}finally{g.T=f,s.p=w,s.d.f()}},oi.preconnect=function(b,f){typeof b=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(b,f))},oi.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},oi.preinit=function(b,f){if(typeof b=="string"&&f&&typeof f.as=="string"){var w=f.as,E=y(w,f.crossOrigin),S=typeof f.integrity=="string"?f.integrity:void 0,O=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;w==="style"?s.d.S(b,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:O}):w==="script"&&s.d.X(b,{crossOrigin:E,integrity:S,fetchPriority:O,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},oi.preinitModule=function(b,f){if(typeof b=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var w=y(f.as,f.crossOrigin);s.d.M(b,{crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(b)},oi.preload=function(b,f){if(typeof b=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var w=f.as,E=y(w,f.crossOrigin);s.d.L(b,w,{crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},oi.preloadModule=function(b,f){if(typeof b=="string")if(f){var w=y(f.as,f.crossOrigin);s.d.m(b,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(b)},oi.requestFormReset=function(b){s.d.r(b)},oi.unstable_batchedUpdates=function(b,f){return b(f)},oi.useFormState=function(b,f,w){return g.H.useFormState(b,f,w)},oi.useFormStatus=function(){return g.H.useHostTransitionStatus()},oi.version="19.2.3",oi}var M2;function kE(){if(M2)return G1.exports;M2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),G1.exports=OE(),G1.exports}var R2;function ME(){if(R2)return kc;R2=1;var t=TE(),e=Ef(),n=kE();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function g(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function y(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function b(i){if(u(i)!==i)throw Error(s(188))}function f(i){var a=i.alternate;if(!a){if(a=u(i),a===null)throw Error(s(188));return a!==i?null:i}for(var d=i,p=a;;){var A=d.return;if(A===null)break;var N=A.alternate;if(N===null){if(p=A.return,p!==null){d=p;continue}break}if(A.child===N.child){for(N=A.child;N;){if(N===d)return b(A),i;if(N===p)return b(A),a;N=N.sibling}throw Error(s(188))}if(d.return!==p.return)d=A,p=N;else{for(var D=!1,P=A.child;P;){if(P===d){D=!0,d=A,p=N;break}if(P===p){D=!0,p=A,d=N;break}P=P.sibling}if(!D){for(P=N.child;P;){if(P===d){D=!0,d=N,p=A;break}if(P===p){D=!0,p=N,d=A;break}P=P.sibling}if(!D)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?i:a}function w(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=w(i),a!==null)return a;i=i.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function xe(i){return i===null||typeof i!="object"?null:(i=Ee&&i[Ee]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function ke(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case F:return"Profiler";case j:return"StrictMode";case Y:return"Suspense";case $:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case z:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case U:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case X:return a=i.displayName||null,a!==null?a:ke(i.type)||"Memo";case ue:a=i._payload,i=i._init;try{return ke(i(a))}catch{}}return null}var K=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},Be=[],Le=-1;function G(i){return{current:i}}function re(i){0>Le||(i.current=Be[Le],Be[Le]=null,Le--)}function se(i,a){Le++,Be[Le]=i.current,i.current=a}var he=G(null),je=G(null),Se=G(null),Ue=G(null);function Ye(i,a){switch(se(Se,a),se(je,i),se(he,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Yp(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Yp(a),i=Wp(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(he),se(he,i)}function Pe(){re(he),re(je),re(Se)}function cn(i){i.memoizedState!==null&&se(Ue,i);var a=he.current,d=Wp(a,i.type);a!==d&&(se(je,i),se(he,d))}function fn(i){je.current===i&&(re(he),re(je)),Ue.current===i&&(re(Ue),Sc._currentValue=Me)}var Ur,ht;function ai(i){if(Ur===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);Ur=a&&a[1]||"",ht=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+i+ht}var Dn=!1;function Cr(i,a){if(!i||Dn)return"";Dn=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(a){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(we){var ge=we}Reflect.construct(i,[],Ce)}else{try{Ce.call()}catch(we){ge=we}i.call(Ce.prototype)}}else{try{throw Error()}catch(we){ge=we}(Ce=i())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(we){if(we&&ge&&typeof we.stack=="string")return[we.stack,ge.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),D=N[0],P=N[1];if(D&&P){var W=D.split(`
`),fe=P.split(`
`);for(A=p=0;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;for(;A<fe.length&&!fe[A].includes("DetermineComponentFrameRoot");)A++;if(p===W.length||A===fe.length)for(p=W.length-1,A=fe.length-1;1<=p&&0<=A&&W[p]!==fe[A];)A--;for(;1<=p&&0<=A;p--,A--)if(W[p]!==fe[A]){if(p!==1||A!==1)do if(p--,A--,0>A||W[p]!==fe[A]){var _e=`
`+W[p].replace(" at new "," at ");return i.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",i.displayName)),_e}while(1<=p&&0<=A);break}}}finally{Dn=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?ai(d):""}function en(i,a){switch(i.tag){case 26:case 27:case 5:return ai(i.type);case 16:return ai("Lazy");case 13:return i.child!==a&&a!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return Cr(i.type,!1);case 11:return Cr(i.type.render,!1);case 1:return Cr(i.type,!0);case 31:return ai("Activity");default:return""}}function _t(i){try{var a="",d=null;do a+=en(i,d),d=i,i=i.return;while(i);return a}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var st=Object.prototype.hasOwnProperty,Hr=t.unstable_scheduleCallback,He=t.unstable_cancelCallback,Ls=t.unstable_shouldYield,So=t.unstable_requestPaint,tn=t.unstable_now,ka=t.unstable_getCurrentPriorityLevel,Zn=t.unstable_ImmediatePriority,Ma=t.unstable_UserBlockingPriority,hi=t.unstable_NormalPriority,Fn=t.unstable_LowPriority,Ra=t.unstable_IdlePriority,Ps=t.log,Co=t.unstable_setDisableYieldValue,Gt=null,te=null;function Ke(i){if(typeof Ps=="function"&&Co(i),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(Gt,i)}catch{}}var ze=Math.clz32?Math.clz32:Si,kt=Math.log,Kn=Math.LN2;function Si(i){return i>>>=0,i===0?32:31-(kt(i)/Kn|0)|0}var Ui=256,dt=262144,lr=4194304;function Vr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Da(i,a,d){var p=i.pendingLanes;if(p===0)return 0;var A=0,N=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var P=p&134217727;return P!==0?(p=P&~N,p!==0?A=Vr(p):(D&=P,D!==0?A=Vr(D):d||(d=P&~i,d!==0&&(A=Vr(d))))):(P=p&~N,P!==0?A=Vr(P):D!==0?A=Vr(D):d||(d=p&~i,d!==0&&(A=Vr(d)))),A===0?0:a!==0&&a!==A&&(a&N)===0&&(N=A&-A,d=a&-a,N>=d||N===32&&(d&4194048)!==0)?a:A}function ei(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Fl(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var i=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),i}function Gr(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function qr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cr(i,a,d,p,A,N){var D=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var P=i.entanglements,W=i.expirationTimes,fe=i.hiddenUpdates;for(d=D&~d;0<d;){var _e=31-ze(d),Ce=1<<_e;P[_e]=0,W[_e]=-1;var ge=fe[_e];if(ge!==null)for(fe[_e]=null,_e=0;_e<ge.length;_e++){var we=ge[_e];we!==null&&(we.lane&=-536870913)}d&=~Ce}p!==0&&Tu(i,p,0),N!==0&&A===0&&i.tag!==0&&(i.suspendedLanes|=N&~(D&~a))}function Tu(i,a,d){i.pendingLanes|=a,i.suspendedLanes&=~a;var p=31-ze(a);i.entangledLanes|=a,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function Xr(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var p=31-ze(d),A=1<<p;A&a|i[p]&a&&(i[p]|=a),d&=~A}}function No(i,a){var d=a&-a;return d=(d&42)!==0?1:Qn(d),(d&(i.suspendedLanes|a))!==0?0:d}function Qn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Nr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gi(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:p2(i.type))}function Fe(i,a){var d=oe.p;try{return oe.p=i,a()}finally{oe.p=d}}var mi=Math.random().toString(36).slice(2),An="__reactFiber$"+mi,zt="__reactProps$"+mi,Hi="__reactContainer$"+mi,zs="__reactEvents$"+mi,To="__reactListeners$"+mi,ur="__reactHandles$"+mi,Ou="__reactResources$"+mi,ja="__reactMarker$"+mi;function Ci(i){delete i[An],delete i[zt],delete i[zs],delete i[To],delete i[ur]}function xn(i){var a=i[An];if(a)return a;for(var d=i.parentNode;d;){if(a=d[Hi]||d[An]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=t2(i);i!==null;){if(d=i[An])return d;i=t2(i)}return a}i=d,d=i.parentNode}return null}function Mt(i){if(i=i[An]||i[Hi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Fs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function xi(i){var a=i[Ou];return a||(a=i[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pn(i){i[ja]=!0}var Ne=new Set,ku={};function Bt(i,a){Vi(i,a),Vi(i+"Capture",a)}function Vi(i,a){for(ku[i]=a,i=0;i<a.length;i++)Ne.add(a[i])}var qf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ct={},St={};function gt(i){return st.call(St,i)?!0:st.call(Ct,i)?!1:qf.test(i)?St[i]=!0:(Ct[i]=!0,!1)}function Us(i,a,d){if(gt(a))if(d===null)i.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var p=a.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+d)}}function Hs(i,a,d){if(d===null)i.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+d)}}function Gi(i,a,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(a,d,""+p)}}function Nt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Tr(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xf(i,a,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,N=p.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return A.call(this)},set:function(D){d=""+D,N.call(this,D)}}),Object.defineProperty(i,a,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function nn(i){if(!i._valueTracker){var a=Tr(i)?"checked":"value";i._valueTracker=Xf(i,a,""+i[a])}}function Or(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),p="";return i&&(p=Tr(i)?i.checked?"true":"false":i.value),i=p,i!==d?(a.setValue(i),!0):!1}function Oo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Vs=/[\n"\\]/g;function ft(i){return i.replace(Vs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function jn(i,a,d,p,A,N,D,P){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),a!=null?D==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Nt(a)):i.value!==""+Nt(a)&&(i.value=""+Nt(a)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),a!=null?V(i,D,Nt(a)):d!=null?V(i,D,Nt(d)):p!=null&&i.removeAttribute("value"),A==null&&N!=null&&(i.defaultChecked=!!N),A!=null&&(i.checked=A&&typeof A!="function"&&typeof A!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Nt(P):i.removeAttribute("name")}function ce(i,a,d,p,A,N,D,P){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),a!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||a!=null)){nn(i);return}d=d!=null?""+Nt(d):"",a=a!=null?""+Nt(a):d,P||a===i.value||(i.value=a),i.defaultValue=a}p=p??A,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=P?i.checked:!!p,i.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D),nn(i)}function V(i,a,d){a==="number"&&Oo(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function qe(i,a,d,p){if(i=i.options,a){a={};for(var A=0;A<d.length;A++)a["$"+d[A]]=!0;for(d=0;d<i.length;d++)A=a.hasOwnProperty("$"+i[d].value),i[d].selected!==A&&(i[d].selected=A),A&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Nt(d),a=null,A=0;A<i.length;A++){if(i[A].value===d){i[A].selected=!0,p&&(i[A].defaultSelected=!0);return}a!==null||i[A].disabled||(a=i[A])}a!==null&&(a.selected=!0)}}function Sn(i,a,d){if(a!=null&&(a=""+Nt(a),a!==i.value&&(i.value=a),d==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=d!=null?""+Nt(d):""}function pi(i,a,d,p){if(a==null){if(p!=null){if(d!=null)throw Error(s(92));if(K(p)){if(1<p.length)throw Error(s(93));p=p[0]}d=p}d==null&&(d=""),a=d}d=Nt(a),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),nn(i)}function Gs(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var Ul=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bi(i,a,d){var p=a.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":p?i.setProperty(a,d):typeof d!="number"||d===0||Ul.has(a)?a==="float"?i.cssFloat=d:i[a]=(""+d).trim():i[a]=d+"px"}function Ze(i,a,d){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||a!=null&&a.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var A in a)p=a[A],a.hasOwnProperty(A)&&d[A]!==p&&bi(i,A,p)}else for(var N in a)a.hasOwnProperty(N)&&bi(i,N,a[N])}function Wt(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(i){return Yf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ni(){}var Ia=null;function Hl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rn=null,dr=null;function kr(i){var a=Mt(i);if(a&&(i=a.stateNode)){var d=i[zt]||null;e:switch(i=a.stateNode,a.type){case"input":if(jn(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ft(""+a)+'"][type="radio"]'),a=0;a<d.length;a++){var p=d[a];if(p!==i&&p.form===i.form){var A=p[zt]||null;if(!A)throw Error(s(90));jn(p,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(a=0;a<d.length;a++)p=d[a],p.form===i.form&&Or(p)}break e;case"textarea":Sn(i,d.value,d.defaultValue);break e;case"select":a=d.value,a!=null&&qe(i,!!d.multiple,a,!1)}}}var $e=!1;function Ru(i,a,d){if($e)return i(a,d);$e=!0;try{var p=i(a);return p}finally{if($e=!1,(rn!==null||dr!==null)&&(Ed(),rn&&(a=rn,i=dr,dr=rn=null,kr(a),i)))for(a=0;a<i.length;a++)kr(i[a])}}function nt(i,a){var d=i.stateNode;if(d===null)return null;var p=d[zt]||null;if(p===null)return null;d=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(s(231,a,typeof d));return d}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(Zt)try{var os={};Object.defineProperty(os,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Vl=!1}var Mr=null,Rr=null,ko=null;function Xs(){if(ko)return ko;var i,a=Rr,d=a.length,p,A="value"in Mr?Mr.value:Mr.textContent,N=A.length;for(i=0;i<d&&a[i]===A[i];i++);var D=d-i;for(p=1;p<=D&&a[d-p]===A[N-p];p++);return ko=A.slice(i,1<p?1-p:void 0)}function Yr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Wr(){return!0}function Gl(){return!1}function In(i){function a(d,p,A,N,D){this._reactName=d,this._targetInst=A,this.type=p,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(d=i[P],this[P]=d?d(N):N[P]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Wr:Gl,this.isPropagationStopped=Gl,this}return E(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),a}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hn=In(qi),Ys=E({},qi,{view:0,detail:0}),Du=In(Ys),Mo,ql,Ba,Ro=E({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ba&&(Ba&&i.type==="mousemove"?(Mo=i.screenX-Ba.screenX,ql=i.screenY-Ba.screenY):ql=Mo=0,Ba=i),Mo)},movementY:function(i){return"movementY"in i?i.movementY:ql}}),Rt=In(Ro),ju=E({},Ro,{dataTransfer:0}),Do=In(ju),Zr=E({},Ys,{relatedTarget:0}),Xl=In(Zr),be=E({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),lt=In(be),Vn=E({},qi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jo=In(Vn),Iu=E({},qi,{data:0}),Bu=In(Iu),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Yl[i])?!!a[i]:!1}function La(){return Cn}var un=E({},Ys,{key:function(i){if(i.key){var a=Wf[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Yr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(i){return i.type==="keypress"?Yr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Io=In(un),ls=E({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lt=In(ls),Je=E({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),Kf=In(Je),Kt=E({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cs=In(Kt),Ws=E({},Ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qf=In(Ws),fr=E({},qi,{newState:0,oldState:0}),Wl=In(fr),Lu=[9,13,27,32],Pa=Zt&&"CompositionEvent"in window,Zs=null;Zt&&"documentMode"in document&&(Zs=document.documentMode);var Pu=Zt&&"TextEvent"in window&&!Zs,zu=Zt&&(!Pa||Zs&&8<Zs&&11>=Zs),us=" ",Bo=!1;function Fu(i,a){switch(i){case"keyup":return Lu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ks(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qs=!1;function Kr(i,a){switch(i){case"compositionend":return Ks(a);case"keypress":return a.which!==32?null:(Bo=!0,us);case"textInput":return i=a.data,i===us&&Bo?null:i;default:return null}}function Lo(i,a){if(Qs)return i==="compositionend"||!Pa&&Fu(i,a)?(i=Xs(),ko=Rr=Mr=null,Qs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return zu&&a.locale!=="ko"?null:a.data;default:return null}}var Ti={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zl(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ti[i.type]:a==="textarea"}function Xi(i,a,d,p){rn?dr?dr.push(p):dr=[p]:rn=p,a=kd(a,"onChange"),0<a.length&&(d=new Hn("onChange","change",null,d,p),i.push({event:d,listeners:a}))}var za=null,ds=null;function $f(i){Up(i,0)}function Fa(i){var a=Fs(i);if(Or(a))return i}function Yi(i,a){if(i==="change")return a}var Uu=!1;if(Zt){var Ua;if(Zt){var fs="oninput"in document;if(!fs){var yt=document.createElement("div");yt.setAttribute("oninput","return;"),fs=typeof yt.oninput=="function"}Ua=fs}else Ua=!1;Uu=Ua&&(!document.documentMode||9<document.documentMode)}function Ha(){za&&(za.detachEvent("onpropertychange",I),ds=za=null)}function I(i){if(i.propertyName==="value"&&Fa(ds)){var a=[];Xi(a,ds,i,Hl(i)),Ru($f,a)}}function r(i,a,d){i==="focusin"?(Ha(),za=a,ds=d,za.attachEvent("onpropertychange",I)):i==="focusout"&&Ha()}function o(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fa(ds)}function c(i,a){if(i==="click")return Fa(a)}function h(i,a){if(i==="input"||i==="change")return Fa(a)}function x(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var v=typeof Object.is=="function"?Object.is:x;function _(i,a){if(v(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),p=Object.keys(a);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var A=d[p];if(!st.call(a,A)||!v(i[A],a[A]))return!1}return!0}function C(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function T(i,a){var d=C(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=a&&p>=a)return{node:d,offset:a-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=C(d)}}function R(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?R(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function B(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Oo(i.document);a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=Oo(i.document)}return a}function L(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var q=Zt&&"documentMode"in document&&11>=document.documentMode,Q=null,ee=null,le=null,pe=!1;function De(i,a,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;pe||Q==null||Q!==Oo(p)||(p=Q,"selectionStart"in p&&L(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),le&&_(le,p)||(le=p,p=kd(ee,"onSelect"),0<p.length&&(a=new Hn("onSelect","select",null,a,d),i.push({event:a,listeners:p}),a.target=Q)))}function Re(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var Te={animationend:Re("Animation","AnimationEnd"),animationiteration:Re("Animation","AnimationIteration"),animationstart:Re("Animation","AnimationStart"),transitionrun:Re("Transition","TransitionRun"),transitionstart:Re("Transition","TransitionStart"),transitioncancel:Re("Transition","TransitionCancel"),transitionend:Re("Transition","TransitionEnd")},ut={},it={};Zt&&(it=document.createElement("div").style,"AnimationEvent"in window||(delete Te.animationend.animation,delete Te.animationiteration.animation,delete Te.animationstart.animation),"TransitionEvent"in window||delete Te.transitionend.transition);function bn(i){if(ut[i])return ut[i];if(!Te[i])return i;var a=Te[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in it)return ut[i]=a[d];return i}var Oi=bn("animationend"),ti=bn("animationiteration"),Pt=bn("animationstart"),Gn=bn("transitionrun"),yi=bn("transitionstart"),$s=bn("transitioncancel"),hs=bn("transitionend"),Hu=new Map,Kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kl.push("scrollEnd");function Dr(i,a){Hu.set(i,a),Bt(a,[i])}var Vu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},hr=[],Po=0,Jf=0;function Gu(){for(var i=Po,a=Jf=Po=0;a<i;){var d=hr[a];hr[a++]=null;var p=hr[a];hr[a++]=null;var A=hr[a];hr[a++]=null;var N=hr[a];if(hr[a++]=null,p!==null&&A!==null){var D=p.pending;D===null?A.next=A:(A.next=D.next,D.next=A),p.pending=A}N!==0&&_m(d,A,N)}}function qu(i,a,d,p){hr[Po++]=i,hr[Po++]=a,hr[Po++]=d,hr[Po++]=p,Jf|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function eh(i,a,d,p){return qu(i,a,d,p),Xu(i)}function Va(i,a){return qu(i,null,null,a),Xu(i)}function _m(i,a,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var A=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(A=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,A&&a!==null&&(A=31-ze(d),i=N.hiddenUpdates,p=i[A],p===null?i[A]=[a]:p.push(a),a.lane=d|536870912),N):null}function Xu(i){if(50<bc)throw bc=0,c1=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var zo={};function a4(i,a,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(i,a,d,p){return new a4(i,a,d,p)}function th(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gs(i,a){var d=i.alternate;return d===null?(d=Wi(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function Em(i,a){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,a=d.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Yu(i,a,d,p,A,N){var D=0;if(p=i,typeof i=="function")th(i)&&(D=1);else if(typeof i=="string")D=dE(i,d,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=Wi(31,d,a,A),i.elementType=J,i.lanes=N,i;case M:return Ga(d.children,A,N,a);case j:D=8,A|=24;break;case F:return i=Wi(12,d,a,A|2),i.elementType=F,i.lanes=N,i;case Y:return i=Wi(13,d,a,A),i.elementType=Y,i.lanes=N,i;case $:return i=Wi(19,d,a,A),i.elementType=$,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:D=10;break e;case H:D=9;break e;case U:D=11;break e;case X:D=14;break e;case ue:D=16,p=null;break e}D=29,d=Error(s(130,i===null?"null":typeof i,"")),p=null}return a=Wi(D,d,a,A),a.elementType=i,a.type=p,a.lanes=N,a}function Ga(i,a,d,p){return i=Wi(7,i,p,a),i.lanes=d,i}function nh(i,a,d){return i=Wi(6,i,null,a),i.lanes=d,i}function Am(i){var a=Wi(18,null,null,0);return a.stateNode=i,a}function ih(i,a,d){return a=Wi(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Sm=new WeakMap;function gr(i,a){if(typeof i=="object"&&i!==null){var d=Sm.get(i);return d!==void 0?d:(a={value:i,source:a,stack:_t(a)},Sm.set(i,a),a)}return{value:i,source:a,stack:_t(a)}}var Fo=[],Uo=0,Wu=null,Ql=0,mr=[],xr=0,Js=null,Qr=1,$r="";function ms(i,a){Fo[Uo++]=Ql,Fo[Uo++]=Wu,Wu=i,Ql=a}function Cm(i,a,d){mr[xr++]=Qr,mr[xr++]=$r,mr[xr++]=Js,Js=i;var p=Qr;i=$r;var A=32-ze(p)-1;p&=~(1<<A),d+=1;var N=32-ze(a)+A;if(30<N){var D=A-A%5;N=(p&(1<<D)-1).toString(32),p>>=D,A-=D,Qr=1<<32-ze(a)+A|d<<A|p,$r=N+i}else Qr=1<<N|d<<A|p,$r=i}function rh(i){i.return!==null&&(ms(i,1),Cm(i,1,0))}function sh(i){for(;i===Wu;)Wu=Fo[--Uo],Fo[Uo]=null,Ql=Fo[--Uo],Fo[Uo]=null;for(;i===Js;)Js=mr[--xr],mr[xr]=null,$r=mr[--xr],mr[xr]=null,Qr=mr[--xr],mr[xr]=null}function Nm(i,a){mr[xr++]=Qr,mr[xr++]=$r,mr[xr++]=Js,Qr=a.id,$r=a.overflow,Js=i}var ni=null,sn=null,Et=!1,ea=null,pr=!1,ah=Error(s(519));function ta(i){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(gr(a,i)),ah}function Tm(i){var a=i.stateNode,d=i.type,p=i.memoizedProps;switch(a[An]=i,a[zt]=p,d){case"dialog":xt("cancel",a),xt("close",a);break;case"iframe":case"object":case"embed":xt("load",a);break;case"video":case"audio":for(d=0;d<wc.length;d++)xt(wc[d],a);break;case"source":xt("error",a);break;case"img":case"image":case"link":xt("error",a),xt("load",a);break;case"details":xt("toggle",a);break;case"input":xt("invalid",a),ce(a,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":xt("invalid",a);break;case"textarea":xt("invalid",a),pi(a,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||a.textContent===""+d||p.suppressHydrationWarning===!0||qp(a.textContent,d)?(p.popover!=null&&(xt("beforetoggle",a),xt("toggle",a)),p.onScroll!=null&&xt("scroll",a),p.onScrollEnd!=null&&xt("scrollend",a),p.onClick!=null&&(a.onclick=Ni),a=!0):a=!1,a||ta(i,!0)}function Om(i){for(ni=i.return;ni;)switch(ni.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:ni=ni.return}}function Ho(i){if(i!==ni)return!1;if(!Et)return Om(i),Et=!0,!1;var a=i.tag,d;if((d=a!==3&&a!==27)&&((d=a===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||A1(i.type,i.memoizedProps)),d=!d),d&&sn&&ta(i),Om(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));sn=e2(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));sn=e2(i)}else a===27?(a=sn,ma(i.type)?(i=O1,O1=null,sn=i):sn=a):sn=ni?yr(i.stateNode.nextSibling):null;return!0}function qa(){sn=ni=null,Et=!1}function oh(){var i=ea;return i!==null&&(Di===null?Di=i:Di.push.apply(Di,i),ea=null),i}function $l(i){ea===null?ea=[i]:ea.push(i)}var lh=G(null),Xa=null,xs=null;function na(i,a,d){se(lh,a._currentValue),a._currentValue=d}function ps(i){i._currentValue=lh.current,re(lh)}function ch(i,a,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===d)break;i=i.return}}function uh(i,a,d,p){var A=i.child;for(A!==null&&(A.return=i);A!==null;){var N=A.dependencies;if(N!==null){var D=A.child;N=N.firstContext;e:for(;N!==null;){var P=N;N=A;for(var W=0;W<a.length;W++)if(P.context===a[W]){N.lanes|=d,P=N.alternate,P!==null&&(P.lanes|=d),ch(N.return,d,i),p||(D=null);break e}N=P.next}}else if(A.tag===18){if(D=A.return,D===null)throw Error(s(341));D.lanes|=d,N=D.alternate,N!==null&&(N.lanes|=d),ch(D,d,i),D=null}else D=A.child;if(D!==null)D.return=A;else for(D=A;D!==null;){if(D===i){D=null;break}if(A=D.sibling,A!==null){A.return=D.return,D=A;break}D=D.return}A=D}}function Vo(i,a,d,p){i=null;for(var A=a,N=!1;A!==null;){if(!N){if((A.flags&524288)!==0)N=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var D=A.alternate;if(D===null)throw Error(s(387));if(D=D.memoizedProps,D!==null){var P=A.type;v(A.pendingProps.value,D.value)||(i!==null?i.push(P):i=[P])}}else if(A===Ue.current){if(D=A.alternate,D===null)throw Error(s(387));D.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(i!==null?i.push(Sc):i=[Sc])}A=A.return}i!==null&&uh(a,i,d,p),a.flags|=262144}function Zu(i){for(i=i.firstContext;i!==null;){if(!v(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ya(i){Xa=i,xs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ii(i){return km(Xa,i)}function Ku(i,a){return Xa===null&&Ya(i),km(i,a)}function km(i,a){var d=a._currentValue;if(a={context:a,memoizedValue:d,next:null},xs===null){if(i===null)throw Error(s(308));xs=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else xs=xs.next=a;return d}var o4=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){a.aborted=!0,i.forEach(function(d){return d()})}},l4=t.unstable_scheduleCallback,c4=t.unstable_NormalPriority,Bn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dh(){return{controller:new o4,data:new Map,refCount:0}}function Jl(i){i.refCount--,i.refCount===0&&l4(c4,function(){i.controller.abort()})}var ec=null,fh=0,Go=0,qo=null;function u4(i,a){if(ec===null){var d=ec=[];fh=0,Go=m1(),qo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return fh++,a.then(Mm,Mm),a}function Mm(){if(--fh===0&&ec!==null){qo!==null&&(qo.status="fulfilled");var i=ec;ec=null,Go=0,qo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function d4(i,a){var d=[],p={status:"pending",value:null,reason:null,then:function(A){d.push(A)}};return i.then(function(){p.status="fulfilled",p.value=a;for(var A=0;A<d.length;A++)(0,d[A])(a)},function(A){for(p.status="rejected",p.reason=A,A=0;A<d.length;A++)(0,d[A])(void 0)}),p}var Rm=Z.S;Z.S=function(i,a){mp=tn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&u4(i,a),Rm!==null&&Rm(i,a)};var Wa=G(null);function hh(){var i=Wa.current;return i!==null?i:Qt.pooledCache}function Qu(i,a){a===null?se(Wa,Wa.current):se(Wa,a.pool)}function Dm(){var i=hh();return i===null?null:{parent:Bn._currentValue,pool:i}}var Xo=Error(s(460)),gh=Error(s(474)),$u=Error(s(542)),Ju={then:function(){}};function jm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Im(i,a,d){switch(d=i[d],d===void 0?i.push(a):d!==a&&(a.then(Ni,Ni),a=d),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Lm(i),i;default:if(typeof a.status=="string")a.then(Ni,Ni);else{if(i=Qt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(p){if(a.status==="pending"){var A=a;A.status="fulfilled",A.value=p}},function(p){if(a.status==="pending"){var A=a;A.status="rejected",A.reason=p}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Lm(i),i}throw Ka=a,Xo}}function Za(i){try{var a=i._init;return a(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ka=d,Xo):d}}var Ka=null;function Bm(){if(Ka===null)throw Error(s(459));var i=Ka;return Ka=null,i}function Lm(i){if(i===Xo||i===$u)throw Error(s(483))}var Yo=null,tc=0;function ed(i){var a=tc;return tc+=1,Yo===null&&(Yo=[]),Im(Yo,i,a)}function nc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function td(i,a){throw a.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Pm(i){function a(ae,ie){if(i){var de=ae.deletions;de===null?(ae.deletions=[ie],ae.flags|=16):de.push(ie)}}function d(ae,ie){if(!i)return null;for(;ie!==null;)a(ae,ie),ie=ie.sibling;return null}function p(ae){for(var ie=new Map;ae!==null;)ae.key!==null?ie.set(ae.key,ae):ie.set(ae.index,ae),ae=ae.sibling;return ie}function A(ae,ie){return ae=gs(ae,ie),ae.index=0,ae.sibling=null,ae}function N(ae,ie,de){return ae.index=de,i?(de=ae.alternate,de!==null?(de=de.index,de<ie?(ae.flags|=67108866,ie):de):(ae.flags|=67108866,ie)):(ae.flags|=1048576,ie)}function D(ae){return i&&ae.alternate===null&&(ae.flags|=67108866),ae}function P(ae,ie,de,Ae){return ie===null||ie.tag!==6?(ie=nh(de,ae.mode,Ae),ie.return=ae,ie):(ie=A(ie,de),ie.return=ae,ie)}function W(ae,ie,de,Ae){var Qe=de.type;return Qe===M?_e(ae,ie,de.props.children,Ae,de.key):ie!==null&&(ie.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ue&&Za(Qe)===ie.type)?(ie=A(ie,de.props),nc(ie,de),ie.return=ae,ie):(ie=Yu(de.type,de.key,de.props,null,ae.mode,Ae),nc(ie,de),ie.return=ae,ie)}function fe(ae,ie,de,Ae){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=ih(de,ae.mode,Ae),ie.return=ae,ie):(ie=A(ie,de.children||[]),ie.return=ae,ie)}function _e(ae,ie,de,Ae,Qe){return ie===null||ie.tag!==7?(ie=Ga(de,ae.mode,Ae,Qe),ie.return=ae,ie):(ie=A(ie,de),ie.return=ae,ie)}function Ce(ae,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=nh(""+ie,ae.mode,de),ie.return=ae,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return de=Yu(ie.type,ie.key,ie.props,null,ae.mode,de),nc(de,ie),de.return=ae,de;case k:return ie=ih(ie,ae.mode,de),ie.return=ae,ie;case ue:return ie=Za(ie),Ce(ae,ie,de)}if(K(ie)||xe(ie))return ie=Ga(ie,ae.mode,de,null),ie.return=ae,ie;if(typeof ie.then=="function")return Ce(ae,ed(ie),de);if(ie.$$typeof===z)return Ce(ae,Ku(ae,ie),de);td(ae,ie)}return null}function ge(ae,ie,de,Ae){var Qe=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Qe!==null?null:P(ae,ie,""+de,Ae);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case O:return de.key===Qe?W(ae,ie,de,Ae):null;case k:return de.key===Qe?fe(ae,ie,de,Ae):null;case ue:return de=Za(de),ge(ae,ie,de,Ae)}if(K(de)||xe(de))return Qe!==null?null:_e(ae,ie,de,Ae,null);if(typeof de.then=="function")return ge(ae,ie,ed(de),Ae);if(de.$$typeof===z)return ge(ae,ie,Ku(ae,de),Ae);td(ae,de)}return null}function we(ae,ie,de,Ae,Qe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ae=ae.get(de)||null,P(ie,ae,""+Ae,Qe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case O:return ae=ae.get(Ae.key===null?de:Ae.key)||null,W(ie,ae,Ae,Qe);case k:return ae=ae.get(Ae.key===null?de:Ae.key)||null,fe(ie,ae,Ae,Qe);case ue:return Ae=Za(Ae),we(ae,ie,de,Ae,Qe)}if(K(Ae)||xe(Ae))return ae=ae.get(de)||null,_e(ie,ae,Ae,Qe,null);if(typeof Ae.then=="function")return we(ae,ie,de,ed(Ae),Qe);if(Ae.$$typeof===z)return we(ae,ie,de,Ku(ie,Ae),Qe);td(ie,Ae)}return null}function Ge(ae,ie,de,Ae){for(var Qe=null,Tt=null,Xe=ie,ct=ie=0,vt=null;Xe!==null&&ct<de.length;ct++){Xe.index>ct?(vt=Xe,Xe=null):vt=Xe.sibling;var Ot=ge(ae,Xe,de[ct],Ae);if(Ot===null){Xe===null&&(Xe=vt);break}i&&Xe&&Ot.alternate===null&&a(ae,Xe),ie=N(Ot,ie,ct),Tt===null?Qe=Ot:Tt.sibling=Ot,Tt=Ot,Xe=vt}if(ct===de.length)return d(ae,Xe),Et&&ms(ae,ct),Qe;if(Xe===null){for(;ct<de.length;ct++)Xe=Ce(ae,de[ct],Ae),Xe!==null&&(ie=N(Xe,ie,ct),Tt===null?Qe=Xe:Tt.sibling=Xe,Tt=Xe);return Et&&ms(ae,ct),Qe}for(Xe=p(Xe);ct<de.length;ct++)vt=we(Xe,ae,ct,de[ct],Ae),vt!==null&&(i&&vt.alternate!==null&&Xe.delete(vt.key===null?ct:vt.key),ie=N(vt,ie,ct),Tt===null?Qe=vt:Tt.sibling=vt,Tt=vt);return i&&Xe.forEach(function(wa){return a(ae,wa)}),Et&&ms(ae,ct),Qe}function et(ae,ie,de,Ae){if(de==null)throw Error(s(151));for(var Qe=null,Tt=null,Xe=ie,ct=ie=0,vt=null,Ot=de.next();Xe!==null&&!Ot.done;ct++,Ot=de.next()){Xe.index>ct?(vt=Xe,Xe=null):vt=Xe.sibling;var wa=ge(ae,Xe,Ot.value,Ae);if(wa===null){Xe===null&&(Xe=vt);break}i&&Xe&&wa.alternate===null&&a(ae,Xe),ie=N(wa,ie,ct),Tt===null?Qe=wa:Tt.sibling=wa,Tt=wa,Xe=vt}if(Ot.done)return d(ae,Xe),Et&&ms(ae,ct),Qe;if(Xe===null){for(;!Ot.done;ct++,Ot=de.next())Ot=Ce(ae,Ot.value,Ae),Ot!==null&&(ie=N(Ot,ie,ct),Tt===null?Qe=Ot:Tt.sibling=Ot,Tt=Ot);return Et&&ms(ae,ct),Qe}for(Xe=p(Xe);!Ot.done;ct++,Ot=de.next())Ot=we(Xe,ae,ct,Ot.value,Ae),Ot!==null&&(i&&Ot.alternate!==null&&Xe.delete(Ot.key===null?ct:Ot.key),ie=N(Ot,ie,ct),Tt===null?Qe=Ot:Tt.sibling=Ot,Tt=Ot);return i&&Xe.forEach(function(_E){return a(ae,_E)}),Et&&ms(ae,ct),Qe}function Yt(ae,ie,de,Ae){if(typeof de=="object"&&de!==null&&de.type===M&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case O:e:{for(var Qe=de.key;ie!==null;){if(ie.key===Qe){if(Qe=de.type,Qe===M){if(ie.tag===7){d(ae,ie.sibling),Ae=A(ie,de.props.children),Ae.return=ae,ae=Ae;break e}}else if(ie.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ue&&Za(Qe)===ie.type){d(ae,ie.sibling),Ae=A(ie,de.props),nc(Ae,de),Ae.return=ae,ae=Ae;break e}d(ae,ie);break}else a(ae,ie);ie=ie.sibling}de.type===M?(Ae=Ga(de.props.children,ae.mode,Ae,de.key),Ae.return=ae,ae=Ae):(Ae=Yu(de.type,de.key,de.props,null,ae.mode,Ae),nc(Ae,de),Ae.return=ae,ae=Ae)}return D(ae);case k:e:{for(Qe=de.key;ie!==null;){if(ie.key===Qe)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){d(ae,ie.sibling),Ae=A(ie,de.children||[]),Ae.return=ae,ae=Ae;break e}else{d(ae,ie);break}else a(ae,ie);ie=ie.sibling}Ae=ih(de,ae.mode,Ae),Ae.return=ae,ae=Ae}return D(ae);case ue:return de=Za(de),Yt(ae,ie,de,Ae)}if(K(de))return Ge(ae,ie,de,Ae);if(xe(de)){if(Qe=xe(de),typeof Qe!="function")throw Error(s(150));return de=Qe.call(de),et(ae,ie,de,Ae)}if(typeof de.then=="function")return Yt(ae,ie,ed(de),Ae);if(de.$$typeof===z)return Yt(ae,ie,Ku(ae,de),Ae);td(ae,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ie!==null&&ie.tag===6?(d(ae,ie.sibling),Ae=A(ie,de),Ae.return=ae,ae=Ae):(d(ae,ie),Ae=nh(de,ae.mode,Ae),Ae.return=ae,ae=Ae),D(ae)):d(ae,ie)}return function(ae,ie,de,Ae){try{tc=0;var Qe=Yt(ae,ie,de,Ae);return Yo=null,Qe}catch(Xe){if(Xe===Xo||Xe===$u)throw Xe;var Tt=Wi(29,Xe,null,ae.mode);return Tt.lanes=Ae,Tt.return=ae,Tt}}}var Qa=Pm(!0),zm=Pm(!1),ia=!1;function mh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ra(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sa(i,a,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Dt&2)!==0){var A=p.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),p.pending=a,a=Xu(i),_m(i,null,d),a}return qu(i,p,a,d),Xu(i)}function ic(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194048)!==0)){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,Xr(i,d)}}function ph(i,a){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var A=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?A=N=D:N=N.next=D,d=d.next}while(d!==null);N===null?A=N=a:N=N.next=a}else A=N=a;d={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}var bh=!1;function rc(){if(bh){var i=qo;if(i!==null)throw i}}function sc(i,a,d,p){bh=!1;var A=i.updateQueue;ia=!1;var N=A.firstBaseUpdate,D=A.lastBaseUpdate,P=A.shared.pending;if(P!==null){A.shared.pending=null;var W=P,fe=W.next;W.next=null,D===null?N=fe:D.next=fe,D=W;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,P=_e.lastBaseUpdate,P!==D&&(P===null?_e.firstBaseUpdate=fe:P.next=fe,_e.lastBaseUpdate=W))}if(N!==null){var Ce=A.baseState;D=0,_e=fe=W=null,P=N;do{var ge=P.lane&-536870913,we=ge!==P.lane;if(we?(wt&ge)===ge:(p&ge)===ge){ge!==0&&ge===Go&&(bh=!0),_e!==null&&(_e=_e.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ge=i,et=P;ge=a;var Yt=d;switch(et.tag){case 1:if(Ge=et.payload,typeof Ge=="function"){Ce=Ge.call(Yt,Ce,ge);break e}Ce=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=et.payload,ge=typeof Ge=="function"?Ge.call(Yt,Ce,ge):Ge,ge==null)break e;Ce=E({},Ce,ge);break e;case 2:ia=!0}}ge=P.callback,ge!==null&&(i.flags|=64,we&&(i.flags|=8192),we=A.callbacks,we===null?A.callbacks=[ge]:we.push(ge))}else we={lane:ge,tag:P.tag,payload:P.payload,callback:P.callback,next:null},_e===null?(fe=_e=we,W=Ce):_e=_e.next=we,D|=ge;if(P=P.next,P===null){if(P=A.shared.pending,P===null)break;we=P,P=we.next,we.next=null,A.lastBaseUpdate=we,A.shared.pending=null}}while(!0);_e===null&&(W=Ce),A.baseState=W,A.firstBaseUpdate=fe,A.lastBaseUpdate=_e,N===null&&(A.shared.lanes=0),ua|=D,i.lanes=D,i.memoizedState=Ce}}function Fm(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function Um(i,a){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)Fm(d[i],a)}var Wo=G(null),nd=G(0);function Hm(i,a){i=Cs,se(nd,i),se(Wo,a),Cs=i|a.baseLanes}function yh(){se(nd,Cs),se(Wo,Wo.current)}function wh(){Cs=nd.current,re(Wo),re(nd)}var Zi=G(null),br=null;function aa(i){var a=i.alternate;se(Nn,Nn.current&1),se(Zi,i),br===null&&(a===null||Wo.current!==null||a.memoizedState!==null)&&(br=i)}function vh(i){se(Nn,Nn.current),se(Zi,i),br===null&&(br=i)}function Vm(i){i.tag===22?(se(Nn,Nn.current),se(Zi,i),br===null&&(br=i)):oa()}function oa(){se(Nn,Nn.current),se(Zi,Zi.current)}function Ki(i){re(Zi),br===i&&(br=null),re(Nn)}var Nn=G(0);function id(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||N1(d)||T1(d)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bs=0,at=null,qt=null,Ln=null,rd=!1,Zo=!1,$a=!1,sd=0,ac=0,Ko=null,f4=0;function yn(){throw Error(s(321))}function _h(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!v(i[d],a[d]))return!1;return!0}function Eh(i,a,d,p,A,N){return bs=N,at=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=i===null||i.memoizedState===null?Cx:Ph,$a=!1,N=d(p,A),$a=!1,Zo&&(N=qm(a,d,p,A)),Gm(i),N}function Gm(i){Z.H=cc;var a=qt!==null&&qt.next!==null;if(bs=0,Ln=qt=at=null,rd=!1,ac=0,Ko=null,a)throw Error(s(300));i===null||Pn||(i=i.dependencies,i!==null&&Zu(i)&&(Pn=!0))}function qm(i,a,d,p){at=i;var A=0;do{if(Zo&&(Ko=null),ac=0,Zo=!1,25<=A)throw Error(s(301));if(A+=1,Ln=qt=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Z.H=Nx,N=a(d,p)}while(Zo);return N}function h4(){var i=Z.H,a=i.useState()[0];return a=typeof a.then=="function"?oc(a):a,i=i.useState()[0],(qt!==null?qt.memoizedState:null)!==i&&(at.flags|=1024),a}function Ah(){var i=sd!==0;return sd=0,i}function Sh(i,a,d){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~d}function Ch(i){if(rd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}rd=!1}bs=0,Ln=qt=at=null,Zo=!1,ac=sd=0,Ko=null}function wi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?at.memoizedState=Ln=i:Ln=Ln.next=i,Ln}function Tn(){if(qt===null){var i=at.alternate;i=i!==null?i.memoizedState:null}else i=qt.next;var a=Ln===null?at.memoizedState:Ln.next;if(a!==null)Ln=a,qt=i;else{if(i===null)throw at.alternate===null?Error(s(467)):Error(s(310));qt=i,i={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Ln===null?at.memoizedState=Ln=i:Ln=Ln.next=i}return Ln}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(i){var a=ac;return ac+=1,Ko===null&&(Ko=[]),i=Im(Ko,i,a),a=at,(Ln===null?a.memoizedState:Ln.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?Cx:Ph),i}function od(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return oc(i);if(i.$$typeof===z)return ii(i)}throw Error(s(438,String(i)))}function Nh(i){var a=null,d=at.updateQueue;if(d!==null&&(a=d.memoCache),a==null){var p=at.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(a={data:p.data.map(function(A){return A.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),d===null&&(d=ad(),at.updateQueue=d),d.memoCache=a,d=a.data[a.index],d===void 0)for(d=a.data[a.index]=Array(i),p=0;p<i;p++)d[p]=Oe;return a.index++,d}function ys(i,a){return typeof a=="function"?a(i):a}function ld(i){var a=Tn();return Th(a,qt,i)}function Th(i,a,d){var p=i.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=d;var A=i.baseQueue,N=p.pending;if(N!==null){if(A!==null){var D=A.next;A.next=N.next,N.next=D}a.baseQueue=A=N,p.pending=null}if(N=i.baseState,A===null)i.memoizedState=N;else{a=A.next;var P=D=null,W=null,fe=a,_e=!1;do{var Ce=fe.lane&-536870913;if(Ce!==fe.lane?(wt&Ce)===Ce:(bs&Ce)===Ce){var ge=fe.revertLane;if(ge===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ce===Go&&(_e=!0);else if((bs&ge)===ge){fe=fe.next,ge===Go&&(_e=!0);continue}else Ce={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},W===null?(P=W=Ce,D=N):W=W.next=Ce,at.lanes|=ge,ua|=ge;Ce=fe.action,$a&&d(N,Ce),N=fe.hasEagerState?fe.eagerState:d(N,Ce)}else ge={lane:Ce,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},W===null?(P=W=ge,D=N):W=W.next=ge,at.lanes|=Ce,ua|=Ce;fe=fe.next}while(fe!==null&&fe!==a);if(W===null?D=N:W.next=P,!v(N,i.memoizedState)&&(Pn=!0,_e&&(d=qo,d!==null)))throw d;i.memoizedState=N,i.baseState=D,i.baseQueue=W,p.lastRenderedState=N}return A===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Oh(i){var a=Tn(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=i;var p=d.dispatch,A=d.pending,N=a.memoizedState;if(A!==null){d.pending=null;var D=A=A.next;do N=i(N,D.action),D=D.next;while(D!==A);v(N,a.memoizedState)||(Pn=!0),a.memoizedState=N,a.baseQueue===null&&(a.baseState=N),d.lastRenderedState=N}return[N,p]}function Xm(i,a,d){var p=at,A=Tn(),N=Et;if(N){if(d===void 0)throw Error(s(407));d=d()}else d=a();var D=!v((qt||A).memoizedState,d);if(D&&(A.memoizedState=d,Pn=!0),A=A.queue,Rh(Zm.bind(null,p,A,i),[i]),A.getSnapshot!==a||D||Ln!==null&&Ln.memoizedState.tag&1){if(p.flags|=2048,Qo(9,{destroy:void 0},Wm.bind(null,p,A,d,a),null),Qt===null)throw Error(s(349));N||(bs&127)!==0||Ym(p,a,d)}return d}function Ym(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=at.updateQueue,a===null?(a=ad(),at.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function Wm(i,a,d,p){a.value=d,a.getSnapshot=p,Km(a)&&Qm(i)}function Zm(i,a,d){return d(function(){Km(a)&&Qm(i)})}function Km(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!v(i,d)}catch{return!0}}function Qm(i){var a=Va(i,2);a!==null&&ji(a,i,2)}function kh(i){var a=wi();if(typeof i=="function"){var d=i;if(i=d(),$a){Ke(!0);try{d()}finally{Ke(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},a}function $m(i,a,d,p){return i.baseState=d,Th(i,qt,typeof p=="function"?p:ys)}function g4(i,a,d,p,A){if(dd(i))throw Error(s(485));if(i=a.action,i!==null){var N={payload:A,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};Z.T!==null?d(!0):N.isTransition=!1,p(N),d=a.pending,d===null?(N.next=a.pending=N,Jm(a,N)):(N.next=d.next,a.pending=d.next=N)}}function Jm(i,a){var d=a.action,p=a.payload,A=i.state;if(a.isTransition){var N=Z.T,D={};Z.T=D;try{var P=d(A,p),W=Z.S;W!==null&&W(D,P),ex(i,a,P)}catch(fe){Mh(i,a,fe)}finally{N!==null&&D.types!==null&&(N.types=D.types),Z.T=N}}else try{N=d(A,p),ex(i,a,N)}catch(fe){Mh(i,a,fe)}}function ex(i,a,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){tx(i,a,p)},function(p){return Mh(i,a,p)}):tx(i,a,d)}function tx(i,a,d){a.status="fulfilled",a.value=d,nx(a),i.state=d,a=i.pending,a!==null&&(d=a.next,d===a?i.pending=null:(d=d.next,a.next=d,Jm(i,d)))}function Mh(i,a,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do a.status="rejected",a.reason=d,nx(a),a=a.next;while(a!==p)}i.action=null}function nx(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function ix(i,a){return a}function rx(i,a){if(Et){var d=Qt.formState;if(d!==null){e:{var p=at;if(Et){if(sn){t:{for(var A=sn,N=pr;A.nodeType!==8;){if(!N){A=null;break t}if(A=yr(A.nextSibling),A===null){A=null;break t}}N=A.data,A=N==="F!"||N==="F"?A:null}if(A){sn=yr(A.nextSibling),p=A.data==="F!";break e}}ta(p)}p=!1}p&&(a=d[0])}}return d=wi(),d.memoizedState=d.baseState=a,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ix,lastRenderedState:a},d.queue=p,d=Ex.bind(null,at,p),p.dispatch=d,p=kh(!1),N=Lh.bind(null,at,!1,p.queue),p=wi(),A={state:a,dispatch:null,action:i,pending:null},p.queue=A,d=g4.bind(null,at,A,N,d),A.dispatch=d,p.memoizedState=i,[a,d,!1]}function sx(i){var a=Tn();return ax(a,qt,i)}function ax(i,a,d){if(a=Th(i,a,ix)[0],i=ld(ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var p=oc(a)}catch(D){throw D===Xo?$u:D}else p=a;a=Tn();var A=a.queue,N=A.dispatch;return d!==a.memoizedState&&(at.flags|=2048,Qo(9,{destroy:void 0},m4.bind(null,A,d),null)),[p,N,i]}function m4(i,a){i.action=a}function ox(i){var a=Tn(),d=qt;if(d!==null)return ax(a,d,i);Tn(),a=a.memoizedState,d=Tn();var p=d.queue.dispatch;return d.memoizedState=i,[a,p,!1]}function Qo(i,a,d,p){return i={tag:i,create:d,deps:p,inst:a,next:null},a=at.updateQueue,a===null&&(a=ad(),at.updateQueue=a),d=a.lastEffect,d===null?a.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,a.lastEffect=i),i}function lx(){return Tn().memoizedState}function cd(i,a,d,p){var A=wi();at.flags|=i,A.memoizedState=Qo(1|a,{destroy:void 0},d,p===void 0?null:p)}function ud(i,a,d,p){var A=Tn();p=p===void 0?null:p;var N=A.memoizedState.inst;qt!==null&&p!==null&&_h(p,qt.memoizedState.deps)?A.memoizedState=Qo(a,N,d,p):(at.flags|=i,A.memoizedState=Qo(1|a,N,d,p))}function cx(i,a){cd(8390656,8,i,a)}function Rh(i,a){ud(2048,8,i,a)}function x4(i){at.flags|=4;var a=at.updateQueue;if(a===null)a=ad(),at.updateQueue=a,a.events=[i];else{var d=a.events;d===null?a.events=[i]:d.push(i)}}function ux(i){var a=Tn().memoizedState;return x4({ref:a,nextImpl:i}),function(){if((Dt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function dx(i,a){return ud(4,2,i,a)}function fx(i,a){return ud(4,4,i,a)}function hx(i,a){if(typeof a=="function"){i=i();var d=a(i);return function(){typeof d=="function"?d():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function gx(i,a,d){d=d!=null?d.concat([i]):null,ud(4,4,hx.bind(null,a,i),d)}function Dh(){}function mx(i,a){var d=Tn();a=a===void 0?null:a;var p=d.memoizedState;return a!==null&&_h(a,p[1])?p[0]:(d.memoizedState=[i,a],i)}function xx(i,a){var d=Tn();a=a===void 0?null:a;var p=d.memoizedState;if(a!==null&&_h(a,p[1]))return p[0];if(p=i(),$a){Ke(!0);try{i()}finally{Ke(!1)}}return d.memoizedState=[p,a],p}function jh(i,a,d){return d===void 0||(bs&1073741824)!==0&&(wt&261930)===0?i.memoizedState=a:(i.memoizedState=d,i=pp(),at.lanes|=i,ua|=i,d)}function px(i,a,d,p){return v(d,a)?d:Wo.current!==null?(i=jh(i,d,p),v(i,a)||(Pn=!0),i):(bs&42)===0||(bs&1073741824)!==0&&(wt&261930)===0?(Pn=!0,i.memoizedState=d):(i=pp(),at.lanes|=i,ua|=i,a)}function bx(i,a,d,p,A){var N=oe.p;oe.p=N!==0&&8>N?N:8;var D=Z.T,P={};Z.T=P,Lh(i,!1,a,d);try{var W=A(),fe=Z.S;if(fe!==null&&fe(P,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var _e=d4(W,p);lc(i,a,_e,Ji(i))}else lc(i,a,p,Ji(i))}catch(Ce){lc(i,a,{then:function(){},status:"rejected",reason:Ce},Ji())}finally{oe.p=N,D!==null&&P.types!==null&&(D.types=P.types),Z.T=D}}function p4(){}function Ih(i,a,d,p){if(i.tag!==5)throw Error(s(476));var A=yx(i).queue;bx(i,A,a,Me,d===null?p4:function(){return wx(i),d(p)})}function yx(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:Me},next:null};var d={};return a.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:d},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function wx(i){var a=yx(i);a.next===null&&(a=i.alternate.memoizedState),lc(i,a.next.queue,{},Ji())}function Bh(){return ii(Sc)}function vx(){return Tn().memoizedState}function _x(){return Tn().memoizedState}function b4(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var d=Ji();i=ra(d);var p=sa(a,i,d);p!==null&&(ji(p,a,d),ic(p,a,d)),a={cache:dh()},i.payload=a;return}a=a.return}}function y4(i,a,d){var p=Ji();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},dd(i)?Ax(a,d):(d=eh(i,a,d,p),d!==null&&(ji(d,i,p),Sx(d,a,p)))}function Ex(i,a,d){var p=Ji();lc(i,a,d,p)}function lc(i,a,d,p){var A={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(dd(i))Ax(a,A);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=a.lastRenderedReducer,N!==null))try{var D=a.lastRenderedState,P=N(D,d);if(A.hasEagerState=!0,A.eagerState=P,v(P,D))return qu(i,a,A,0),Qt===null&&Gu(),!1}catch{}if(d=eh(i,a,A,p),d!==null)return ji(d,i,p),Sx(d,a,p),!0}return!1}function Lh(i,a,d,p){if(p={lane:2,revertLane:m1(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},dd(i)){if(a)throw Error(s(479))}else a=eh(i,d,p,2),a!==null&&ji(a,i,2)}function dd(i){var a=i.alternate;return i===at||a!==null&&a===at}function Ax(i,a){Zo=rd=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function Sx(i,a,d){if((d&4194048)!==0){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,Xr(i,d)}}var cc={readContext:ii,use:od,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};cc.useEffectEvent=yn;var Cx={readContext:ii,use:od,useCallback:function(i,a){return wi().memoizedState=[i,a===void 0?null:a],i},useContext:ii,useEffect:cx,useImperativeHandle:function(i,a,d){d=d!=null?d.concat([i]):null,cd(4194308,4,hx.bind(null,a,i),d)},useLayoutEffect:function(i,a){return cd(4194308,4,i,a)},useInsertionEffect:function(i,a){cd(4,2,i,a)},useMemo:function(i,a){var d=wi();a=a===void 0?null:a;var p=i();if($a){Ke(!0);try{i()}finally{Ke(!1)}}return d.memoizedState=[p,a],p},useReducer:function(i,a,d){var p=wi();if(d!==void 0){var A=d(a);if($a){Ke(!0);try{d(a)}finally{Ke(!1)}}}else A=a;return p.memoizedState=p.baseState=A,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:A},p.queue=i,i=i.dispatch=y4.bind(null,at,i),[p.memoizedState,i]},useRef:function(i){var a=wi();return i={current:i},a.memoizedState=i},useState:function(i){i=kh(i);var a=i.queue,d=Ex.bind(null,at,a);return a.dispatch=d,[i.memoizedState,d]},useDebugValue:Dh,useDeferredValue:function(i,a){var d=wi();return jh(d,i,a)},useTransition:function(){var i=kh(!1);return i=bx.bind(null,at,i.queue,!0,!1),wi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,d){var p=at,A=wi();if(Et){if(d===void 0)throw Error(s(407));d=d()}else{if(d=a(),Qt===null)throw Error(s(349));(wt&127)!==0||Ym(p,a,d)}A.memoizedState=d;var N={value:d,getSnapshot:a};return A.queue=N,cx(Zm.bind(null,p,N,i),[i]),p.flags|=2048,Qo(9,{destroy:void 0},Wm.bind(null,p,N,d,a),null),d},useId:function(){var i=wi(),a=Qt.identifierPrefix;if(Et){var d=$r,p=Qr;d=(p&~(1<<32-ze(p)-1)).toString(32)+d,a="_"+a+"R_"+d,d=sd++,0<d&&(a+="H"+d.toString(32)),a+="_"}else d=f4++,a="_"+a+"r_"+d.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Bh,useFormState:rx,useActionState:rx,useOptimistic:function(i){var a=wi();a.memoizedState=a.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=d,a=Lh.bind(null,at,!0,d),d.dispatch=a,[i,a]},useMemoCache:Nh,useCacheRefresh:function(){return wi().memoizedState=b4.bind(null,at)},useEffectEvent:function(i){var a=wi(),d={impl:i};return a.memoizedState=d,function(){if((Dt&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},Ph={readContext:ii,use:od,useCallback:mx,useContext:ii,useEffect:Rh,useImperativeHandle:gx,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:xx,useReducer:ld,useRef:lx,useState:function(){return ld(ys)},useDebugValue:Dh,useDeferredValue:function(i,a){var d=Tn();return px(d,qt.memoizedState,i,a)},useTransition:function(){var i=ld(ys)[0],a=Tn().memoizedState;return[typeof i=="boolean"?i:oc(i),a]},useSyncExternalStore:Xm,useId:vx,useHostTransitionStatus:Bh,useFormState:sx,useActionState:sx,useOptimistic:function(i,a){var d=Tn();return $m(d,qt,i,a)},useMemoCache:Nh,useCacheRefresh:_x};Ph.useEffectEvent=ux;var Nx={readContext:ii,use:od,useCallback:mx,useContext:ii,useEffect:Rh,useImperativeHandle:gx,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:xx,useReducer:Oh,useRef:lx,useState:function(){return Oh(ys)},useDebugValue:Dh,useDeferredValue:function(i,a){var d=Tn();return qt===null?jh(d,i,a):px(d,qt.memoizedState,i,a)},useTransition:function(){var i=Oh(ys)[0],a=Tn().memoizedState;return[typeof i=="boolean"?i:oc(i),a]},useSyncExternalStore:Xm,useId:vx,useHostTransitionStatus:Bh,useFormState:ox,useActionState:ox,useOptimistic:function(i,a){var d=Tn();return qt!==null?$m(d,qt,i,a):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:_x};Nx.useEffectEvent=ux;function zh(i,a,d,p){a=i.memoizedState,d=d(p,a),d=d==null?a:E({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Fh={enqueueSetState:function(i,a,d){i=i._reactInternals;var p=Ji(),A=ra(p);A.payload=a,d!=null&&(A.callback=d),a=sa(i,A,p),a!==null&&(ji(a,i,p),ic(a,i,p))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var p=Ji(),A=ra(p);A.tag=1,A.payload=a,d!=null&&(A.callback=d),a=sa(i,A,p),a!==null&&(ji(a,i,p),ic(a,i,p))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=Ji(),p=ra(d);p.tag=2,a!=null&&(p.callback=a),a=sa(i,p,d),a!==null&&(ji(a,i,d),ic(a,i,d))}};function Tx(i,a,d,p,A,N,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,D):a.prototype&&a.prototype.isPureReactComponent?!_(d,p)||!_(A,N):!0}function Ox(i,a,d,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,p),a.state!==i&&Fh.enqueueReplaceState(a,a.state,null)}function Ja(i,a){var d=a;if("ref"in a){d={};for(var p in a)p!=="ref"&&(d[p]=a[p])}if(i=i.defaultProps){d===a&&(d=E({},d));for(var A in i)d[A]===void 0&&(d[A]=i[A])}return d}function kx(i){Vu(i)}function Mx(i){console.error(i)}function Rx(i){Vu(i)}function fd(i,a){try{var d=i.onUncaughtError;d(a.value,{componentStack:a.stack})}catch(p){setTimeout(function(){throw p})}}function Dx(i,a,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Uh(i,a,d){return d=ra(d),d.tag=3,d.payload={element:null},d.callback=function(){fd(i,a)},d}function jx(i){return i=ra(i),i.tag=3,i}function Ix(i,a,d,p){var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var N=p.value;i.payload=function(){return A(N)},i.callback=function(){Dx(a,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){Dx(a,d,p),typeof A!="function"&&(da===null?da=new Set([this]):da.add(this));var P=p.stack;this.componentDidCatch(p.value,{componentStack:P!==null?P:""})})}function w4(i,a,d,p,A){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(a=d.alternate,a!==null&&Vo(a,d,A,!0),d=Zi.current,d!==null){switch(d.tag){case 31:case 13:return br===null?Ad():d.alternate===null&&wn===0&&(wn=3),d.flags&=-257,d.flags|=65536,d.lanes=A,p===Ju?d.flags|=16384:(a=d.updateQueue,a===null?d.updateQueue=new Set([p]):a.add(p),f1(i,p,A)),!1;case 22:return d.flags|=65536,p===Ju?d.flags|=16384:(a=d.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=a):(d=a.retryQueue,d===null?a.retryQueue=new Set([p]):d.add(p)),f1(i,p,A)),!1}throw Error(s(435,d.tag))}return f1(i,p,A),Ad(),!1}if(Et)return a=Zi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=A,p!==ah&&(i=Error(s(422),{cause:p}),$l(gr(i,d)))):(p!==ah&&(a=Error(s(423),{cause:p}),$l(gr(a,d))),i=i.current.alternate,i.flags|=65536,A&=-A,i.lanes|=A,p=gr(p,d),A=Uh(i.stateNode,p,A),ph(i,A),wn!==4&&(wn=2)),!1;var N=Error(s(520),{cause:p});if(N=gr(N,d),pc===null?pc=[N]:pc.push(N),wn!==4&&(wn=2),a===null)return!0;p=gr(p,d),d=a;do{switch(d.tag){case 3:return d.flags|=65536,i=A&-A,d.lanes|=i,i=Uh(d.stateNode,p,i),ph(d,i),!1;case 1:if(a=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(da===null||!da.has(N))))return d.flags|=65536,A&=-A,d.lanes|=A,A=jx(A),Ix(A,i,d,p),ph(d,A),!1}d=d.return}while(d!==null);return!1}var Hh=Error(s(461)),Pn=!1;function ri(i,a,d,p){a.child=i===null?zm(a,null,d,p):Qa(a,i.child,d,p)}function Bx(i,a,d,p,A){d=d.render;var N=a.ref;if("ref"in p){var D={};for(var P in p)P!=="ref"&&(D[P]=p[P])}else D=p;return Ya(a),p=Eh(i,a,d,D,N,A),P=Ah(),i!==null&&!Pn?(Sh(i,a,A),ws(i,a,A)):(Et&&P&&rh(a),a.flags|=1,ri(i,a,p,A),a.child)}function Lx(i,a,d,p,A){if(i===null){var N=d.type;return typeof N=="function"&&!th(N)&&N.defaultProps===void 0&&d.compare===null?(a.tag=15,a.type=N,Px(i,a,N,p,A)):(i=Yu(d.type,null,p,a,a.mode,A),i.ref=a.ref,i.return=a,a.child=i)}if(N=i.child,!Kh(i,A)){var D=N.memoizedProps;if(d=d.compare,d=d!==null?d:_,d(D,p)&&i.ref===a.ref)return ws(i,a,A)}return a.flags|=1,i=gs(N,p),i.ref=a.ref,i.return=a,a.child=i}function Px(i,a,d,p,A){if(i!==null){var N=i.memoizedProps;if(_(N,p)&&i.ref===a.ref)if(Pn=!1,a.pendingProps=p=N,Kh(i,A))(i.flags&131072)!==0&&(Pn=!0);else return a.lanes=i.lanes,ws(i,a,A)}return Vh(i,a,d,p,A)}function zx(i,a,d,p){var A=p.children,N=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((a.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(p=a.child=i.child,A=0;p!==null;)A=A|p.lanes|p.childLanes,p=p.sibling;p=A&~N}else p=0,a.child=null;return Fx(i,a,N,d,p)}if((d&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qu(a,N!==null?N.cachePool:null),N!==null?Hm(a,N):yh(),Vm(a);else return p=a.lanes=536870912,Fx(i,a,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(Qu(a,N.cachePool),Hm(a,N),oa(),a.memoizedState=null):(i!==null&&Qu(a,null),yh(),oa());return ri(i,a,A,d),a.child}function uc(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Fx(i,a,d,p,A){var N=hh();return N=N===null?null:{parent:Bn._currentValue,pool:N},a.memoizedState={baseLanes:d,cachePool:N},i!==null&&Qu(a,null),yh(),Vm(a),i!==null&&Vo(i,a,p,!0),a.childLanes=A,null}function hd(i,a){return a=md({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Ux(i,a,d){return Qa(a,i.child,null,d),i=hd(a,a.pendingProps),i.flags|=2,Ki(a),a.memoizedState=null,i}function v4(i,a,d){var p=a.pendingProps,A=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Et){if(p.mode==="hidden")return i=hd(a,p),a.lanes=536870912,uc(null,i);if(vh(a),(i=sn)?(i=Jp(i,pr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Js!==null?{id:Qr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},d=Am(i),d.return=a,a.child=d,ni=a,sn=null)):i=null,i===null)throw ta(a);return a.lanes=536870912,null}return hd(a,p)}var N=i.memoizedState;if(N!==null){var D=N.dehydrated;if(vh(a),A)if(a.flags&256)a.flags&=-257,a=Ux(i,a,d);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(s(558));else if(Pn||Vo(i,a,d,!1),A=(d&i.childLanes)!==0,Pn||A){if(p=Qt,p!==null&&(D=No(p,d),D!==0&&D!==N.retryLane))throw N.retryLane=D,Va(i,D),ji(p,i,D),Hh;Ad(),a=Ux(i,a,d)}else i=N.treeContext,sn=yr(D.nextSibling),ni=a,Et=!0,ea=null,pr=!1,i!==null&&Nm(a,i),a=hd(a,p),a.flags|=4096;return a}return i=gs(i.child,{mode:p.mode,children:p.children}),i.ref=a.ref,a.child=i,i.return=a,i}function gd(i,a){var d=a.ref;if(d===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(i===null||i.ref!==d)&&(a.flags|=4194816)}}function Vh(i,a,d,p,A){return Ya(a),d=Eh(i,a,d,p,void 0,A),p=Ah(),i!==null&&!Pn?(Sh(i,a,A),ws(i,a,A)):(Et&&p&&rh(a),a.flags|=1,ri(i,a,d,A),a.child)}function Hx(i,a,d,p,A,N){return Ya(a),a.updateQueue=null,d=qm(a,p,d,A),Gm(i),p=Ah(),i!==null&&!Pn?(Sh(i,a,N),ws(i,a,N)):(Et&&p&&rh(a),a.flags|=1,ri(i,a,d,N),a.child)}function Vx(i,a,d,p,A){if(Ya(a),a.stateNode===null){var N=zo,D=d.contextType;typeof D=="object"&&D!==null&&(N=ii(D)),N=new d(p,N),a.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Fh,a.stateNode=N,N._reactInternals=a,N=a.stateNode,N.props=p,N.state=a.memoizedState,N.refs={},mh(a),D=d.contextType,N.context=typeof D=="object"&&D!==null?ii(D):zo,N.state=a.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(zh(a,d,D,p),N.state=a.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&Fh.enqueueReplaceState(N,N.state,null),sc(a,p,N,A),rc(),N.state=a.memoizedState),typeof N.componentDidMount=="function"&&(a.flags|=4194308),p=!0}else if(i===null){N=a.stateNode;var P=a.memoizedProps,W=Ja(d,P);N.props=W;var fe=N.context,_e=d.contextType;D=zo,typeof _e=="object"&&_e!==null&&(D=ii(_e));var Ce=d.getDerivedStateFromProps;_e=typeof Ce=="function"||typeof N.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,_e||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P||fe!==D)&&Ox(a,N,p,D),ia=!1;var ge=a.memoizedState;N.state=ge,sc(a,p,N,A),rc(),fe=a.memoizedState,P||ge!==fe||ia?(typeof Ce=="function"&&(zh(a,d,Ce,p),fe=a.memoizedState),(W=ia||Tx(a,d,W,p,ge,fe,D))?(_e||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=fe),N.props=p,N.state=fe,N.context=D,p=W):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{N=a.stateNode,xh(i,a),D=a.memoizedProps,_e=Ja(d,D),N.props=_e,Ce=a.pendingProps,ge=N.context,fe=d.contextType,W=zo,typeof fe=="object"&&fe!==null&&(W=ii(fe)),P=d.getDerivedStateFromProps,(fe=typeof P=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==Ce||ge!==W)&&Ox(a,N,p,W),ia=!1,ge=a.memoizedState,N.state=ge,sc(a,p,N,A),rc();var we=a.memoizedState;D!==Ce||ge!==we||ia||i!==null&&i.dependencies!==null&&Zu(i.dependencies)?(typeof P=="function"&&(zh(a,d,P,p),we=a.memoizedState),(_e=ia||Tx(a,d,_e,p,ge,we,W)||i!==null&&i.dependencies!==null&&Zu(i.dependencies))?(fe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,we,W),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,we,W)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&ge===i.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ge===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=we),N.props=p,N.state=we,N.context=W,p=_e):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&ge===i.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ge===i.memoizedState||(a.flags|=1024),p=!1)}return N=p,gd(i,a),p=(a.flags&128)!==0,N||p?(N=a.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),a.flags|=1,i!==null&&p?(a.child=Qa(a,i.child,null,A),a.child=Qa(a,null,d,A)):ri(i,a,d,A),a.memoizedState=N.state,i=a.child):i=ws(i,a,A),i}function Gx(i,a,d,p){return qa(),a.flags|=256,ri(i,a,d,p),a.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(i){return{baseLanes:i,cachePool:Dm()}}function Xh(i,a,d){return i=i!==null?i.childLanes&~d:0,a&&(i|=$i),i}function qx(i,a,d){var p=a.pendingProps,A=!1,N=(a.flags&128)!==0,D;if((D=N)||(D=i!==null&&i.memoizedState===null?!1:(Nn.current&2)!==0),D&&(A=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,i===null){if(Et){if(A?aa(a):oa(),(i=sn)?(i=Jp(i,pr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Js!==null?{id:Qr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},d=Am(i),d.return=a,a.child=d,ni=a,sn=null)):i=null,i===null)throw ta(a);return T1(i)?a.lanes=32:a.lanes=536870912,null}var P=p.children;return p=p.fallback,A?(oa(),A=a.mode,P=md({mode:"hidden",children:P},A),p=Ga(p,A,d,null),P.return=a,p.return=a,P.sibling=p,a.child=P,p=a.child,p.memoizedState=qh(d),p.childLanes=Xh(i,D,d),a.memoizedState=Gh,uc(null,p)):(aa(a),Yh(a,P))}var W=i.memoizedState;if(W!==null&&(P=W.dehydrated,P!==null)){if(N)a.flags&256?(aa(a),a.flags&=-257,a=Wh(i,a,d)):a.memoizedState!==null?(oa(),a.child=i.child,a.flags|=128,a=null):(oa(),P=p.fallback,A=a.mode,p=md({mode:"visible",children:p.children},A),P=Ga(P,A,d,null),P.flags|=2,p.return=a,P.return=a,p.sibling=P,a.child=p,Qa(a,i.child,null,d),p=a.child,p.memoizedState=qh(d),p.childLanes=Xh(i,D,d),a.memoizedState=Gh,a=uc(null,p));else if(aa(a),T1(P)){if(D=P.nextSibling&&P.nextSibling.dataset,D)var fe=D.dgst;D=fe,p=Error(s(419)),p.stack="",p.digest=D,$l({value:p,source:null,stack:null}),a=Wh(i,a,d)}else if(Pn||Vo(i,a,d,!1),D=(d&i.childLanes)!==0,Pn||D){if(D=Qt,D!==null&&(p=No(D,d),p!==0&&p!==W.retryLane))throw W.retryLane=p,Va(i,p),ji(D,i,p),Hh;N1(P)||Ad(),a=Wh(i,a,d)}else N1(P)?(a.flags|=192,a.child=i.child,a=null):(i=W.treeContext,sn=yr(P.nextSibling),ni=a,Et=!0,ea=null,pr=!1,i!==null&&Nm(a,i),a=Yh(a,p.children),a.flags|=4096);return a}return A?(oa(),P=p.fallback,A=a.mode,W=i.child,fe=W.sibling,p=gs(W,{mode:"hidden",children:p.children}),p.subtreeFlags=W.subtreeFlags&65011712,fe!==null?P=gs(fe,P):(P=Ga(P,A,d,null),P.flags|=2),P.return=a,p.return=a,p.sibling=P,a.child=p,uc(null,p),p=a.child,P=i.child.memoizedState,P===null?P=qh(d):(A=P.cachePool,A!==null?(W=Bn._currentValue,A=A.parent!==W?{parent:W,pool:W}:A):A=Dm(),P={baseLanes:P.baseLanes|d,cachePool:A}),p.memoizedState=P,p.childLanes=Xh(i,D,d),a.memoizedState=Gh,uc(i.child,p)):(aa(a),d=i.child,i=d.sibling,d=gs(d,{mode:"visible",children:p.children}),d.return=a,d.sibling=null,i!==null&&(D=a.deletions,D===null?(a.deletions=[i],a.flags|=16):D.push(i)),a.child=d,a.memoizedState=null,d)}function Yh(i,a){return a=md({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function md(i,a){return i=Wi(22,i,null,a),i.lanes=0,i}function Wh(i,a,d){return Qa(a,i.child,null,d),i=Yh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Xx(i,a,d){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),ch(i.return,a,d)}function Zh(i,a,d,p,A,N){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:A,treeForkCount:N}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=p,D.tail=d,D.tailMode=A,D.treeForkCount=N)}function Yx(i,a,d){var p=a.pendingProps,A=p.revealOrder,N=p.tail;p=p.children;var D=Nn.current,P=(D&2)!==0;if(P?(D=D&1|2,a.flags|=128):D&=1,se(Nn,D),ri(i,a,p,d),p=Et?Ql:0,!P&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Xx(i,d,a);else if(i.tag===19)Xx(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(A){case"forwards":for(d=a.child,A=null;d!==null;)i=d.alternate,i!==null&&id(i)===null&&(A=d),d=d.sibling;d=A,d===null?(A=a.child,a.child=null):(A=d.sibling,d.sibling=null),Zh(a,!1,A,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,A=a.child,a.child=null;A!==null;){if(i=A.alternate,i!==null&&id(i)===null){a.child=A;break}i=A.sibling,A.sibling=d,d=A,A=i}Zh(a,!0,d,null,N,p);break;case"together":Zh(a,!1,null,null,void 0,p);break;default:a.memoizedState=null}return a.child}function ws(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),ua|=a.lanes,(d&a.childLanes)===0)if(i!==null){if(Vo(i,a,d,!1),(d&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,d=gs(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=gs(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function Kh(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Zu(i)))}function _4(i,a,d){switch(a.tag){case 3:Ye(a,a.stateNode.containerInfo),na(a,Bn,i.memoizedState.cache),qa();break;case 27:case 5:cn(a);break;case 4:Ye(a,a.stateNode.containerInfo);break;case 10:na(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,vh(a),null;break;case 13:var p=a.memoizedState;if(p!==null)return p.dehydrated!==null?(aa(a),a.flags|=128,null):(d&a.child.childLanes)!==0?qx(i,a,d):(aa(a),i=ws(i,a,d),i!==null?i.sibling:null);aa(a);break;case 19:var A=(i.flags&128)!==0;if(p=(d&a.childLanes)!==0,p||(Vo(i,a,d,!1),p=(d&a.childLanes)!==0),A){if(p)return Yx(i,a,d);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),se(Nn,Nn.current),p)break;return null;case 22:return a.lanes=0,zx(i,a,d,a.pendingProps);case 24:na(a,Bn,i.memoizedState.cache)}return ws(i,a,d)}function Wx(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps)Pn=!0;else{if(!Kh(i,d)&&(a.flags&128)===0)return Pn=!1,_4(i,a,d);Pn=(i.flags&131072)!==0}else Pn=!1,Et&&(a.flags&1048576)!==0&&Cm(a,Ql,a.index);switch(a.lanes=0,a.tag){case 16:e:{var p=a.pendingProps;if(i=Za(a.elementType),a.type=i,typeof i=="function")th(i)?(p=Ja(i,p),a.tag=1,a=Vx(null,a,i,p,d)):(a.tag=0,a=Vh(null,a,i,p,d));else{if(i!=null){var A=i.$$typeof;if(A===U){a.tag=11,a=Bx(null,a,i,p,d);break e}else if(A===X){a.tag=14,a=Lx(null,a,i,p,d);break e}}throw a=ke(i)||i,Error(s(306,a,""))}}return a;case 0:return Vh(i,a,a.type,a.pendingProps,d);case 1:return p=a.type,A=Ja(p,a.pendingProps),Vx(i,a,p,A,d);case 3:e:{if(Ye(a,a.stateNode.containerInfo),i===null)throw Error(s(387));p=a.pendingProps;var N=a.memoizedState;A=N.element,xh(i,a),sc(a,p,null,d);var D=a.memoizedState;if(p=D.cache,na(a,Bn,p),p!==N.cache&&uh(a,[Bn],d,!0),rc(),p=D.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=N,a.memoizedState=N,a.flags&256){a=Gx(i,a,p,d);break e}else if(p!==A){A=gr(Error(s(424)),a),$l(A),a=Gx(i,a,p,d);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,sn=yr(i.firstChild),ni=a,Et=!0,ea=null,pr=!0,d=zm(a,null,p,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(qa(),p===A){a=ws(i,a,d);break e}ri(i,a,p,d)}a=a.child}return a;case 26:return gd(i,a),i===null?(d=s2(a.type,null,a.pendingProps,null))?a.memoizedState=d:Et||(d=a.type,i=a.pendingProps,p=Md(Se.current).createElement(d),p[An]=a,p[zt]=i,si(p,d,i),pn(p),a.stateNode=p):a.memoizedState=s2(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return cn(a),i===null&&Et&&(p=a.stateNode=n2(a.type,a.pendingProps,Se.current),ni=a,pr=!0,A=sn,ma(a.type)?(O1=A,sn=yr(p.firstChild)):sn=A),ri(i,a,a.pendingProps.children,d),gd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Et&&((A=p=sn)&&(p=$4(p,a.type,a.pendingProps,pr),p!==null?(a.stateNode=p,ni=a,sn=yr(p.firstChild),pr=!1,A=!0):A=!1),A||ta(a)),cn(a),A=a.type,N=a.pendingProps,D=i!==null?i.memoizedProps:null,p=N.children,A1(A,N)?p=null:D!==null&&A1(A,D)&&(a.flags|=32),a.memoizedState!==null&&(A=Eh(i,a,h4,null,null,d),Sc._currentValue=A),gd(i,a),ri(i,a,p,d),a.child;case 6:return i===null&&Et&&((i=d=sn)&&(d=J4(d,a.pendingProps,pr),d!==null?(a.stateNode=d,ni=a,sn=null,i=!0):i=!1),i||ta(a)),null;case 13:return qx(i,a,d);case 4:return Ye(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=Qa(a,null,p,d):ri(i,a,p,d),a.child;case 11:return Bx(i,a,a.type,a.pendingProps,d);case 7:return ri(i,a,a.pendingProps,d),a.child;case 8:return ri(i,a,a.pendingProps.children,d),a.child;case 12:return ri(i,a,a.pendingProps.children,d),a.child;case 10:return p=a.pendingProps,na(a,a.type,p.value),ri(i,a,p.children,d),a.child;case 9:return A=a.type._context,p=a.pendingProps.children,Ya(a),A=ii(A),p=p(A),a.flags|=1,ri(i,a,p,d),a.child;case 14:return Lx(i,a,a.type,a.pendingProps,d);case 15:return Px(i,a,a.type,a.pendingProps,d);case 19:return Yx(i,a,d);case 31:return v4(i,a,d);case 22:return zx(i,a,d,a.pendingProps);case 24:return Ya(a),p=ii(Bn),i===null?(A=hh(),A===null&&(A=Qt,N=dh(),A.pooledCache=N,N.refCount++,N!==null&&(A.pooledCacheLanes|=d),A=N),a.memoizedState={parent:p,cache:A},mh(a),na(a,Bn,A)):((i.lanes&d)!==0&&(xh(i,a),sc(a,null,null,d),rc()),A=i.memoizedState,N=a.memoizedState,A.parent!==p?(A={parent:p,cache:p},a.memoizedState=A,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=A),na(a,Bn,p)):(p=N.cache,na(a,Bn,p),p!==A.cache&&uh(a,[Bn],d,!0))),ri(i,a,a.pendingProps.children,d),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function vs(i){i.flags|=4}function Qh(i,a,d,p,A){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(A&335544128)===A)if(i.stateNode.complete)i.flags|=8192;else if(vp())i.flags|=8192;else throw Ka=Ju,gh}else i.flags&=-16777217}function Zx(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!u2(a))if(vp())i.flags|=8192;else throw Ka=Ju,gh}function xd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Un():536870912,i.lanes|=a,tl|=a)}function dc(i,a){if(!Et)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function an(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(a)for(var A=i.child;A!==null;)d|=A.lanes|A.childLanes,p|=A.subtreeFlags&65011712,p|=A.flags&65011712,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)d|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=p,i.childLanes=d,a}function E4(i,a,d){var p=a.pendingProps;switch(sh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(a),null;case 1:return an(a),null;case 3:return d=a.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),a.memoizedState.cache!==p&&(a.flags|=2048),ps(Bn),Pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ho(a)?vs(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,oh())),an(a),null;case 26:var A=a.type,N=a.memoizedState;return i===null?(vs(a),N!==null?(an(a),Zx(a,N)):(an(a),Qh(a,A,null,p,d))):N?N!==i.memoizedState?(vs(a),an(a),Zx(a,N)):(an(a),a.flags&=-16777217):(i=i.memoizedProps,i!==p&&vs(a),an(a),Qh(a,A,i,p,d)),null;case 27:if(fn(a),d=Se.current,A=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==p&&vs(a);else{if(!p){if(a.stateNode===null)throw Error(s(166));return an(a),null}i=he.current,Ho(a)?Tm(a):(i=n2(A,p,d),a.stateNode=i,vs(a))}return an(a),null;case 5:if(fn(a),A=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==p&&vs(a);else{if(!p){if(a.stateNode===null)throw Error(s(166));return an(a),null}if(N=he.current,Ho(a))Tm(a);else{var D=Md(Se.current);switch(N){case 1:N=D.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:N=D.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":N=D.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":N=D.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":N=D.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?D.createElement("select",{is:p.is}):D.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?D.createElement(A,{is:p.is}):D.createElement(A)}}N[An]=a,N[zt]=p;e:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)N.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break e;for(;D.sibling===null;){if(D.return===null||D.return===a)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=N;e:switch(si(N,A,p),A){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&vs(a)}}return an(a),Qh(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,d),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==p&&vs(a);else{if(typeof p!="string"&&a.stateNode===null)throw Error(s(166));if(i=Se.current,Ho(a)){if(i=a.stateNode,d=a.memoizedProps,p=null,A=ni,A!==null)switch(A.tag){case 27:case 5:p=A.memoizedProps}i[An]=a,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||qp(i.nodeValue,d)),i||ta(a,!0)}else i=Md(i).createTextNode(p),i[An]=a,a.stateNode=i}return an(a),null;case 31:if(d=a.memoizedState,i===null||i.memoizedState!==null){if(p=Ho(a),d!==null){if(i===null){if(!p)throw Error(s(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[An]=a}else qa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;an(a),i=!1}else d=oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return a.flags&256?(Ki(a),a):(Ki(a),null);if((a.flags&128)!==0)throw Error(s(558))}return an(a),null;case 13:if(p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(A=Ho(a),p!==null&&p.dehydrated!==null){if(i===null){if(!A)throw Error(s(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));A[An]=a}else qa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;an(a),A=!1}else A=oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=A),A=!0;if(!A)return a.flags&256?(Ki(a),a):(Ki(a),null)}return Ki(a),(a.flags&128)!==0?(a.lanes=d,a):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=a.child,A=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(A=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==A&&(p.flags|=2048)),d!==i&&d&&(a.child.flags|=8192),xd(a,a.updateQueue),an(a),null);case 4:return Pe(),i===null&&y1(a.stateNode.containerInfo),an(a),null;case 10:return ps(a.type),an(a),null;case 19:if(re(Nn),p=a.memoizedState,p===null)return an(a),null;if(A=(a.flags&128)!==0,N=p.rendering,N===null)if(A)dc(p,!1);else{if(wn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(N=id(i),N!==null){for(a.flags|=128,dc(p,!1),i=N.updateQueue,a.updateQueue=i,xd(a,i),a.subtreeFlags=0,i=d,d=a.child;d!==null;)Em(d,i),d=d.sibling;return se(Nn,Nn.current&1|2),Et&&ms(a,p.treeForkCount),a.child}i=i.sibling}p.tail!==null&&tn()>vd&&(a.flags|=128,A=!0,dc(p,!1),a.lanes=4194304)}else{if(!A)if(i=id(N),i!==null){if(a.flags|=128,A=!0,i=i.updateQueue,a.updateQueue=i,xd(a,i),dc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!Et)return an(a),null}else 2*tn()-p.renderingStartTime>vd&&d!==536870912&&(a.flags|=128,A=!0,dc(p,!1),a.lanes=4194304);p.isBackwards?(N.sibling=a.child,a.child=N):(i=p.last,i!==null?i.sibling=N:a.child=N,p.last=N)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=tn(),i.sibling=null,d=Nn.current,se(Nn,A?d&1|2:d&1),Et&&ms(a,p.treeForkCount),i):(an(a),null);case 22:case 23:return Ki(a),wh(),p=a.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(a.flags|=8192):p&&(a.flags|=8192),p?(d&536870912)!==0&&(a.flags&128)===0&&(an(a),a.subtreeFlags&6&&(a.flags|=8192)):an(a),d=a.updateQueue,d!==null&&xd(a,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==d&&(a.flags|=2048),i!==null&&re(Wa),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),ps(Bn),an(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function A4(i,a){switch(sh(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ps(Bn),Pe(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return fn(a),null;case 31:if(a.memoizedState!==null){if(Ki(a),a.alternate===null)throw Error(s(340));qa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Ki(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));qa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return re(Nn),null;case 4:return Pe(),null;case 10:return ps(a.type),null;case 22:case 23:return Ki(a),wh(),i!==null&&re(Wa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ps(Bn),null;case 25:return null;default:return null}}function Kx(i,a){switch(sh(a),a.tag){case 3:ps(Bn),Pe();break;case 26:case 27:case 5:fn(a);break;case 4:Pe();break;case 31:a.memoizedState!==null&&Ki(a);break;case 13:Ki(a);break;case 19:re(Nn);break;case 10:ps(a.type);break;case 22:case 23:Ki(a),wh(),i!==null&&re(Wa);break;case 24:ps(Bn)}}function fc(i,a){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var A=p.next;d=A;do{if((d.tag&i)===i){p=void 0;var N=d.create,D=d.inst;p=N(),D.destroy=p}d=d.next}while(d!==A)}}catch(P){Ut(a,a.return,P)}}function la(i,a,d){try{var p=a.updateQueue,A=p!==null?p.lastEffect:null;if(A!==null){var N=A.next;p=N;do{if((p.tag&i)===i){var D=p.inst,P=D.destroy;if(P!==void 0){D.destroy=void 0,A=a;var W=d,fe=P;try{fe()}catch(_e){Ut(A,W,_e)}}}p=p.next}while(p!==N)}}catch(_e){Ut(a,a.return,_e)}}function Qx(i){var a=i.updateQueue;if(a!==null){var d=i.stateNode;try{Um(a,d)}catch(p){Ut(i,i.return,p)}}}function $x(i,a,d){d.props=Ja(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Ut(i,a,p)}}function hc(i,a){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(A){Ut(i,a,A)}}function Jr(i,a){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(A){Ut(i,a,A)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(A){Ut(i,a,A)}else d.current=null}function Jx(i){var a=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(A){Ut(i,i.return,A)}}function $h(i,a,d){try{var p=i.stateNode;X4(p,i.type,d,a),p[zt]=a}catch(A){Ut(i,i.return,A)}}function ep(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ma(i.type)||i.tag===4}function Jh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ep(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ma(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function e1(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,a):(a=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,a.appendChild(i),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Ni));else if(p!==4&&(p===27&&ma(i.type)&&(d=i.stateNode,a=null),i=i.child,i!==null))for(e1(i,a,d),i=i.sibling;i!==null;)e1(i,a,d),i=i.sibling}function pd(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(p!==4&&(p===27&&ma(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(pd(i,a,d),i=i.sibling;i!==null;)pd(i,a,d),i=i.sibling}function tp(i){var a=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,A=a.attributes;A.length;)a.removeAttributeNode(A[0]);si(a,p,d),a[An]=i,a[zt]=d}catch(N){Ut(i,i.return,N)}}var _s=!1,zn=!1,t1=!1,np=typeof WeakSet=="function"?WeakSet:Set,$n=null;function S4(i,a){if(i=i.containerInfo,_1=Pd,i=B(i),L(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var A=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var D=0,P=-1,W=-1,fe=0,_e=0,Ce=i,ge=null;t:for(;;){for(var we;Ce!==d||A!==0&&Ce.nodeType!==3||(P=D+A),Ce!==N||p!==0&&Ce.nodeType!==3||(W=D+p),Ce.nodeType===3&&(D+=Ce.nodeValue.length),(we=Ce.firstChild)!==null;)ge=Ce,Ce=we;for(;;){if(Ce===i)break t;if(ge===d&&++fe===A&&(P=D),ge===N&&++_e===p&&(W=D),(we=Ce.nextSibling)!==null)break;Ce=ge,ge=Ce.parentNode}Ce=we}d=P===-1||W===-1?null:{start:P,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(E1={focusedElem:i,selectionRange:d},Pd=!1,$n=a;$n!==null;)if(a=$n,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,$n=i;else for(;$n!==null;){switch(a=$n,N=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)A=i[d],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=a,A=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var Ge=Ja(d.type,A);i=p.getSnapshotBeforeUpdate(Ge,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(et){Ut(d,d.return,et)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,d=i.nodeType,d===9)C1(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":C1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,$n=i;break}$n=a.return}}function ip(i,a,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:As(i,d),p&4&&fc(5,d);break;case 1:if(As(i,d),p&4)if(i=d.stateNode,a===null)try{i.componentDidMount()}catch(D){Ut(d,d.return,D)}else{var A=Ja(d.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(A,a,i.__reactInternalSnapshotBeforeUpdate)}catch(D){Ut(d,d.return,D)}}p&64&&Qx(d),p&512&&hc(d,d.return);break;case 3:if(As(i,d),p&64&&(i=d.updateQueue,i!==null)){if(a=null,d.child!==null)switch(d.child.tag){case 27:case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}try{Um(i,a)}catch(D){Ut(d,d.return,D)}}break;case 27:a===null&&p&4&&tp(d);case 26:case 5:As(i,d),a===null&&p&4&&Jx(d),p&512&&hc(d,d.return);break;case 12:As(i,d);break;case 31:As(i,d),p&4&&ap(i,d);break;case 13:As(i,d),p&4&&op(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=j4.bind(null,d),eE(i,d))));break;case 22:if(p=d.memoizedState!==null||_s,!p){a=a!==null&&a.memoizedState!==null||zn,A=_s;var N=zn;_s=p,(zn=a)&&!N?Ss(i,d,(d.subtreeFlags&8772)!==0):As(i,d),_s=A,zn=N}break;case 30:break;default:As(i,d)}}function rp(i){var a=i.alternate;a!==null&&(i.alternate=null,rp(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ci(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dn=null,ki=!1;function Es(i,a,d){for(d=d.child;d!==null;)sp(i,a,d),d=d.sibling}function sp(i,a,d){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(Gt,d)}catch{}switch(d.tag){case 26:zn||Jr(d,a),Es(i,a,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:zn||Jr(d,a);var p=dn,A=ki;ma(d.type)&&(dn=d.stateNode,ki=!1),Es(i,a,d),_c(d.stateNode),dn=p,ki=A;break;case 5:zn||Jr(d,a);case 6:if(p=dn,A=ki,dn=null,Es(i,a,d),dn=p,ki=A,dn!==null)if(ki)try{(dn.nodeType===9?dn.body:dn.nodeName==="HTML"?dn.ownerDocument.body:dn).removeChild(d.stateNode)}catch(N){Ut(d,a,N)}else try{dn.removeChild(d.stateNode)}catch(N){Ut(d,a,N)}break;case 18:dn!==null&&(ki?(i=dn,Qp(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),cl(i)):Qp(dn,d.stateNode));break;case 4:p=dn,A=ki,dn=d.stateNode.containerInfo,ki=!0,Es(i,a,d),dn=p,ki=A;break;case 0:case 11:case 14:case 15:la(2,d,a),zn||la(4,d,a),Es(i,a,d);break;case 1:zn||(Jr(d,a),p=d.stateNode,typeof p.componentWillUnmount=="function"&&$x(d,a,p)),Es(i,a,d);break;case 21:Es(i,a,d);break;case 22:zn=(p=zn)||d.memoizedState!==null,Es(i,a,d),zn=p;break;default:Es(i,a,d)}}function ap(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{cl(i)}catch(d){Ut(a,a.return,d)}}}function op(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cl(i)}catch(d){Ut(a,a.return,d)}}function C4(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new np),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new np),a;default:throw Error(s(435,i.tag))}}function bd(i,a){var d=C4(i);a.forEach(function(p){if(!d.has(p)){d.add(p);var A=I4.bind(null,i,p);p.then(A,A)}})}function Mi(i,a){var d=a.deletions;if(d!==null)for(var p=0;p<d.length;p++){var A=d[p],N=i,D=a,P=D;e:for(;P!==null;){switch(P.tag){case 27:if(ma(P.type)){dn=P.stateNode,ki=!1;break e}break;case 5:dn=P.stateNode,ki=!1;break e;case 3:case 4:dn=P.stateNode.containerInfo,ki=!0;break e}P=P.return}if(dn===null)throw Error(s(160));sp(N,D,A),dn=null,ki=!1,N=A.alternate,N!==null&&(N.return=null),A.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lp(a,i),a=a.sibling}var jr=null;function lp(i,a){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mi(a,i),Ri(i),p&4&&(la(3,i,i.return),fc(3,i),la(5,i,i.return));break;case 1:Mi(a,i),Ri(i),p&512&&(zn||d===null||Jr(d,d.return)),p&64&&_s&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var A=jr;if(Mi(a,i),Ri(i),p&512&&(zn||d===null||Jr(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,A=A.ownerDocument||A;t:switch(p){case"title":N=A.getElementsByTagName("title")[0],(!N||N[ja]||N[An]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=A.createElement(p),A.head.insertBefore(N,A.querySelector("head > title"))),si(N,p,d),N[An]=i,pn(N),p=N;break e;case"link":var D=l2("link","href",A).get(p+(d.href||""));if(D){for(var P=0;P<D.length;P++)if(N=D[P],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(P,1);break t}}N=A.createElement(p),si(N,p,d),A.head.appendChild(N);break;case"meta":if(D=l2("meta","content",A).get(p+(d.content||""))){for(P=0;P<D.length;P++)if(N=D[P],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(P,1);break t}}N=A.createElement(p),si(N,p,d),A.head.appendChild(N);break;default:throw Error(s(468,p))}N[An]=i,pn(N),p=N}i.stateNode=p}else c2(A,i.type,i.stateNode);else i.stateNode=o2(A,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?c2(A,i.type,i.stateNode):o2(A,p,i.memoizedProps)):p===null&&i.stateNode!==null&&$h(i,i.memoizedProps,d.memoizedProps)}break;case 27:Mi(a,i),Ri(i),p&512&&(zn||d===null||Jr(d,d.return)),d!==null&&p&4&&$h(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Mi(a,i),Ri(i),p&512&&(zn||d===null||Jr(d,d.return)),i.flags&32){A=i.stateNode;try{Gs(A,"")}catch(Ge){Ut(i,i.return,Ge)}}p&4&&i.stateNode!=null&&(A=i.memoizedProps,$h(i,A,d!==null?d.memoizedProps:A)),p&1024&&(t1=!0);break;case 6:if(Mi(a,i),Ri(i),p&4){if(i.stateNode===null)throw Error(s(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Ge){Ut(i,i.return,Ge)}}break;case 3:if(jd=null,A=jr,jr=Rd(a.containerInfo),Mi(a,i),jr=A,Ri(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{cl(a.containerInfo)}catch(Ge){Ut(i,i.return,Ge)}t1&&(t1=!1,cp(i));break;case 4:p=jr,jr=Rd(i.stateNode.containerInfo),Mi(a,i),Ri(i),jr=p;break;case 12:Mi(a,i),Ri(i);break;case 31:Mi(a,i),Ri(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,bd(i,p)));break;case 13:Mi(a,i),Ri(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(wd=tn()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,bd(i,p)));break;case 22:A=i.memoizedState!==null;var W=d!==null&&d.memoizedState!==null,fe=_s,_e=zn;if(_s=fe||A,zn=_e||W,Mi(a,i),zn=_e,_s=fe,Ri(i),p&8192)e:for(a=i.stateNode,a._visibility=A?a._visibility&-2:a._visibility|1,A&&(d===null||W||_s||zn||eo(i)),d=null,a=i;;){if(a.tag===5||a.tag===26){if(d===null){W=d=a;try{if(N=W.stateNode,A)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{P=W.stateNode;var Ce=W.memoizedProps.style,ge=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;P.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Ge){Ut(W,W.return,Ge)}}}else if(a.tag===6){if(d===null){W=a;try{W.stateNode.nodeValue=A?"":W.memoizedProps}catch(Ge){Ut(W,W.return,Ge)}}}else if(a.tag===18){if(d===null){W=a;try{var we=W.stateNode;A?$p(we,!0):$p(W.stateNode,!1)}catch(Ge){Ut(W,W.return,Ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;d===a&&(d=null),a=a.return}d===a&&(d=null),a.sibling.return=a.return,a=a.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,bd(i,d))));break;case 19:Mi(a,i),Ri(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,bd(i,p)));break;case 30:break;case 21:break;default:Mi(a,i),Ri(i)}}function Ri(i){var a=i.flags;if(a&2){try{for(var d,p=i.return;p!==null;){if(ep(p)){d=p;break}p=p.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var A=d.stateNode,N=Jh(i);pd(i,N,A);break;case 5:var D=d.stateNode;d.flags&32&&(Gs(D,""),d.flags&=-33);var P=Jh(i);pd(i,P,D);break;case 3:case 4:var W=d.stateNode.containerInfo,fe=Jh(i);e1(i,fe,W);break;default:throw Error(s(161))}}catch(_e){Ut(i,i.return,_e)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function cp(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;cp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function As(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ip(i,a.alternate,a),a=a.sibling}function eo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:la(4,a,a.return),eo(a);break;case 1:Jr(a,a.return);var d=a.stateNode;typeof d.componentWillUnmount=="function"&&$x(a,a.return,d),eo(a);break;case 27:_c(a.stateNode);case 26:case 5:Jr(a,a.return),eo(a);break;case 22:a.memoizedState===null&&eo(a);break;case 30:eo(a);break;default:eo(a)}i=i.sibling}}function Ss(i,a,d){for(d=d&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var p=a.alternate,A=i,N=a,D=N.flags;switch(N.tag){case 0:case 11:case 15:Ss(A,N,d),fc(4,N);break;case 1:if(Ss(A,N,d),p=N,A=p.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(fe){Ut(p,p.return,fe)}if(p=N,A=p.updateQueue,A!==null){var P=p.stateNode;try{var W=A.shared.hiddenCallbacks;if(W!==null)for(A.shared.hiddenCallbacks=null,A=0;A<W.length;A++)Fm(W[A],P)}catch(fe){Ut(p,p.return,fe)}}d&&D&64&&Qx(N),hc(N,N.return);break;case 27:tp(N);case 26:case 5:Ss(A,N,d),d&&p===null&&D&4&&Jx(N),hc(N,N.return);break;case 12:Ss(A,N,d);break;case 31:Ss(A,N,d),d&&D&4&&ap(A,N);break;case 13:Ss(A,N,d),d&&D&4&&op(A,N);break;case 22:N.memoizedState===null&&Ss(A,N,d),hc(N,N.return);break;case 30:break;default:Ss(A,N,d)}a=a.sibling}}function n1(i,a){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Jl(d))}function i1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Jl(i))}function Ir(i,a,d,p){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)up(i,a,d,p),a=a.sibling}function up(i,a,d,p){var A=a.flags;switch(a.tag){case 0:case 11:case 15:Ir(i,a,d,p),A&2048&&fc(9,a);break;case 1:Ir(i,a,d,p);break;case 3:Ir(i,a,d,p),A&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Jl(i)));break;case 12:if(A&2048){Ir(i,a,d,p),i=a.stateNode;try{var N=a.memoizedProps,D=N.id,P=N.onPostCommit;typeof P=="function"&&P(D,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(W){Ut(a,a.return,W)}}else Ir(i,a,d,p);break;case 31:Ir(i,a,d,p);break;case 13:Ir(i,a,d,p);break;case 23:break;case 22:N=a.stateNode,D=a.alternate,a.memoizedState!==null?N._visibility&2?Ir(i,a,d,p):gc(i,a):N._visibility&2?Ir(i,a,d,p):(N._visibility|=2,$o(i,a,d,p,(a.subtreeFlags&10256)!==0||!1)),A&2048&&n1(D,a);break;case 24:Ir(i,a,d,p),A&2048&&i1(a.alternate,a);break;default:Ir(i,a,d,p)}}function $o(i,a,d,p,A){for(A=A&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var N=i,D=a,P=d,W=p,fe=D.flags;switch(D.tag){case 0:case 11:case 15:$o(N,D,P,W,A),fc(8,D);break;case 23:break;case 22:var _e=D.stateNode;D.memoizedState!==null?_e._visibility&2?$o(N,D,P,W,A):gc(N,D):(_e._visibility|=2,$o(N,D,P,W,A)),A&&fe&2048&&n1(D.alternate,D);break;case 24:$o(N,D,P,W,A),A&&fe&2048&&i1(D.alternate,D);break;default:$o(N,D,P,W,A)}a=a.sibling}}function gc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var d=i,p=a,A=p.flags;switch(p.tag){case 22:gc(d,p),A&2048&&n1(p.alternate,p);break;case 24:gc(d,p),A&2048&&i1(p.alternate,p);break;default:gc(d,p)}a=a.sibling}}var mc=8192;function Jo(i,a,d){if(i.subtreeFlags&mc)for(i=i.child;i!==null;)dp(i,a,d),i=i.sibling}function dp(i,a,d){switch(i.tag){case 26:Jo(i,a,d),i.flags&mc&&i.memoizedState!==null&&fE(d,jr,i.memoizedState,i.memoizedProps);break;case 5:Jo(i,a,d);break;case 3:case 4:var p=jr;jr=Rd(i.stateNode.containerInfo),Jo(i,a,d),jr=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=mc,mc=16777216,Jo(i,a,d),mc=p):Jo(i,a,d));break;default:Jo(i,a,d)}}function fp(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function xc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];$n=p,gp(p,i)}fp(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hp(i),i=i.sibling}function hp(i){switch(i.tag){case 0:case 11:case 15:xc(i),i.flags&2048&&la(9,i,i.return);break;case 3:xc(i);break;case 12:xc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,yd(i)):xc(i);break;default:xc(i)}}function yd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];$n=p,gp(p,i)}fp(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:la(8,a,a.return),yd(a);break;case 22:d=a.stateNode,d._visibility&2&&(d._visibility&=-3,yd(a));break;default:yd(a)}i=i.sibling}}function gp(i,a){for(;$n!==null;){var d=$n;switch(d.tag){case 0:case 11:case 15:la(8,d,a);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Jl(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,$n=p;else e:for(d=i;$n!==null;){p=$n;var A=p.sibling,N=p.return;if(rp(p),p===d){$n=null;break e}if(A!==null){A.return=N,$n=A;break e}$n=N}}}var N4={getCacheForType:function(i){var a=ii(Bn),d=a.data.get(i);return d===void 0&&(d=i(),a.data.set(i,d)),d},cacheSignal:function(){return ii(Bn).controller.signal}},T4=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Qt=null,mt=null,wt=0,Ft=0,Qi=null,ca=!1,el=!1,r1=!1,Cs=0,wn=0,ua=0,to=0,s1=0,$i=0,tl=0,pc=null,Di=null,a1=!1,wd=0,mp=0,vd=1/0,_d=null,da=null,qn=0,fa=null,nl=null,Ns=0,o1=0,l1=null,xp=null,bc=0,c1=null;function Ji(){return(Dt&2)!==0&&wt!==0?wt&-wt:Z.T!==null?m1():gi()}function pp(){if($i===0)if((wt&536870912)===0||Et){var i=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),$i=i}else $i=536870912;return i=Zi.current,i!==null&&(i.flags|=32),$i}function ji(i,a,d){(i===Qt&&(Ft===2||Ft===9)||i.cancelPendingCommit!==null)&&(il(i,0),ha(i,wt,$i,!1)),qr(i,d),((Dt&2)===0||i!==Qt)&&(i===Qt&&((Dt&2)===0&&(to|=d),wn===4&&ha(i,wt,$i,!1)),es(i))}function bp(i,a,d){if((Dt&6)!==0)throw Error(s(327));var p=!d&&(a&127)===0&&(a&i.expiredLanes)===0||ei(i,a),A=p?M4(i,a):d1(i,a,!0),N=p;do{if(A===0){el&&!p&&ha(i,a,0,!1);break}else{if(d=i.current.alternate,N&&!O4(d)){A=d1(i,a,!1),N=!1;continue}if(A===2){if(N=a,i.errorRecoveryDisabledLanes&N)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var P=i;A=pc;var W=P.current.memoizedState.isDehydrated;if(W&&(il(P,D).flags|=256),D=d1(P,D,!1),D!==2){if(r1&&!W){P.errorRecoveryDisabledLanes|=N,to|=N,A=4;break e}N=Di,Di=A,N!==null&&(Di===null?Di=N:Di.push.apply(Di,N))}A=D}if(N=!1,A!==2)continue}}if(A===1){il(i,0),ha(i,a,0,!0);break}e:{switch(p=i,N=A,N){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:ha(p,a,$i,!ca);break e;case 2:Di=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(A=wd+300-tn(),10<A)){if(ha(p,a,$i,!ca),Da(p,0,!0)!==0)break e;Ns=a,p.timeoutHandle=Zp(yp.bind(null,p,d,Di,_d,a1,a,$i,to,tl,ca,N,"Throttled",-0,0),A);break e}yp(p,d,Di,_d,a1,a,$i,to,tl,ca,N,null,-0,0)}}break}while(!0);es(i)}function yp(i,a,d,p,A,N,D,P,W,fe,_e,Ce,ge,we){if(i.timeoutHandle=-1,Ce=a.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},dp(a,N,Ce);var Ge=(N&62914560)===N?wd-tn():(N&4194048)===N?mp-tn():0;if(Ge=hE(Ce,Ge),Ge!==null){Ns=N,i.cancelPendingCommit=Ge(Np.bind(null,i,a,N,d,p,A,D,P,W,_e,Ce,null,ge,we)),ha(i,N,D,!fe);return}}Np(i,a,N,d,p,A,D,P,W)}function O4(i){for(var a=i;;){var d=a.tag;if((d===0||d===11||d===15)&&a.flags&16384&&(d=a.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var A=d[p],N=A.getSnapshot;A=A.value;try{if(!v(N(),A))return!1}catch{return!1}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ha(i,a,d,p){a&=~s1,a&=~to,i.suspendedLanes|=a,i.pingedLanes&=~a,p&&(i.warmLanes|=a),p=i.expirationTimes;for(var A=a;0<A;){var N=31-ze(A),D=1<<N;p[N]=-1,A&=~D}d!==0&&Tu(i,d,a)}function Ed(){return(Dt&6)===0?(yc(0),!1):!0}function u1(){if(mt!==null){if(Ft===0)var i=mt.return;else i=mt,xs=Xa=null,Ch(i),Yo=null,tc=0,i=mt;for(;i!==null;)Kx(i.alternate,i),i=i.return;mt=null}}function il(i,a){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,Z4(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Ns=0,u1(),Qt=i,mt=d=gs(i.current,null),wt=a,Ft=0,Qi=null,ca=!1,el=ei(i,a),r1=!1,tl=$i=s1=to=ua=wn=0,Di=pc=null,a1=!1,(a&8)!==0&&(a|=a&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=a;0<p;){var A=31-ze(p),N=1<<A;a|=i[A],p&=~N}return Cs=a,Gu(),d}function wp(i,a){at=null,Z.H=cc,a===Xo||a===$u?(a=Bm(),Ft=3):a===gh?(a=Bm(),Ft=4):Ft=a===Hh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qi=a,mt===null&&(wn=1,fd(i,gr(a,i.current)))}function vp(){var i=Zi.current;return i===null?!0:(wt&4194048)===wt?br===null:(wt&62914560)===wt||(wt&536870912)!==0?i===br:!1}function _p(){var i=Z.H;return Z.H=cc,i===null?cc:i}function Ep(){var i=Z.A;return Z.A=N4,i}function Ad(){wn=4,ca||(wt&4194048)!==wt&&Zi.current!==null||(el=!0),(ua&134217727)===0&&(to&134217727)===0||Qt===null||ha(Qt,wt,$i,!1)}function d1(i,a,d){var p=Dt;Dt|=2;var A=_p(),N=Ep();(Qt!==i||wt!==a)&&(_d=null,il(i,a)),a=!1;var D=wn;e:do try{if(Ft!==0&&mt!==null){var P=mt,W=Qi;switch(Ft){case 8:u1(),D=6;break e;case 3:case 2:case 9:case 6:Zi.current===null&&(a=!0);var fe=Ft;if(Ft=0,Qi=null,rl(i,P,W,fe),d&&el){D=0;break e}break;default:fe=Ft,Ft=0,Qi=null,rl(i,P,W,fe)}}k4(),D=wn;break}catch(_e){wp(i,_e)}while(!0);return a&&i.shellSuspendCounter++,xs=Xa=null,Dt=p,Z.H=A,Z.A=N,mt===null&&(Qt=null,wt=0,Gu()),D}function k4(){for(;mt!==null;)Ap(mt)}function M4(i,a){var d=Dt;Dt|=2;var p=_p(),A=Ep();Qt!==i||wt!==a?(_d=null,vd=tn()+500,il(i,a)):el=ei(i,a);e:do try{if(Ft!==0&&mt!==null){a=mt;var N=Qi;t:switch(Ft){case 1:Ft=0,Qi=null,rl(i,a,N,1);break;case 2:case 9:if(jm(N)){Ft=0,Qi=null,Sp(a);break}a=function(){Ft!==2&&Ft!==9||Qt!==i||(Ft=7),es(i)},N.then(a,a);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:jm(N)?(Ft=0,Qi=null,Sp(a)):(Ft=0,Qi=null,rl(i,a,N,7));break;case 5:var D=null;switch(mt.tag){case 26:D=mt.memoizedState;case 5:case 27:var P=mt;if(D?u2(D):P.stateNode.complete){Ft=0,Qi=null;var W=P.sibling;if(W!==null)mt=W;else{var fe=P.return;fe!==null?(mt=fe,Sd(fe)):mt=null}break t}}Ft=0,Qi=null,rl(i,a,N,5);break;case 6:Ft=0,Qi=null,rl(i,a,N,6);break;case 8:u1(),wn=6;break e;default:throw Error(s(462))}}R4();break}catch(_e){wp(i,_e)}while(!0);return xs=Xa=null,Z.H=p,Z.A=A,Dt=d,mt!==null?0:(Qt=null,wt=0,Gu(),wn)}function R4(){for(;mt!==null&&!Ls();)Ap(mt)}function Ap(i){var a=Wx(i.alternate,i,Cs);i.memoizedProps=i.pendingProps,a===null?Sd(i):mt=a}function Sp(i){var a=i,d=a.alternate;switch(a.tag){case 15:case 0:a=Hx(d,a,a.pendingProps,a.type,void 0,wt);break;case 11:a=Hx(d,a,a.pendingProps,a.type.render,a.ref,wt);break;case 5:Ch(a);default:Kx(d,a),a=mt=Em(a,Cs),a=Wx(d,a,Cs)}i.memoizedProps=i.pendingProps,a===null?Sd(i):mt=a}function rl(i,a,d,p){xs=Xa=null,Ch(a),Yo=null,tc=0;var A=a.return;try{if(w4(i,A,a,d,wt)){wn=1,fd(i,gr(d,i.current)),mt=null;return}}catch(N){if(A!==null)throw mt=A,N;wn=1,fd(i,gr(d,i.current)),mt=null;return}a.flags&32768?(Et||p===1?i=!0:el||(wt&536870912)!==0?i=!1:(ca=i=!0,(p===2||p===9||p===3||p===6)&&(p=Zi.current,p!==null&&p.tag===13&&(p.flags|=16384))),Cp(a,i)):Sd(a)}function Sd(i){var a=i;do{if((a.flags&32768)!==0){Cp(a,ca);return}i=a.return;var d=E4(a.alternate,a,Cs);if(d!==null){mt=d;return}if(a=a.sibling,a!==null){mt=a;return}mt=a=i}while(a!==null);wn===0&&(wn=5)}function Cp(i,a){do{var d=A4(i.alternate,i);if(d!==null){d.flags&=32767,mt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!a&&(i=i.sibling,i!==null)){mt=i;return}mt=i=d}while(i!==null);wn=6,mt=null}function Np(i,a,d,p,A,N,D,P,W){i.cancelPendingCommit=null;do Cd();while(qn!==0);if((Dt&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(N=a.lanes|a.childLanes,N|=Jf,cr(i,d,N,D,P,W),i===Qt&&(mt=Qt=null,wt=0),nl=a,fa=i,Ns=d,o1=N,l1=A,xp=p,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,B4(hi,function(){return Rp(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||p){p=Z.T,Z.T=null,A=oe.p,oe.p=2,D=Dt,Dt|=4;try{S4(i,a,d)}finally{Dt=D,oe.p=A,Z.T=p}}qn=1,Tp(),Op(),kp()}}function Tp(){if(qn===1){qn=0;var i=fa,a=nl,d=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||d){d=Z.T,Z.T=null;var p=oe.p;oe.p=2;var A=Dt;Dt|=4;try{lp(a,i);var N=E1,D=B(i.containerInfo),P=N.focusedElem,W=N.selectionRange;if(D!==P&&P&&P.ownerDocument&&R(P.ownerDocument.documentElement,P)){if(W!==null&&L(P)){var fe=W.start,_e=W.end;if(_e===void 0&&(_e=fe),"selectionStart"in P)P.selectionStart=fe,P.selectionEnd=Math.min(_e,P.value.length);else{var Ce=P.ownerDocument||document,ge=Ce&&Ce.defaultView||window;if(ge.getSelection){var we=ge.getSelection(),Ge=P.textContent.length,et=Math.min(W.start,Ge),Yt=W.end===void 0?et:Math.min(W.end,Ge);!we.extend&&et>Yt&&(D=Yt,Yt=et,et=D);var ae=T(P,et),ie=T(P,Yt);if(ae&&ie&&(we.rangeCount!==1||we.anchorNode!==ae.node||we.anchorOffset!==ae.offset||we.focusNode!==ie.node||we.focusOffset!==ie.offset)){var de=Ce.createRange();de.setStart(ae.node,ae.offset),we.removeAllRanges(),et>Yt?(we.addRange(de),we.extend(ie.node,ie.offset)):(de.setEnd(ie.node,ie.offset),we.addRange(de))}}}}for(Ce=[],we=P;we=we.parentNode;)we.nodeType===1&&Ce.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ce.length;P++){var Ae=Ce[P];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Pd=!!_1,E1=_1=null}finally{Dt=A,oe.p=p,Z.T=d}}i.current=a,qn=2}}function Op(){if(qn===2){qn=0;var i=fa,a=nl,d=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||d){d=Z.T,Z.T=null;var p=oe.p;oe.p=2;var A=Dt;Dt|=4;try{ip(i,a.alternate,a)}finally{Dt=A,oe.p=p,Z.T=d}}qn=3}}function kp(){if(qn===4||qn===3){qn=0,So();var i=fa,a=nl,d=Ns,p=xp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?qn=5:(qn=0,nl=fa=null,Mp(i,i.pendingLanes));var A=i.pendingLanes;if(A===0&&(da=null),Nr(d),a=a.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(Gt,a,void 0,(a.current.flags&128)===128)}catch{}if(p!==null){a=Z.T,A=oe.p,oe.p=2,Z.T=null;try{for(var N=i.onRecoverableError,D=0;D<p.length;D++){var P=p[D];N(P.value,{componentStack:P.stack})}}finally{Z.T=a,oe.p=A}}(Ns&3)!==0&&Cd(),es(i),A=i.pendingLanes,(d&261930)!==0&&(A&42)!==0?i===c1?bc++:(bc=0,c1=i):bc=0,yc(0)}}function Mp(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Jl(a)))}function Cd(){return Tp(),Op(),kp(),Rp()}function Rp(){if(qn!==5)return!1;var i=fa,a=o1;o1=0;var d=Nr(Ns),p=Z.T,A=oe.p;try{oe.p=32>d?32:d,Z.T=null,d=l1,l1=null;var N=fa,D=Ns;if(qn=0,nl=fa=null,Ns=0,(Dt&6)!==0)throw Error(s(331));var P=Dt;if(Dt|=4,hp(N.current),up(N,N.current,D,d),Dt=P,yc(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(Gt,N)}catch{}return!0}finally{oe.p=A,Z.T=p,Mp(i,a)}}function Dp(i,a,d){a=gr(d,a),a=Uh(i.stateNode,a,2),i=sa(i,a,2),i!==null&&(qr(i,2),es(i))}function Ut(i,a,d){if(i.tag===3)Dp(i,i,d);else for(;a!==null;){if(a.tag===3){Dp(a,i,d);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(da===null||!da.has(p))){i=gr(d,i),d=jx(2),p=sa(a,d,2),p!==null&&(Ix(d,p,a,i),qr(p,2),es(p));break}}a=a.return}}function f1(i,a,d){var p=i.pingCache;if(p===null){p=i.pingCache=new T4;var A=new Set;p.set(a,A)}else A=p.get(a),A===void 0&&(A=new Set,p.set(a,A));A.has(d)||(r1=!0,A.add(d),i=D4.bind(null,i,a,d),a.then(i,i))}function D4(i,a,d){var p=i.pingCache;p!==null&&p.delete(a),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Qt===i&&(wt&d)===d&&(wn===4||wn===3&&(wt&62914560)===wt&&300>tn()-wd?(Dt&2)===0&&il(i,0):s1|=d,tl===wt&&(tl=0)),es(i)}function jp(i,a){a===0&&(a=Un()),i=Va(i,a),i!==null&&(qr(i,a),es(i))}function j4(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),jp(i,d)}function I4(i,a){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,A=i.memoizedState;A!==null&&(d=A.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(a),jp(i,d)}function B4(i,a){return Hr(i,a)}var Nd=null,sl=null,h1=!1,Td=!1,g1=!1,ga=0;function es(i){i!==sl&&i.next===null&&(sl===null?Nd=sl=i:sl=sl.next=i),Td=!0,h1||(h1=!0,P4())}function yc(i,a){if(!g1&&Td){g1=!0;do for(var d=!1,p=Nd;p!==null;){if(i!==0){var A=p.pendingLanes;if(A===0)var N=0;else{var D=p.suspendedLanes,P=p.pingedLanes;N=(1<<31-ze(42|i)+1)-1,N&=A&~(D&~P),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,Pp(p,N))}else N=wt,N=Da(p,p===Qt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||ei(p,N)||(d=!0,Pp(p,N));p=p.next}while(d);g1=!1}}function L4(){Ip()}function Ip(){Td=h1=!1;var i=0;ga!==0&&W4()&&(i=ga);for(var a=tn(),d=null,p=Nd;p!==null;){var A=p.next,N=Bp(p,a);N===0?(p.next=null,d===null?Nd=A:d.next=A,A===null&&(sl=d)):(d=p,(i!==0||(N&3)!==0)&&(Td=!0)),p=A}qn!==0&&qn!==5||yc(i),ga!==0&&(ga=0)}function Bp(i,a){for(var d=i.suspendedLanes,p=i.pingedLanes,A=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var D=31-ze(N),P=1<<D,W=A[D];W===-1?((P&d)===0||(P&p)!==0)&&(A[D]=Fl(P,a)):W<=a&&(i.expiredLanes|=P),N&=~P}if(a=Qt,d=wt,d=Da(i,i===a?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===a&&(Ft===2||Ft===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&He(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||ei(i,d)){if(a=d&-d,a===i.callbackPriority)return a;switch(p!==null&&He(p),Nr(d)){case 2:case 8:d=Ma;break;case 32:d=hi;break;case 268435456:d=Ra;break;default:d=hi}return p=Lp.bind(null,i),d=Hr(d,p),i.callbackPriority=a,i.callbackNode=d,a}return p!==null&&p!==null&&He(p),i.callbackPriority=2,i.callbackNode=null,2}function Lp(i,a){if(qn!==0&&qn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Cd()&&i.callbackNode!==d)return null;var p=wt;return p=Da(i,i===Qt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(bp(i,p,a),Bp(i,tn()),i.callbackNode!=null&&i.callbackNode===d?Lp.bind(null,i):null)}function Pp(i,a){if(Cd())return null;bp(i,a,!0)}function P4(){K4(function(){(Dt&6)!==0?Hr(Zn,L4):Ip()})}function m1(){if(ga===0){var i=Go;i===0&&(i=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),ga=i}return ga}function zp(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qs(""+i)}function Fp(i,a){var d=a.ownerDocument.createElement("input");return d.name=a.name,d.value=a.value,i.id&&d.setAttribute("form",i.id),a.parentNode.insertBefore(d,a),i=new FormData(i),d.parentNode.removeChild(d),i}function z4(i,a,d,p,A){if(a==="submit"&&d&&d.stateNode===A){var N=zp((A[zt]||null).action),D=p.submitter;D&&(a=(a=D[zt]||null)?zp(a.formAction):D.getAttribute("formAction"),a!==null&&(N=a,D=null));var P=new Hn("action","action",null,p,A);i.push({event:P,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ga!==0){var W=D?Fp(A,D):new FormData(A);Ih(d,{pending:!0,data:W,method:A.method,action:N},null,W)}}else typeof N=="function"&&(P.preventDefault(),W=D?Fp(A,D):new FormData(A),Ih(d,{pending:!0,data:W,method:A.method,action:N},N,W))},currentTarget:A}]})}}for(var x1=0;x1<Kl.length;x1++){var p1=Kl[x1],F4=p1.toLowerCase(),U4=p1[0].toUpperCase()+p1.slice(1);Dr(F4,"on"+U4)}Dr(Oi,"onAnimationEnd"),Dr(ti,"onAnimationIteration"),Dr(Pt,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Gn,"onTransitionRun"),Dr(yi,"onTransitionStart"),Dr($s,"onTransitionCancel"),Dr(hs,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function Up(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],A=p.event;p=p.listeners;e:{var N=void 0;if(a)for(var D=p.length-1;0<=D;D--){var P=p[D],W=P.instance,fe=P.currentTarget;if(P=P.listener,W!==N&&A.isPropagationStopped())break e;N=P,A.currentTarget=fe;try{N(A)}catch(_e){Vu(_e)}A.currentTarget=null,N=W}else for(D=0;D<p.length;D++){if(P=p[D],W=P.instance,fe=P.currentTarget,P=P.listener,W!==N&&A.isPropagationStopped())break e;N=P,A.currentTarget=fe;try{N(A)}catch(_e){Vu(_e)}A.currentTarget=null,N=W}}}}function xt(i,a){var d=a[zs];d===void 0&&(d=a[zs]=new Set);var p=i+"__bubble";d.has(p)||(Hp(a,i,2,!1),d.add(p))}function b1(i,a,d){var p=0;a&&(p|=4),Hp(d,i,p,a)}var Od="_reactListening"+Math.random().toString(36).slice(2);function y1(i){if(!i[Od]){i[Od]=!0,Ne.forEach(function(d){d!=="selectionchange"&&(H4.has(d)||b1(d,!1,i),b1(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Od]||(a[Od]=!0,b1("selectionchange",!1,a))}}function Hp(i,a,d,p){switch(p2(a)){case 2:var A=xE;break;case 8:A=pE;break;default:A=j1}d=A.bind(null,a,d,i),A=void 0,!Vl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),p?A!==void 0?i.addEventListener(a,d,{capture:!0,passive:A}):i.addEventListener(a,d,!0):A!==void 0?i.addEventListener(a,d,{passive:A}):i.addEventListener(a,d,!1)}function w1(i,a,d,p,A){var N=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var P=p.stateNode.containerInfo;if(P===A)break;if(D===4)for(D=p.return;D!==null;){var W=D.tag;if((W===3||W===4)&&D.stateNode.containerInfo===A)return;D=D.return}for(;P!==null;){if(D=xn(P),D===null)return;if(W=D.tag,W===5||W===6||W===26||W===27){p=N=D;continue e}P=P.parentNode}}p=p.return}Ru(function(){var fe=N,_e=Hl(d),Ce=[];e:{var ge=Hu.get(i);if(ge!==void 0){var we=Hn,Ge=i;switch(i){case"keypress":if(Yr(d)===0)break e;case"keydown":case"keyup":we=Io;break;case"focusin":Ge="focus",we=Xl;break;case"focusout":Ge="blur",we=Xl;break;case"beforeblur":case"afterblur":we=Xl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Do;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Kf;break;case Oi:case ti:case Pt:we=lt;break;case hs:we=cs;break;case"scroll":case"scrollend":we=Du;break;case"wheel":we=Qf;break;case"copy":case"cut":case"paste":we=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Lt;break;case"toggle":case"beforetoggle":we=Wl}var et=(a&4)!==0,Yt=!et&&(i==="scroll"||i==="scrollend"),ae=et?ge!==null?ge+"Capture":null:ge;et=[];for(var ie=fe,de;ie!==null;){var Ae=ie;if(de=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||de===null||ae===null||(Ae=nt(ie,ae),Ae!=null&&et.push(vc(ie,Ae,de))),Yt)break;ie=ie.return}0<et.length&&(ge=new we(ge,Ge,null,d,_e),Ce.push({event:ge,listeners:et}))}}if((a&7)===0){e:{if(ge=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",ge&&d!==Ia&&(Ge=d.relatedTarget||d.fromElement)&&(xn(Ge)||Ge[Hi]))break e;if((we||ge)&&(ge=_e.window===_e?_e:(ge=_e.ownerDocument)?ge.defaultView||ge.parentWindow:window,we?(Ge=d.relatedTarget||d.toElement,we=fe,Ge=Ge?xn(Ge):null,Ge!==null&&(Yt=u(Ge),et=Ge.tag,Ge!==Yt||et!==5&&et!==27&&et!==6)&&(Ge=null)):(we=null,Ge=fe),we!==Ge)){if(et=Rt,Ae="onMouseLeave",ae="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(et=Lt,Ae="onPointerLeave",ae="onPointerEnter",ie="pointer"),Yt=we==null?ge:Fs(we),de=Ge==null?ge:Fs(Ge),ge=new et(Ae,ie+"leave",we,d,_e),ge.target=Yt,ge.relatedTarget=de,Ae=null,xn(_e)===fe&&(et=new et(ae,ie+"enter",Ge,d,_e),et.target=de,et.relatedTarget=Yt,Ae=et),Yt=Ae,we&&Ge)t:{for(et=V4,ae=we,ie=Ge,de=0,Ae=ae;Ae;Ae=et(Ae))de++;Ae=0;for(var Qe=ie;Qe;Qe=et(Qe))Ae++;for(;0<de-Ae;)ae=et(ae),de--;for(;0<Ae-de;)ie=et(ie),Ae--;for(;de--;){if(ae===ie||ie!==null&&ae===ie.alternate){et=ae;break t}ae=et(ae),ie=et(ie)}et=null}else et=null;we!==null&&Vp(Ce,ge,we,et,!1),Ge!==null&&Yt!==null&&Vp(Ce,Yt,Ge,et,!0)}}e:{if(ge=fe?Fs(fe):window,we=ge.nodeName&&ge.nodeName.toLowerCase(),we==="select"||we==="input"&&ge.type==="file")var Tt=Yi;else if(Zl(ge))if(Uu)Tt=h;else{Tt=o;var Xe=r}else we=ge.nodeName,!we||we.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?fe&&Wt(fe.elementType)&&(Tt=Yi):Tt=c;if(Tt&&(Tt=Tt(i,fe))){Xi(Ce,Tt,d,_e);break e}Xe&&Xe(i,ge,fe),i==="focusout"&&fe&&ge.type==="number"&&fe.memoizedProps.value!=null&&V(ge,"number",ge.value)}switch(Xe=fe?Fs(fe):window,i){case"focusin":(Zl(Xe)||Xe.contentEditable==="true")&&(Q=Xe,ee=fe,le=null);break;case"focusout":le=ee=Q=null;break;case"mousedown":pe=!0;break;case"contextmenu":case"mouseup":case"dragend":pe=!1,De(Ce,d,_e);break;case"selectionchange":if(q)break;case"keydown":case"keyup":De(Ce,d,_e)}var ct;if(Pa)e:{switch(i){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Qs?Fu(i,d)&&(vt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(vt="onCompositionStart");vt&&(zu&&d.locale!=="ko"&&(Qs||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Qs&&(ct=Xs()):(Mr=_e,Rr="value"in Mr?Mr.value:Mr.textContent,Qs=!0)),Xe=kd(fe,vt),0<Xe.length&&(vt=new Bu(vt,i,null,d,_e),Ce.push({event:vt,listeners:Xe}),ct?vt.data=ct:(ct=Ks(d),ct!==null&&(vt.data=ct)))),(ct=Pu?Kr(i,d):Lo(i,d))&&(vt=kd(fe,"onBeforeInput"),0<vt.length&&(Xe=new Bu("onBeforeInput","beforeinput",null,d,_e),Ce.push({event:Xe,listeners:vt}),Xe.data=ct)),z4(Ce,i,fe,d,_e)}Up(Ce,a)})}function vc(i,a,d){return{instance:i,listener:a,currentTarget:d}}function kd(i,a){for(var d=a+"Capture",p=[];i!==null;){var A=i,N=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||N===null||(A=nt(i,d),A!=null&&p.unshift(vc(i,A,N)),A=nt(i,a),A!=null&&p.push(vc(i,A,N))),i.tag===3)return p;i=i.return}return[]}function V4(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Vp(i,a,d,p,A){for(var N=a._reactName,D=[];d!==null&&d!==p;){var P=d,W=P.alternate,fe=P.stateNode;if(P=P.tag,W!==null&&W===p)break;P!==5&&P!==26&&P!==27||fe===null||(W=fe,A?(fe=nt(d,N),fe!=null&&D.unshift(vc(d,fe,W))):A||(fe=nt(d,N),fe!=null&&D.push(vc(d,fe,W)))),d=d.return}D.length!==0&&i.push({event:a,listeners:D})}var G4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function Gp(i){return(typeof i=="string"?i:""+i).replace(G4,`
`).replace(q4,"")}function qp(i,a){return a=Gp(a),Gp(i)===a}function Xt(i,a,d,p,A,N){switch(d){case"children":typeof p=="string"?a==="body"||a==="textarea"&&p===""||Gs(i,p):(typeof p=="number"||typeof p=="bigint")&&a!=="body"&&Gs(i,""+p);break;case"className":Hs(i,"class",p);break;case"tabIndex":Hs(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(i,d,p);break;case"style":Ze(i,p,N);break;case"data":if(a!=="object"){Hs(i,"data",p);break}case"src":case"href":if(p===""&&(a!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=qs(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(a!=="input"&&Xt(i,a,"name",A.name,A,null),Xt(i,a,"formEncType",A.formEncType,A,null),Xt(i,a,"formMethod",A.formMethod,A,null),Xt(i,a,"formTarget",A.formTarget,A,null)):(Xt(i,a,"encType",A.encType,A,null),Xt(i,a,"method",A.method,A,null),Xt(i,a,"target",A.target,A,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=qs(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Ni);break;case"onScroll":p!=null&&xt("scroll",i);break;case"onScrollEnd":p!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(A.children!=null)throw Error(s(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=qs(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":xt("beforetoggle",i),xt("toggle",i),Us(i,"popover",p);break;case"xlinkActuate":Gi(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Gi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Gi(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Gi(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Gi(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Gi(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Gi(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Gi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Gi(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Us(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Mu.get(d)||d,Us(i,d,p))}}function v1(i,a,d,p,A,N){switch(d){case"style":Ze(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(A.children!=null)throw Error(s(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Gs(i,p):(typeof p=="number"||typeof p=="bigint")&&Gs(i,""+p);break;case"onScroll":p!=null&&xt("scroll",i);break;case"onScrollEnd":p!=null&&xt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ku.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(A=d.endsWith("Capture"),a=d.slice(2,A?d.length-7:void 0),N=i[zt]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(a,N,A),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(a,p,A);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Us(i,d,p)}}}function si(i,a,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var p=!1,A=!1,N;for(N in d)if(d.hasOwnProperty(N)){var D=d[N];if(D!=null)switch(N){case"src":p=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Xt(i,a,N,D,d,null)}}A&&Xt(i,a,"srcSet",d.srcSet,d,null),p&&Xt(i,a,"src",d.src,d,null);return;case"input":xt("invalid",i);var P=N=D=A=null,W=null,fe=null;for(p in d)if(d.hasOwnProperty(p)){var _e=d[p];if(_e!=null)switch(p){case"name":A=_e;break;case"type":D=_e;break;case"checked":W=_e;break;case"defaultChecked":fe=_e;break;case"value":N=_e;break;case"defaultValue":P=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,a));break;default:Xt(i,a,p,_e,d,null)}}ce(i,N,P,W,fe,D,A,!1);return;case"select":xt("invalid",i),p=D=N=null;for(A in d)if(d.hasOwnProperty(A)&&(P=d[A],P!=null))switch(A){case"value":N=P;break;case"defaultValue":D=P;break;case"multiple":p=P;default:Xt(i,a,A,P,d,null)}a=N,d=D,i.multiple=!!p,a!=null?qe(i,!!p,a,!1):d!=null&&qe(i,!!p,d,!0);return;case"textarea":xt("invalid",i),N=A=p=null;for(D in d)if(d.hasOwnProperty(D)&&(P=d[D],P!=null))switch(D){case"value":p=P;break;case"defaultValue":A=P;break;case"children":N=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:Xt(i,a,D,P,d,null)}pi(i,p,A,N);return;case"option":for(W in d)d.hasOwnProperty(W)&&(p=d[W],p!=null)&&(W==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Xt(i,a,W,p,d,null));return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(p=0;p<wc.length;p++)xt(wc[p],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in d)if(d.hasOwnProperty(fe)&&(p=d[fe],p!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Xt(i,a,fe,p,d,null)}return;default:if(Wt(a)){for(_e in d)d.hasOwnProperty(_e)&&(p=d[_e],p!==void 0&&v1(i,a,_e,p,d,void 0));return}}for(P in d)d.hasOwnProperty(P)&&(p=d[P],p!=null&&Xt(i,a,P,p,d,null))}function X4(i,a,d,p){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,N=null,D=null,P=null,W=null,fe=null,_e=null;for(we in d){var Ce=d[we];if(d.hasOwnProperty(we)&&Ce!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":W=Ce;default:p.hasOwnProperty(we)||Xt(i,a,we,null,p,Ce)}}for(var ge in p){var we=p[ge];if(Ce=d[ge],p.hasOwnProperty(ge)&&(we!=null||Ce!=null))switch(ge){case"type":N=we;break;case"name":A=we;break;case"checked":fe=we;break;case"defaultChecked":_e=we;break;case"value":D=we;break;case"defaultValue":P=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,a));break;default:we!==Ce&&Xt(i,a,ge,we,p,Ce)}}jn(i,D,P,W,fe,_e,N,A);return;case"select":we=D=P=ge=null;for(N in d)if(W=d[N],d.hasOwnProperty(N)&&W!=null)switch(N){case"value":break;case"multiple":we=W;default:p.hasOwnProperty(N)||Xt(i,a,N,null,p,W)}for(A in p)if(N=p[A],W=d[A],p.hasOwnProperty(A)&&(N!=null||W!=null))switch(A){case"value":ge=N;break;case"defaultValue":P=N;break;case"multiple":D=N;default:N!==W&&Xt(i,a,A,N,p,W)}a=P,d=D,p=we,ge!=null?qe(i,!!d,ge,!1):!!p!=!!d&&(a!=null?qe(i,!!d,a,!0):qe(i,!!d,d?[]:"",!1));return;case"textarea":we=ge=null;for(P in d)if(A=d[P],d.hasOwnProperty(P)&&A!=null&&!p.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Xt(i,a,P,null,p,A)}for(D in p)if(A=p[D],N=d[D],p.hasOwnProperty(D)&&(A!=null||N!=null))switch(D){case"value":ge=A;break;case"defaultValue":we=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:A!==N&&Xt(i,a,D,A,p,N)}Sn(i,ge,we);return;case"option":for(var Ge in d)ge=d[Ge],d.hasOwnProperty(Ge)&&ge!=null&&!p.hasOwnProperty(Ge)&&(Ge==="selected"?i.selected=!1:Xt(i,a,Ge,null,p,ge));for(W in p)ge=p[W],we=d[W],p.hasOwnProperty(W)&&ge!==we&&(ge!=null||we!=null)&&(W==="selected"?i.selected=ge&&typeof ge!="function"&&typeof ge!="symbol":Xt(i,a,W,ge,p,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in d)ge=d[et],d.hasOwnProperty(et)&&ge!=null&&!p.hasOwnProperty(et)&&Xt(i,a,et,null,p,ge);for(fe in p)if(ge=p[fe],we=d[fe],p.hasOwnProperty(fe)&&ge!==we&&(ge!=null||we!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,a));break;default:Xt(i,a,fe,ge,p,we)}return;default:if(Wt(a)){for(var Yt in d)ge=d[Yt],d.hasOwnProperty(Yt)&&ge!==void 0&&!p.hasOwnProperty(Yt)&&v1(i,a,Yt,void 0,p,ge);for(_e in p)ge=p[_e],we=d[_e],!p.hasOwnProperty(_e)||ge===we||ge===void 0&&we===void 0||v1(i,a,_e,ge,p,we);return}}for(var ae in d)ge=d[ae],d.hasOwnProperty(ae)&&ge!=null&&!p.hasOwnProperty(ae)&&Xt(i,a,ae,null,p,ge);for(Ce in p)ge=p[Ce],we=d[Ce],!p.hasOwnProperty(Ce)||ge===we||ge==null&&we==null||Xt(i,a,Ce,ge,p,we)}function Xp(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y4(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var A=d[p],N=A.transferSize,D=A.initiatorType,P=A.duration;if(N&&P&&Xp(D)){for(D=0,P=A.responseEnd,p+=1;p<d.length;p++){var W=d[p],fe=W.startTime;if(fe>P)break;var _e=W.transferSize,Ce=W.initiatorType;_e&&Xp(Ce)&&(W=W.responseEnd,D+=_e*(W<P?1:(P-fe)/(W-fe)))}if(--p,a+=8*(N+D)/(A.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _1=null,E1=null;function Md(i){return i.nodeType===9?i:i.ownerDocument}function Yp(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function A1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var S1=null;function W4(){var i=window.event;return i&&i.type==="popstate"?i===S1?!1:(S1=i,!0):(S1=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,Z4=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,K4=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(i){return Kp.resolve(null).then(i).catch(Q4)}:Zp;function Q4(i){setTimeout(function(){throw i})}function ma(i){return i==="head"}function Qp(i,a){var d=a,p=0;do{var A=d.nextSibling;if(i.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(A),cl(a);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")_c(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,_c(d);for(var N=d.firstChild;N;){var D=N.nextSibling,P=N.nodeName;N[ja]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=D}}else d==="body"&&_c(i.ownerDocument.body);d=A}while(d);cl(a)}function $p(i,a){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?a?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(a?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function C1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var d=a;switch(a=a.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":C1(d),Ci(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function $4(i,a,d,p){for(;i.nodeType===1;){var A=d;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[ja])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==A.rel||i.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||i.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||i.getAttribute("title")!==(A.title==null?null:A.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(A.src==null?null:A.src)||i.getAttribute("type")!==(A.type==null?null:A.type)||i.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var N=A.name==null?null:""+A.name;if(A.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=yr(i.nextSibling),i===null)break}return null}function J4(i,a,d){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=yr(i.nextSibling),i===null))return null;return i}function Jp(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=yr(i.nextSibling),i===null))return null;return i}function N1(i){return i.data==="$?"||i.data==="$~"}function T1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function eE(i,a){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||d.readyState!=="loading")a();else{var p=function(){a(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function yr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var O1=null;function e2(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(a===0)return yr(i.nextSibling);a--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||a++}i=i.nextSibling}return null}function t2(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(a===0)return i;a--}else d!=="/$"&&d!=="/&"||a++}i=i.previousSibling}return null}function n2(i,a,d){switch(a=Md(d),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function _c(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ci(i)}var wr=new Map,i2=new Set;function Rd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=oe.d;oe.d={f:tE,r:nE,D:iE,C:rE,L:sE,m:aE,X:lE,S:oE,M:cE};function tE(){var i=Ts.f(),a=Ed();return i||a}function nE(i){var a=Mt(i);a!==null&&a.tag===5&&a.type==="form"?wx(a):Ts.r(i)}var al=typeof document>"u"?null:document;function r2(i,a,d){var p=al;if(p&&typeof a=="string"&&a){var A=ft(a);A='link[rel="'+i+'"][href="'+A+'"]',typeof d=="string"&&(A+='[crossorigin="'+d+'"]'),i2.has(A)||(i2.add(A),i={rel:i,crossOrigin:d,href:a},p.querySelector(A)===null&&(a=p.createElement("link"),si(a,"link",i),pn(a),p.head.appendChild(a)))}}function iE(i){Ts.D(i),r2("dns-prefetch",i,null)}function rE(i,a){Ts.C(i,a),r2("preconnect",i,a)}function sE(i,a,d){Ts.L(i,a,d);var p=al;if(p&&i&&a){var A='link[rel="preload"][as="'+ft(a)+'"]';a==="image"&&d&&d.imageSrcSet?(A+='[imagesrcset="'+ft(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(A+='[imagesizes="'+ft(d.imageSizes)+'"]')):A+='[href="'+ft(i)+'"]';var N=A;switch(a){case"style":N=ol(i);break;case"script":N=ll(i)}wr.has(N)||(i=E({rel:"preload",href:a==="image"&&d&&d.imageSrcSet?void 0:i,as:a},d),wr.set(N,i),p.querySelector(A)!==null||a==="style"&&p.querySelector(Ec(N))||a==="script"&&p.querySelector(Ac(N))||(a=p.createElement("link"),si(a,"link",i),pn(a),p.head.appendChild(a)))}}function aE(i,a){Ts.m(i,a);var d=al;if(d&&i){var p=a&&typeof a.as=="string"?a.as:"script",A='link[rel="modulepreload"][as="'+ft(p)+'"][href="'+ft(i)+'"]',N=A;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=ll(i)}if(!wr.has(N)&&(i=E({rel:"modulepreload",href:i},a),wr.set(N,i),d.querySelector(A)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ac(N)))return}p=d.createElement("link"),si(p,"link",i),pn(p),d.head.appendChild(p)}}}function oE(i,a,d){Ts.S(i,a,d);var p=al;if(p&&i){var A=xi(p).hoistableStyles,N=ol(i);a=a||"default";var D=A.get(N);if(!D){var P={loading:0,preload:null};if(D=p.querySelector(Ec(N)))P.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":a},d),(d=wr.get(N))&&k1(i,d);var W=D=p.createElement("link");pn(W),si(W,"link",i),W._p=new Promise(function(fe,_e){W.onload=fe,W.onerror=_e}),W.addEventListener("load",function(){P.loading|=1}),W.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Dd(D,a,p)}D={type:"stylesheet",instance:D,count:1,state:P},A.set(N,D)}}}function lE(i,a){Ts.X(i,a);var d=al;if(d&&i){var p=xi(d).hoistableScripts,A=ll(i),N=p.get(A);N||(N=d.querySelector(Ac(A)),N||(i=E({src:i,async:!0},a),(a=wr.get(A))&&M1(i,a),N=d.createElement("script"),pn(N),si(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(A,N))}}function cE(i,a){Ts.M(i,a);var d=al;if(d&&i){var p=xi(d).hoistableScripts,A=ll(i),N=p.get(A);N||(N=d.querySelector(Ac(A)),N||(i=E({src:i,async:!0,type:"module"},a),(a=wr.get(A))&&M1(i,a),N=d.createElement("script"),pn(N),si(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(A,N))}}function s2(i,a,d,p){var A=(A=Se.current)?Rd(A):null;if(!A)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(a=ol(d.href),d=xi(A).hoistableStyles,p=d.get(a),p||(p={type:"style",instance:null,count:0,state:null},d.set(a,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=ol(d.href);var N=xi(A).hoistableStyles,D=N.get(i);if(D||(A=A.ownerDocument||A,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,D),(N=A.querySelector(Ec(i)))&&!N._p&&(D.instance=N,D.state.loading=5),wr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},wr.set(i,d),N||uE(A,i,d,D.state))),a&&p===null)throw Error(s(528,""));return D}if(a&&p!==null)throw Error(s(529,""));return null;case"script":return a=d.async,d=d.src,typeof d=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ll(d),d=xi(A).hoistableScripts,p=d.get(a),p||(p={type:"script",instance:null,count:0,state:null},d.set(a,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ol(i){return'href="'+ft(i)+'"'}function Ec(i){return'link[rel="stylesheet"]['+i+"]"}function a2(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function uE(i,a,d,p){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?p.loading=1:(a=i.createElement("link"),p.preload=a,a.addEventListener("load",function(){return p.loading|=1}),a.addEventListener("error",function(){return p.loading|=2}),si(a,"link",d),pn(a),i.head.appendChild(a))}function ll(i){return'[src="'+ft(i)+'"]'}function Ac(i){return"script[async]"+i}function o2(i,a,d){if(a.count++,a.instance===null)switch(a.type){case"style":var p=i.querySelector('style[data-href~="'+ft(d.href)+'"]');if(p)return a.instance=p,pn(p),p;var A=E({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),pn(p),si(p,"style",A),Dd(p,d.precedence,i),a.instance=p;case"stylesheet":A=ol(d.href);var N=i.querySelector(Ec(A));if(N)return a.state.loading|=4,a.instance=N,pn(N),N;p=a2(d),(A=wr.get(A))&&k1(p,A),N=(i.ownerDocument||i).createElement("link"),pn(N);var D=N;return D._p=new Promise(function(P,W){D.onload=P,D.onerror=W}),si(N,"link",p),a.state.loading|=4,Dd(N,d.precedence,i),a.instance=N;case"script":return N=ll(d.src),(A=i.querySelector(Ac(N)))?(a.instance=A,pn(A),A):(p=d,(A=wr.get(N))&&(p=E({},d),M1(p,A)),i=i.ownerDocument||i,A=i.createElement("script"),pn(A),si(A,"link",p),i.head.appendChild(A),a.instance=A);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(p=a.instance,a.state.loading|=4,Dd(p,d.precedence,i));return a.instance}function Dd(i,a,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=p.length?p[p.length-1]:null,N=A,D=0;D<p.length;D++){var P=p[D];if(P.dataset.precedence===a)N=P;else if(N!==A)break}N?N.parentNode.insertBefore(i,N.nextSibling):(a=d.nodeType===9?d.head:d,a.insertBefore(i,a.firstChild))}function k1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function M1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var jd=null;function l2(i,a,d){if(jd===null){var p=new Map,A=jd=new Map;A.set(d,p)}else A=jd,p=A.get(d),p||(p=new Map,A.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),A=0;A<d.length;A++){var N=d[A];if(!(N[ja]||N[An]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(a)||"";D=i+D;var P=p.get(D);P?P.push(N):p.set(D,[N])}}return p}function c2(i,a,d){i=i.ownerDocument||i,i.head.insertBefore(d,a==="title"?i.querySelector("head > title"):null)}function dE(i,a,d){if(d===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function u2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function fE(i,a,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var A=ol(p.href),N=a.querySelector(Ec(A));if(N){a=N._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Id.bind(i),a.then(i,i)),d.state.loading|=4,d.instance=N,pn(N);return}N=a.ownerDocument||a,p=a2(p),(A=wr.get(A))&&k1(p,A),N=N.createElement("link"),pn(N);var D=N;D._p=new Promise(function(P,W){D.onload=P,D.onerror=W}),si(N,"link",p),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,a),(a=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=Id.bind(i),a.addEventListener("load",d),a.addEventListener("error",d))}}var R1=0;function hE(i,a){return i.stylesheets&&i.count===0&&Ld(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&Ld(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+a);0<i.imgBytes&&R1===0&&(R1=62500*Y4());var A=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ld(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>R1?50:800)+a);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(A)}}:null}function Id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bd=null;function Ld(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bd=new Map,a.forEach(gE,i),Bd=null,Id.call(i))}function gE(i,a){if(!(a.state.loading&4)){var d=Bd.get(i);if(d)var p=d.get(null);else{d=new Map,Bd.set(i,d);for(var A=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<A.length;N++){var D=A[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}A=a.instance,D=A.getAttribute("data-precedence"),N=d.get(D)||p,N===p&&d.set(null,A),d.set(D,A),this.count++,p=Id.bind(this),A.addEventListener("load",p),A.addEventListener("error",p),N?N.parentNode.insertBefore(A,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(A,i.firstChild)),a.state.loading|=4}}var Sc={$$typeof:z,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function mE(i,a,d,p,A,N,D,P,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=p,this.onUncaughtError=A,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function d2(i,a,d,p,A,N,D,P,W,fe,_e,Ce){return i=new mE(i,a,d,D,W,fe,_e,Ce,P),a=1,N===!0&&(a|=24),N=Wi(3,null,null,a),i.current=N,N.stateNode=i,a=dh(),a.refCount++,i.pooledCache=a,a.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:a},mh(N),i}function f2(i){return i?(i=zo,i):zo}function h2(i,a,d,p,A,N){A=f2(A),p.context===null?p.context=A:p.pendingContext=A,p=ra(a),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=sa(i,p,a),d!==null&&(ji(d,i,a),ic(d,i,a))}function g2(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function D1(i,a){g2(i,a),(i=i.alternate)&&g2(i,a)}function m2(i){if(i.tag===13||i.tag===31){var a=Va(i,67108864);a!==null&&ji(a,i,67108864),D1(i,67108864)}}function x2(i){if(i.tag===13||i.tag===31){var a=Ji();a=Qn(a);var d=Va(i,a);d!==null&&ji(d,i,a),D1(i,a)}}var Pd=!0;function xE(i,a,d,p){var A=Z.T;Z.T=null;var N=oe.p;try{oe.p=2,j1(i,a,d,p)}finally{oe.p=N,Z.T=A}}function pE(i,a,d,p){var A=Z.T;Z.T=null;var N=oe.p;try{oe.p=8,j1(i,a,d,p)}finally{oe.p=N,Z.T=A}}function j1(i,a,d,p){if(Pd){var A=I1(p);if(A===null)w1(i,a,p,zd,d),b2(i,p);else if(yE(A,i,a,d,p))p.stopPropagation();else if(b2(i,p),a&4&&-1<bE.indexOf(i)){for(;A!==null;){var N=Mt(A);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=Vr(N.pendingLanes);if(D!==0){var P=N;for(P.pendingLanes|=2,P.entangledLanes|=2;D;){var W=1<<31-ze(D);P.entanglements[1]|=W,D&=~W}es(N),(Dt&6)===0&&(vd=tn()+500,yc(0))}}break;case 31:case 13:P=Va(N,2),P!==null&&ji(P,N,2),Ed(),D1(N,2)}if(N=I1(p),N===null&&w1(i,a,p,zd,d),N===A)break;A=N}A!==null&&p.stopPropagation()}else w1(i,a,p,null,d)}}function I1(i){return i=Hl(i),B1(i)}var zd=null;function B1(i){if(zd=null,i=xn(i),i!==null){var a=u(i);if(a===null)i=null;else{var d=a.tag;if(d===13){if(i=g(a),i!==null)return i;i=null}else if(d===31){if(i=y(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return zd=i,null}function p2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case Zn:return 2;case Ma:return 8;case hi:case Fn:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var L1=!1,xa=null,pa=null,ba=null,Cc=new Map,Nc=new Map,ya=[],bE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b2(i,a){switch(i){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Cc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(a.pointerId)}}function Tc(i,a,d,p,A,N){return i===null||i.nativeEvent!==N?(i={blockedOn:a,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[A]},a!==null&&(a=Mt(a),a!==null&&m2(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),i)}function yE(i,a,d,p,A){switch(a){case"focusin":return xa=Tc(xa,i,a,d,p,A),!0;case"dragenter":return pa=Tc(pa,i,a,d,p,A),!0;case"mouseover":return ba=Tc(ba,i,a,d,p,A),!0;case"pointerover":var N=A.pointerId;return Cc.set(N,Tc(Cc.get(N)||null,i,a,d,p,A)),!0;case"gotpointercapture":return N=A.pointerId,Nc.set(N,Tc(Nc.get(N)||null,i,a,d,p,A)),!0}return!1}function y2(i){var a=xn(i.target);if(a!==null){var d=u(a);if(d!==null){if(a=d.tag,a===13){if(a=g(d),a!==null){i.blockedOn=a,Fe(i.priority,function(){x2(d)});return}}else if(a===31){if(a=y(d),a!==null){i.blockedOn=a,Fe(i.priority,function(){x2(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=I1(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Ia=p,d.target.dispatchEvent(p),Ia=null}else return a=Mt(d),a!==null&&m2(a),i.blockedOn=d,!1;a.shift()}return!0}function w2(i,a,d){Fd(i)&&d.delete(a)}function wE(){L1=!1,xa!==null&&Fd(xa)&&(xa=null),pa!==null&&Fd(pa)&&(pa=null),ba!==null&&Fd(ba)&&(ba=null),Cc.forEach(w2),Nc.forEach(w2)}function Ud(i,a){i.blockedOn===a&&(i.blockedOn=null,L1||(L1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wE)))}var Hd=null;function v2(i){Hd!==i&&(Hd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hd===i&&(Hd=null);for(var a=0;a<i.length;a+=3){var d=i[a],p=i[a+1],A=i[a+2];if(typeof p!="function"){if(B1(p||d)===null)continue;break}var N=Mt(d);N!==null&&(i.splice(a,3),a-=3,Ih(N,{pending:!0,data:A,method:d.method,action:p},p,A))}}))}function cl(i){function a(W){return Ud(W,i)}xa!==null&&Ud(xa,i),pa!==null&&Ud(pa,i),ba!==null&&Ud(ba,i),Cc.forEach(a),Nc.forEach(a);for(var d=0;d<ya.length;d++){var p=ya[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<ya.length&&(d=ya[0],d.blockedOn===null);)y2(d),d.blockedOn===null&&ya.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var A=d[p],N=d[p+1],D=A[zt]||null;if(typeof N=="function")D||v2(d);else if(D){var P=null;if(N&&N.hasAttribute("formAction")){if(A=N,D=N[zt]||null)P=D.formAction;else if(B1(A)!==null)continue}else P=D.action;typeof P=="function"?d[p+1]=P:(d.splice(p,3),p-=3),v2(d)}}}function _2(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(D){return A=D})},focusReset:"manual",scroll:"manual"})}function a(){A!==null&&(A(),A=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,A=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),A!==null&&(A(),A=null)}}}function P1(i){this._internalRoot=i}Vd.prototype.render=P1.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var d=a.current,p=Ji();h2(d,p,i,a,null,null)},Vd.prototype.unmount=P1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;h2(i.current,2,null,i,null,null),Ed(),a[Hi]=null}};function Vd(i){this._internalRoot=i}Vd.prototype.unstable_scheduleHydration=function(i){if(i){var a=gi();i={blockedOn:null,target:i,priority:a};for(var d=0;d<ya.length&&a!==0&&a<ya[d].priority;d++);ya.splice(d,0,i),d===0&&y2(i)}};var E2=e.version;if(E2!=="19.2.3")throw Error(s(527,E2,"19.2.3"));oe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(a),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var vE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{Gt=Gd.inject(vE),te=Gd}catch{}}return kc.createRoot=function(i,a){if(!l(i))throw Error(s(299));var d=!1,p="",A=kx,N=Mx,D=Rx;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(A=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=d2(i,1,!1,null,null,d,p,null,A,N,D,_2),i[Hi]=a.current,y1(i),new P1(a)},kc.hydrateRoot=function(i,a,d){if(!l(i))throw Error(s(299));var p=!1,A="",N=kx,D=Mx,P=Rx,W=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(P=d.onRecoverableError),d.formState!==void 0&&(W=d.formState)),a=d2(i,1,!0,a,d??null,p,A,W,N,D,P,_2),a.context=f2(null),d=a.current,p=Ji(),p=Qn(p),A=ra(p),A.callback=null,sa(d,A,p),d=p,a.current.lanes=d,qr(a,d),es(a),i[Hi]=a.current,y1(i),new Vd(a)},kc.version="19.2.3",kc}var D2;function RE(){if(D2)return U1.exports;D2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),U1.exports=ME(),U1.exports}var DE=RE();function Jw(t,e){return function(){return t.apply(e,arguments)}}const{toString:jE}=Object.prototype,{getPrototypeOf:Bg}=Object,{iterator:Af,toStringTag:ev}=Symbol,Sf=(t=>e=>{const n=jE.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fr=t=>(t=t.toLowerCase(),e=>Sf(e)===t),Cf=t=>e=>typeof e===t,{isArray:Ml}=Array,_l=Cf("undefined");function fu(t){return t!==null&&!_l(t)&&t.constructor!==null&&!_l(t.constructor)&&Li(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tv=Fr("ArrayBuffer");function IE(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tv(t.buffer),e}const BE=Cf("string"),Li=Cf("function"),nv=Cf("number"),hu=t=>t!==null&&typeof t=="object",LE=t=>t===!0||t===!1,q0=t=>{if(Sf(t)!=="object")return!1;const e=Bg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ev in t)&&!(Af in t)},PE=t=>{if(!hu(t)||fu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},zE=Fr("Date"),FE=Fr("File"),UE=Fr("Blob"),HE=Fr("FileList"),VE=t=>hu(t)&&Li(t.pipe),GE=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Li(t.append)&&((e=Sf(t))==="formdata"||e==="object"&&Li(t.toString)&&t.toString()==="[object FormData]"))},qE=Fr("URLSearchParams"),[XE,YE,WE,ZE]=["ReadableStream","Request","Response","Headers"].map(Fr),KE=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,l;if(typeof t!="object"&&(t=[t]),Ml(t))for(s=0,l=t.length;s<l;s++)e.call(null,t[s],s,t);else{if(fu(t))return;const u=n?Object.getOwnPropertyNames(t):Object.keys(t),g=u.length;let y;for(s=0;s<g;s++)y=u[s],e.call(null,t[y],y,t)}}function iv(t,e){if(fu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,l;for(;s-- >0;)if(l=n[s],e===l.toLowerCase())return l;return null}const uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rv=t=>!_l(t)&&t!==uo;function mg(){const{caseless:t,skipUndefined:e}=rv(this)&&this||{},n={},s=(l,u)=>{const g=t&&iv(n,u)||u;q0(n[g])&&q0(l)?n[g]=mg(n[g],l):q0(l)?n[g]=mg({},l):Ml(l)?n[g]=l.slice():(!e||!_l(l))&&(n[g]=l)};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&gu(arguments[l],s);return n}const QE=(t,e,n,{allOwnKeys:s}={})=>(gu(e,(l,u)=>{n&&Li(l)?t[u]=Jw(l,n):t[u]=l},{allOwnKeys:s}),t),$E=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),JE=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},eA=(t,e,n,s)=>{let l,u,g;const y={};if(e=e||{},t==null)return e;do{for(l=Object.getOwnPropertyNames(t),u=l.length;u-- >0;)g=l[u],(!s||s(g,t,e))&&!y[g]&&(e[g]=t[g],y[g]=!0);t=n!==!1&&Bg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},tA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},nA=t=>{if(!t)return null;if(Ml(t))return t;let e=t.length;if(!nv(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},iA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Bg(Uint8Array)),rA=(t,e)=>{const s=(t&&t[Af]).call(t);let l;for(;(l=s.next())&&!l.done;){const u=l.value;e.call(t,u[0],u[1])}},sA=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},aA=Fr("HTMLFormElement"),oA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,l){return s.toUpperCase()+l}),j2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),lA=Fr("RegExp"),sv=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};gu(n,(l,u)=>{let g;(g=e(l,u,t))!==!1&&(s[u]=g||l)}),Object.defineProperties(t,s)},cA=t=>{sv(t,(e,n)=>{if(Li(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Li(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},uA=(t,e)=>{const n={},s=l=>{l.forEach(u=>{n[u]=!0})};return Ml(t)?s(t):s(String(t).split(e)),n},dA=()=>{},fA=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function hA(t){return!!(t&&Li(t.append)&&t[ev]==="FormData"&&t[Af])}const gA=t=>{const e=new Array(10),n=(s,l)=>{if(hu(s)){if(e.indexOf(s)>=0)return;if(fu(s))return s;if(!("toJSON"in s)){e[l]=s;const u=Ml(s)?[]:{};return gu(s,(g,y)=>{const b=n(g,l+1);!_l(b)&&(u[y]=b)}),e[l]=void 0,u}}return s};return n(t,0)},mA=Fr("AsyncFunction"),xA=t=>t&&(hu(t)||Li(t))&&Li(t.then)&&Li(t.catch),av=((t,e)=>t?setImmediate:e?((n,s)=>(uo.addEventListener("message",({source:l,data:u})=>{l===uo&&u===n&&s.length&&s.shift()()},!1),l=>{s.push(l),uo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Li(uo.postMessage)),pA=typeof queueMicrotask<"u"?queueMicrotask.bind(uo):typeof process<"u"&&process.nextTick||av,bA=t=>t!=null&&Li(t[Af]),ye={isArray:Ml,isArrayBuffer:tv,isBuffer:fu,isFormData:GE,isArrayBufferView:IE,isString:BE,isNumber:nv,isBoolean:LE,isObject:hu,isPlainObject:q0,isEmptyObject:PE,isReadableStream:XE,isRequest:YE,isResponse:WE,isHeaders:ZE,isUndefined:_l,isDate:zE,isFile:FE,isBlob:UE,isRegExp:lA,isFunction:Li,isStream:VE,isURLSearchParams:qE,isTypedArray:iA,isFileList:HE,forEach:gu,merge:mg,extend:QE,trim:KE,stripBOM:$E,inherits:JE,toFlatObject:eA,kindOf:Sf,kindOfTest:Fr,endsWith:tA,toArray:nA,forEachEntry:rA,matchAll:sA,isHTMLForm:aA,hasOwnProperty:j2,hasOwnProp:j2,reduceDescriptors:sv,freezeMethods:cA,toObjectSet:uA,toCamelCase:oA,noop:dA,toFiniteNumber:fA,findKey:iv,global:uo,isContextDefined:rv,isSpecCompliantForm:hA,toJSONObject:gA,isAsyncFn:mA,isThenable:xA,setImmediate:av,asap:pA,isIterable:bA};function ot(t,e,n,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}ye.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const ov=ot.prototype,lv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lv[t]={value:t}});Object.defineProperties(ot,lv);Object.defineProperty(ov,"isAxiosError",{value:!0});ot.from=(t,e,n,s,l,u)=>{const g=Object.create(ov);ye.toFlatObject(t,g,function(w){return w!==Error.prototype},f=>f!=="isAxiosError");const y=t&&t.message?t.message:"Error",b=e==null&&t?t.code:e;return ot.call(g,y,b,n,s,l),t&&g.cause==null&&Object.defineProperty(g,"cause",{value:t,configurable:!0}),g.name=t&&t.name||"Error",u&&Object.assign(g,u),g};const yA=null;function xg(t){return ye.isPlainObject(t)||ye.isArray(t)}function cv(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function I2(t,e,n){return t?t.concat(e).map(function(l,u){return l=cv(l),!n&&u?"["+l+"]":l}).join(n?".":""):e}function wA(t){return ye.isArray(t)&&!t.some(xg)}const vA=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function Nf(t,e,n){if(!ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,j){return!ye.isUndefined(j[M])});const s=n.metaTokens,l=n.visitor||w,u=n.dots,g=n.indexes,b=(n.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(l))throw new TypeError("visitor must be a function");function f(k){if(k===null)return"";if(ye.isDate(k))return k.toISOString();if(ye.isBoolean(k))return k.toString();if(!b&&ye.isBlob(k))throw new ot("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(k)||ye.isTypedArray(k)?b&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function w(k,M,j){let F=k;if(k&&!j&&typeof k=="object"){if(ye.endsWith(M,"{}"))M=s?M:M.slice(0,-2),k=JSON.stringify(k);else if(ye.isArray(k)&&wA(k)||(ye.isFileList(k)||ye.endsWith(M,"[]"))&&(F=ye.toArray(k)))return M=cv(M),F.forEach(function(z,U){!(ye.isUndefined(z)||z===null)&&e.append(g===!0?I2([M],U,u):g===null?M:M+"[]",f(z))}),!1}return xg(k)?!0:(e.append(I2(j,M,u),f(k)),!1)}const E=[],S=Object.assign(vA,{defaultVisitor:w,convertValue:f,isVisitable:xg});function O(k,M){if(!ye.isUndefined(k)){if(E.indexOf(k)!==-1)throw Error("Circular reference detected in "+M.join("."));E.push(k),ye.forEach(k,function(F,H){(!(ye.isUndefined(F)||F===null)&&l.call(e,F,ye.isString(H)?H.trim():H,M,S))===!0&&O(F,M?M.concat(H):[H])}),E.pop()}}if(!ye.isObject(t))throw new TypeError("data must be an object");return O(t),e}function B2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Lg(t,e){this._pairs=[],t&&Nf(t,this,e)}const uv=Lg.prototype;uv.append=function(e,n){this._pairs.push([e,n])};uv.toString=function(e){const n=e?function(s){return e.call(this,s,B2)}:B2;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function _A(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dv(t,e,n){if(!e)return t;const s=n&&n.encode||_A;ye.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let u;if(l?u=l(e,n):u=ye.isURLSearchParams(e)?e.toString():new Lg(e,n).toString(s),u){const g=t.indexOf("#");g!==-1&&(t=t.slice(0,g)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class L2{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(s){s!==null&&e(s)})}}const fv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EA=typeof URLSearchParams<"u"?URLSearchParams:Lg,AA=typeof FormData<"u"?FormData:null,SA=typeof Blob<"u"?Blob:null,CA={isBrowser:!0,classes:{URLSearchParams:EA,FormData:AA,Blob:SA},protocols:["http","https","file","blob","url","data"]},Pg=typeof window<"u"&&typeof document<"u",pg=typeof navigator=="object"&&navigator||void 0,NA=Pg&&(!pg||["ReactNative","NativeScript","NS"].indexOf(pg.product)<0),TA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",OA=Pg&&window.location.href||"http://localhost",kA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pg,hasStandardBrowserEnv:NA,hasStandardBrowserWebWorkerEnv:TA,navigator:pg,origin:OA},Symbol.toStringTag,{value:"Module"})),ci={...kA,...CA};function MA(t,e){return Nf(t,new ci.classes.URLSearchParams,{visitor:function(n,s,l,u){return ci.isNode&&ye.isBuffer(n)?(this.append(s,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...e})}function RA(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function DA(t){const e={},n=Object.keys(t);let s;const l=n.length;let u;for(s=0;s<l;s++)u=n[s],e[u]=t[u];return e}function hv(t){function e(n,s,l,u){let g=n[u++];if(g==="__proto__")return!0;const y=Number.isFinite(+g),b=u>=n.length;return g=!g&&ye.isArray(l)?l.length:g,b?(ye.hasOwnProp(l,g)?l[g]=[l[g],s]:l[g]=s,!y):((!l[g]||!ye.isObject(l[g]))&&(l[g]=[]),e(n,s,l[g],u)&&ye.isArray(l[g])&&(l[g]=DA(l[g])),!y)}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const n={};return ye.forEachEntry(t,(s,l)=>{e(RA(s),l,n,0)}),n}return null}function jA(t,e,n){if(ye.isString(t))try{return(e||JSON.parse)(t),ye.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const mu={transitional:fv,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",l=s.indexOf("application/json")>-1,u=ye.isObject(e);if(u&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return l?JSON.stringify(hv(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let y;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return MA(e,this.formSerializer).toString();if((y=ye.isFileList(e))||s.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Nf(y?{"files[]":e}:e,b&&new b,this.formSerializer)}}return u||l?(n.setContentType("application/json",!1),jA(e)):e}],transformResponse:[function(e){const n=this.transitional||mu.transitional,s=n&&n.forcedJSONParsing,l=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(s&&!this.responseType||l)){const g=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(e,this.parseReviver)}catch(y){if(g)throw y.name==="SyntaxError"?ot.from(y,ot.ERR_BAD_RESPONSE,this,null,this.response):y}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ci.classes.FormData,Blob:ci.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],t=>{mu.headers[t]={}});const IA=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BA=t=>{const e={};let n,s,l;return t&&t.split(`
`).forEach(function(g){l=g.indexOf(":"),n=g.substring(0,l).trim().toLowerCase(),s=g.substring(l+1).trim(),!(!n||e[n]&&IA[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},P2=Symbol("internals");function Mc(t){return t&&String(t).trim().toLowerCase()}function X0(t){return t===!1||t==null?t:ye.isArray(t)?t.map(X0):String(t)}function LA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const PA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function q1(t,e,n,s,l){if(ye.isFunction(s))return s.call(this,e,n);if(l&&(e=n),!!ye.isString(e)){if(ye.isString(s))return e.indexOf(s)!==-1;if(ye.isRegExp(s))return s.test(e)}}function zA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function FA(t,e){const n=ye.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(l,u,g){return this[s].call(this,e,l,u,g)},configurable:!0})})}let Pi=class{constructor(e){e&&this.set(e)}set(e,n,s){const l=this;function u(y,b,f){const w=Mc(b);if(!w)throw new Error("header name must be a non-empty string");const E=ye.findKey(l,w);(!E||l[E]===void 0||f===!0||f===void 0&&l[E]!==!1)&&(l[E||b]=X0(y))}const g=(y,b)=>ye.forEach(y,(f,w)=>u(f,w,b));if(ye.isPlainObject(e)||e instanceof this.constructor)g(e,n);else if(ye.isString(e)&&(e=e.trim())&&!PA(e))g(BA(e),n);else if(ye.isObject(e)&&ye.isIterable(e)){let y={},b,f;for(const w of e){if(!ye.isArray(w))throw TypeError("Object iterator must return a key-value pair");y[f=w[0]]=(b=y[f])?ye.isArray(b)?[...b,w[1]]:[b,w[1]]:w[1]}g(y,n)}else e!=null&&u(n,e,s);return this}get(e,n){if(e=Mc(e),e){const s=ye.findKey(this,e);if(s){const l=this[s];if(!n)return l;if(n===!0)return LA(l);if(ye.isFunction(n))return n.call(this,l,s);if(ye.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Mc(e),e){const s=ye.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||q1(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let l=!1;function u(g){if(g=Mc(g),g){const y=ye.findKey(s,g);y&&(!n||q1(s,s[y],y,n))&&(delete s[y],l=!0)}}return ye.isArray(e)?e.forEach(u):u(e),l}clear(e){const n=Object.keys(this);let s=n.length,l=!1;for(;s--;){const u=n[s];(!e||q1(this,this[u],u,e,!0))&&(delete this[u],l=!0)}return l}normalize(e){const n=this,s={};return ye.forEach(this,(l,u)=>{const g=ye.findKey(s,u);if(g){n[g]=X0(l),delete n[u];return}const y=e?zA(u):String(u).trim();y!==u&&delete n[u],n[y]=X0(l),s[y]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ye.forEach(this,(s,l)=>{s!=null&&s!==!1&&(n[l]=e&&ye.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(l=>s.set(l)),s}static accessor(e){const s=(this[P2]=this[P2]={accessors:{}}).accessors,l=this.prototype;function u(g){const y=Mc(g);s[y]||(FA(l,g),s[y]=!0)}return ye.isArray(e)?e.forEach(u):u(e),this}};Pi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(Pi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});ye.freezeMethods(Pi);function X1(t,e){const n=this||mu,s=e||n,l=Pi.from(s.headers);let u=s.data;return ye.forEach(t,function(y){u=y.call(n,u,l.normalize(),e?e.status:void 0)}),l.normalize(),u}function gv(t){return!!(t&&t.__CANCEL__)}function Rl(t,e,n){ot.call(this,t??"canceled",ot.ERR_CANCELED,e,n),this.name="CanceledError"}ye.inherits(Rl,ot,{__CANCEL__:!0});function mv(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new ot("Request failed with status code "+n.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function UA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function HA(t,e){t=t||10;const n=new Array(t),s=new Array(t);let l=0,u=0,g;return e=e!==void 0?e:1e3,function(b){const f=Date.now(),w=s[u];g||(g=f),n[l]=b,s[l]=f;let E=u,S=0;for(;E!==l;)S+=n[E++],E=E%t;if(l=(l+1)%t,l===u&&(u=(u+1)%t),f-g<e)return;const O=w&&f-w;return O?Math.round(S*1e3/O):void 0}}function VA(t,e){let n=0,s=1e3/e,l,u;const g=(f,w=Date.now())=>{n=w,l=null,u&&(clearTimeout(u),u=null),t(...f)};return[(...f)=>{const w=Date.now(),E=w-n;E>=s?g(f,w):(l=f,u||(u=setTimeout(()=>{u=null,g(l)},s-E)))},()=>l&&g(l)]}const Q0=(t,e,n=3)=>{let s=0;const l=HA(50,250);return VA(u=>{const g=u.loaded,y=u.lengthComputable?u.total:void 0,b=g-s,f=l(b),w=g<=y;s=g;const E={loaded:g,total:y,progress:y?g/y:void 0,bytes:b,rate:f||void 0,estimated:f&&y&&w?(y-g)/f:void 0,event:u,lengthComputable:y!=null,[e?"download":"upload"]:!0};t(E)},n)},z2=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},F2=t=>(...e)=>ye.asap(()=>t(...e)),GA=ci.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ci.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ci.origin),ci.navigator&&/(msie|trident)/i.test(ci.navigator.userAgent)):()=>!0,qA=ci.hasStandardBrowserEnv?{write(t,e,n,s,l,u,g){if(typeof document>"u")return;const y=[`${t}=${encodeURIComponent(e)}`];ye.isNumber(n)&&y.push(`expires=${new Date(n).toUTCString()}`),ye.isString(s)&&y.push(`path=${s}`),ye.isString(l)&&y.push(`domain=${l}`),u===!0&&y.push("secure"),ye.isString(g)&&y.push(`SameSite=${g}`),document.cookie=y.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function XA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function YA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function xv(t,e,n){let s=!XA(e);return t&&(s||n==!1)?YA(t,e):e}const U2=t=>t instanceof Pi?{...t}:t;function bo(t,e){e=e||{};const n={};function s(f,w,E,S){return ye.isPlainObject(f)&&ye.isPlainObject(w)?ye.merge.call({caseless:S},f,w):ye.isPlainObject(w)?ye.merge({},w):ye.isArray(w)?w.slice():w}function l(f,w,E,S){if(ye.isUndefined(w)){if(!ye.isUndefined(f))return s(void 0,f,E,S)}else return s(f,w,E,S)}function u(f,w){if(!ye.isUndefined(w))return s(void 0,w)}function g(f,w){if(ye.isUndefined(w)){if(!ye.isUndefined(f))return s(void 0,f)}else return s(void 0,w)}function y(f,w,E){if(E in e)return s(f,w);if(E in t)return s(void 0,f)}const b={url:u,method:u,data:u,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:y,headers:(f,w,E)=>l(U2(f),U2(w),E,!0)};return ye.forEach(Object.keys({...t,...e}),function(w){const E=b[w]||l,S=E(t[w],e[w],w);ye.isUndefined(S)&&E!==y||(n[w]=S)}),n}const pv=t=>{const e=bo({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:u,headers:g,auth:y}=e;if(e.headers=g=Pi.from(g),e.url=dv(xv(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),y&&g.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),ye.isFormData(n)){if(ci.hasStandardBrowserEnv||ci.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if(ye.isFunction(n.getHeaders)){const b=n.getHeaders(),f=["content-type","content-length"];Object.entries(b).forEach(([w,E])=>{f.includes(w.toLowerCase())&&g.set(w,E)})}}if(ci.hasStandardBrowserEnv&&(s&&ye.isFunction(s)&&(s=s(e)),s||s!==!1&&GA(e.url))){const b=l&&u&&qA.read(u);b&&g.set(l,b)}return e},WA=typeof XMLHttpRequest<"u",ZA=WA&&function(t){return new Promise(function(n,s){const l=pv(t);let u=l.data;const g=Pi.from(l.headers).normalize();let{responseType:y,onUploadProgress:b,onDownloadProgress:f}=l,w,E,S,O,k;function M(){O&&O(),k&&k(),l.cancelToken&&l.cancelToken.unsubscribe(w),l.signal&&l.signal.removeEventListener("abort",w)}let j=new XMLHttpRequest;j.open(l.method.toUpperCase(),l.url,!0),j.timeout=l.timeout;function F(){if(!j)return;const z=Pi.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),Y={data:!y||y==="text"||y==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:z,config:t,request:j};mv(function(X){n(X),M()},function(X){s(X),M()},Y),j=null}"onloadend"in j?j.onloadend=F:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(F)},j.onabort=function(){j&&(s(new ot("Request aborted",ot.ECONNABORTED,t,j)),j=null)},j.onerror=function(U){const Y=U&&U.message?U.message:"Network Error",$=new ot(Y,ot.ERR_NETWORK,t,j);$.event=U||null,s($),j=null},j.ontimeout=function(){let U=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const Y=l.transitional||fv;l.timeoutErrorMessage&&(U=l.timeoutErrorMessage),s(new ot(U,Y.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,t,j)),j=null},u===void 0&&g.setContentType(null),"setRequestHeader"in j&&ye.forEach(g.toJSON(),function(U,Y){j.setRequestHeader(Y,U)}),ye.isUndefined(l.withCredentials)||(j.withCredentials=!!l.withCredentials),y&&y!=="json"&&(j.responseType=l.responseType),f&&([S,k]=Q0(f,!0),j.addEventListener("progress",S)),b&&j.upload&&([E,O]=Q0(b),j.upload.addEventListener("progress",E),j.upload.addEventListener("loadend",O)),(l.cancelToken||l.signal)&&(w=z=>{j&&(s(!z||z.type?new Rl(null,t,j):z),j.abort(),j=null)},l.cancelToken&&l.cancelToken.subscribe(w),l.signal&&(l.signal.aborted?w():l.signal.addEventListener("abort",w)));const H=UA(l.url);if(H&&ci.protocols.indexOf(H)===-1){s(new ot("Unsupported protocol "+H+":",ot.ERR_BAD_REQUEST,t));return}j.send(u||null)})},KA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,l;const u=function(f){if(!l){l=!0,y();const w=f instanceof Error?f:this.reason;s.abort(w instanceof ot?w:new Rl(w instanceof Error?w.message:w))}};let g=e&&setTimeout(()=>{g=null,u(new ot(`timeout ${e} of ms exceeded`,ot.ETIMEDOUT))},e);const y=()=>{t&&(g&&clearTimeout(g),g=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(u):f.removeEventListener("abort",u)}),t=null)};t.forEach(f=>f.addEventListener("abort",u));const{signal:b}=s;return b.unsubscribe=()=>ye.asap(y),b}},QA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,l;for(;s<n;)l=s+e,yield t.slice(s,l),s=l},$A=async function*(t,e){for await(const n of JA(t))yield*QA(n,e)},JA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},H2=(t,e,n,s)=>{const l=$A(t,e);let u=0,g,y=b=>{g||(g=!0,s&&s(b))};return new ReadableStream({async pull(b){try{const{done:f,value:w}=await l.next();if(f){y(),b.close();return}let E=w.byteLength;if(n){let S=u+=E;n(S)}b.enqueue(new Uint8Array(w))}catch(f){throw y(f),f}},cancel(b){return y(b),l.return()}},{highWaterMark:2})},V2=64*1024,{isFunction:Xd}=ye,eS=(({Request:t,Response:e})=>({Request:t,Response:e}))(ye.global),{ReadableStream:G2,TextEncoder:q2}=ye.global,X2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},tS=t=>{t=ye.merge.call({skipUndefined:!0},eS,t);const{fetch:e,Request:n,Response:s}=t,l=e?Xd(e):typeof fetch=="function",u=Xd(n),g=Xd(s);if(!l)return!1;const y=l&&Xd(G2),b=l&&(typeof q2=="function"?(k=>M=>k.encode(M))(new q2):async k=>new Uint8Array(await new n(k).arrayBuffer())),f=u&&y&&X2(()=>{let k=!1;const M=new n(ci.origin,{body:new G2,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!M}),w=g&&y&&X2(()=>ye.isReadableStream(new s("").body)),E={stream:w&&(k=>k.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!E[k]&&(E[k]=(M,j)=>{let F=M&&M[k];if(F)return F.call(M);throw new ot(`Response type '${k}' is not supported`,ot.ERR_NOT_SUPPORT,j)})});const S=async k=>{if(k==null)return 0;if(ye.isBlob(k))return k.size;if(ye.isSpecCompliantForm(k))return(await new n(ci.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(k)||ye.isArrayBuffer(k))return k.byteLength;if(ye.isURLSearchParams(k)&&(k=k+""),ye.isString(k))return(await b(k)).byteLength},O=async(k,M)=>{const j=ye.toFiniteNumber(k.getContentLength());return j??S(M)};return async k=>{let{url:M,method:j,data:F,signal:H,cancelToken:z,timeout:U,onDownloadProgress:Y,onUploadProgress:$,responseType:X,headers:ue,withCredentials:J="same-origin",fetchOptions:Oe}=pv(k),Ee=e||fetch;X=X?(X+"").toLowerCase():"text";let xe=KA([H,z&&z.toAbortSignal()],U),me=null;const ke=xe&&xe.unsubscribe&&(()=>{xe.unsubscribe()});let K;try{if($&&f&&j!=="get"&&j!=="head"&&(K=await O(ue,F))!==0){let G=new n(M,{method:"POST",body:F,duplex:"half"}),re;if(ye.isFormData(F)&&(re=G.headers.get("content-type"))&&ue.setContentType(re),G.body){const[se,he]=z2(K,Q0(F2($)));F=H2(G.body,V2,se,he)}}ye.isString(J)||(J=J?"include":"omit");const Z=u&&"credentials"in n.prototype,oe={...Oe,signal:xe,method:j.toUpperCase(),headers:ue.normalize().toJSON(),body:F,duplex:"half",credentials:Z?J:void 0};me=u&&new n(M,oe);let Me=await(u?Ee(me,Oe):Ee(M,oe));const Be=w&&(X==="stream"||X==="response");if(w&&(Y||Be&&ke)){const G={};["status","statusText","headers"].forEach(je=>{G[je]=Me[je]});const re=ye.toFiniteNumber(Me.headers.get("content-length")),[se,he]=Y&&z2(re,Q0(F2(Y),!0))||[];Me=new s(H2(Me.body,V2,se,()=>{he&&he(),ke&&ke()}),G)}X=X||"text";let Le=await E[ye.findKey(E,X)||"text"](Me,k);return!Be&&ke&&ke(),await new Promise((G,re)=>{mv(G,re,{data:Le,headers:Pi.from(Me.headers),status:Me.status,statusText:Me.statusText,config:k,request:me})})}catch(Z){throw ke&&ke(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,k,me),{cause:Z.cause||Z}):ot.from(Z,Z&&Z.code,k,me)}}},nS=new Map,bv=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:l}=e,u=[s,l,n];let g=u.length,y=g,b,f,w=nS;for(;y--;)b=u[y],f=w.get(b),f===void 0&&w.set(b,f=y?new Map:tS(e)),w=f;return f};bv();const zg={http:yA,xhr:ZA,fetch:{get:bv}};ye.forEach(zg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Y2=t=>`- ${t}`,iS=t=>ye.isFunction(t)||t===null||t===!1;function rS(t,e){t=ye.isArray(t)?t:[t];const{length:n}=t;let s,l;const u={};for(let g=0;g<n;g++){s=t[g];let y;if(l=s,!iS(s)&&(l=zg[(y=String(s)).toLowerCase()],l===void 0))throw new ot(`Unknown adapter '${y}'`);if(l&&(ye.isFunction(l)||(l=l.get(e))))break;u[y||"#"+g]=l}if(!l){const g=Object.entries(u).map(([b,f])=>`adapter ${b} `+(f===!1?"is not supported by the environment":"is not available in the build"));let y=n?g.length>1?`since :
`+g.map(Y2).join(`
`):" "+Y2(g[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return l}const yv={getAdapter:rS,adapters:zg};function Y1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rl(null,t)}function W2(t){return Y1(t),t.headers=Pi.from(t.headers),t.data=X1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yv.getAdapter(t.adapter||mu.adapter,t)(t).then(function(s){return Y1(t),s.data=X1.call(t,t.transformResponse,s),s.headers=Pi.from(s.headers),s},function(s){return gv(s)||(Y1(t),s&&s.response&&(s.response.data=X1.call(t,t.transformResponse,s.response),s.response.headers=Pi.from(s.response.headers))),Promise.reject(s)})}const wv="1.13.2",Tf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Tf[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Z2={};Tf.transitional=function(e,n,s){function l(u,g){return"[Axios v"+wv+"] Transitional option '"+u+"'"+g+(s?". "+s:"")}return(u,g,y)=>{if(e===!1)throw new ot(l(g," has been removed"+(n?" in "+n:"")),ot.ERR_DEPRECATED);return n&&!Z2[g]&&(Z2[g]=!0,console.warn(l(g," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(u,g,y):!0}};Tf.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function sS(t,e,n){if(typeof t!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let l=s.length;for(;l-- >0;){const u=s[l],g=e[u];if(g){const y=t[u],b=y===void 0||g(y,u,t);if(b!==!0)throw new ot("option "+u+" must be "+b,ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ot("Unknown option "+u,ot.ERR_BAD_OPTION)}}const Y0={assertOptions:sS,validators:Tf},ts=Y0.validators;let go=class{constructor(e){this.defaults=e||{},this.interceptors={request:new L2,response:new L2}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=bo(this.defaults,n);const{transitional:s,paramsSerializer:l,headers:u}=n;s!==void 0&&Y0.assertOptions(s,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1),l!=null&&(ye.isFunction(l)?n.paramsSerializer={serialize:l}:Y0.assertOptions(l,{encode:ts.function,serialize:ts.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Y0.assertOptions(n,{baseUrl:ts.spelling("baseURL"),withXsrfToken:ts.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let g=u&&ye.merge(u.common,u[n.method]);u&&ye.forEach(["delete","get","head","post","put","patch","common"],k=>{delete u[k]}),n.headers=Pi.concat(g,u);const y=[];let b=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(b=b&&M.synchronous,y.unshift(M.fulfilled,M.rejected))});const f=[];this.interceptors.response.forEach(function(M){f.push(M.fulfilled,M.rejected)});let w,E=0,S;if(!b){const k=[W2.bind(this),void 0];for(k.unshift(...y),k.push(...f),S=k.length,w=Promise.resolve(n);E<S;)w=w.then(k[E++],k[E++]);return w}S=y.length;let O=n;for(;E<S;){const k=y[E++],M=y[E++];try{O=k(O)}catch(j){M.call(this,j);break}}try{w=W2.call(this,O)}catch(k){return Promise.reject(k)}for(E=0,S=f.length;E<S;)w=w.then(f[E++],f[E++]);return w}getUri(e){e=bo(this.defaults,e);const n=xv(e.baseURL,e.url,e.allowAbsoluteUrls);return dv(n,e.params,e.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(e){go.prototype[e]=function(n,s){return this.request(bo(s||{},{method:e,url:n,data:(s||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function n(s){return function(u,g,y){return this.request(bo(y||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:g}))}}go.prototype[e]=n(),go.prototype[e+"Form"]=n(!0)});let aS=class vv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const s=this;this.promise.then(l=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](l);s._listeners=null}),this.promise.then=l=>{let u;const g=new Promise(y=>{s.subscribe(y),u=y}).then(l);return g.cancel=function(){s.unsubscribe(u)},g},e(function(u,g,y){s.reason||(s.reason=new Rl(u,g,y),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new vv(function(l){e=l}),cancel:e}}};function oS(t){return function(n){return t.apply(null,n)}}function lS(t){return ye.isObject(t)&&t.isAxiosError===!0}const bg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(bg).forEach(([t,e])=>{bg[e]=t});function _v(t){const e=new go(t),n=Jw(go.prototype.request,e);return ye.extend(n,go.prototype,e,{allOwnKeys:!0}),ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(l){return _v(bo(t,l))},n}const Mn=_v(mu);Mn.Axios=go;Mn.CanceledError=Rl;Mn.CancelToken=aS;Mn.isCancel=gv;Mn.VERSION=wv;Mn.toFormData=Nf;Mn.AxiosError=ot;Mn.Cancel=Mn.CanceledError;Mn.all=function(e){return Promise.all(e)};Mn.spread=oS;Mn.isAxiosError=lS;Mn.mergeConfig=bo;Mn.AxiosHeaders=Pi;Mn.formToJSON=t=>hv(ye.isHTMLForm(t)?new FormData(t):t);Mn.getAdapter=yv.getAdapter;Mn.HttpStatusCode=bg;Mn.default=Mn;const{Axios:e9,AxiosError:t9,CanceledError:n9,isCancel:i9,CancelToken:r9,VERSION:s9,all:a9,Cancel:o9,isAxiosError:l9,spread:c9,toFormData:u9,AxiosHeaders:d9,HttpStatusCode:f9,formToJSON:h9,getAdapter:g9,mergeConfig:m9}=Mn;function Ev(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function cS(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K2(t,e){return t.get(Ev(t,e))}function uS(t,e,n){cS(t,e),e.set(t,n)}function dS(t,e,n){return t.set(Ev(t,e),n),n}const fS=100,We={},hS=()=>{We.previousActiveElement instanceof HTMLElement?(We.previousActiveElement.focus(),We.previousActiveElement=null):document.body&&document.body.focus()},gS=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,s=window.scrollY;We.restoreFocusTimeout=setTimeout(()=>{hS(),e()},fS),window.scrollTo(n,s)}),Av="swal2-",mS=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ve=mS.reduce((t,e)=>(t[e]=Av+e,t),{}),xS=["success","warning","info","question","error"],$0=xS.reduce((t,e)=>(t[e]=Av+e,t),{}),Sv="SweetAlert2:",Fg=t=>t.charAt(0).toUpperCase()+t.slice(1),Ei=t=>{console.warn(`${Sv} ${typeof t=="object"?t.join(" "):t}`)},_o=t=>{console.error(`${Sv} ${t}`)},Q2=[],pS=t=>{Q2.includes(t)||(Q2.push(t),Ei(t))},Cv=(t,e=null)=>{pS(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Of=t=>typeof t=="function"?t():t,Ug=t=>t&&typeof t.toPromise=="function",xu=t=>Ug(t)?t.toPromise():Promise.resolve(t),Hg=t=>t&&Promise.resolve(t)===t,Ai=()=>document.body.querySelector(`.${ve.container}`),pu=t=>{const e=Ai();return e?e.querySelector(t):null},sr=t=>pu(`.${t}`),It=()=>sr(ve.popup),Dl=()=>sr(ve.icon),bS=()=>sr(ve["icon-content"]),Nv=()=>sr(ve.title),Vg=()=>sr(ve["html-container"]),Tv=()=>sr(ve.image),Gg=()=>sr(ve["progress-steps"]),kf=()=>sr(ve["validation-message"]),as=()=>pu(`.${ve.actions} .${ve.confirm}`),jl=()=>pu(`.${ve.actions} .${ve.cancel}`),Eo=()=>pu(`.${ve.actions} .${ve.deny}`),yS=()=>sr(ve["input-label"]),Il=()=>pu(`.${ve.loader}`),bu=()=>sr(ve.actions),Ov=()=>sr(ve.footer),Mf=()=>sr(ve["timer-progress-bar"]),qg=()=>sr(ve.close),wS=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Xg=()=>{const t=It();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((u,g)=>{const y=parseInt(u.getAttribute("tabindex")||"0"),b=parseInt(g.getAttribute("tabindex")||"0");return y>b?1:y<b?-1:0}),s=t.querySelectorAll(wS),l=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(l))].filter(u=>zi(u))},Yg=()=>Bs(document.body,ve.shown)&&!Bs(document.body,ve["toast-shown"])&&!Bs(document.body,ve["no-backdrop"]),Rf=()=>{const t=It();return t?Bs(t,ve.toast):!1},vS=()=>{const t=It();return t?t.hasAttribute("data-loading"):!1},ar=(t,e)=>{if(t.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),l=s.querySelector("head");l&&Array.from(l.childNodes).forEach(g=>{t.appendChild(g)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(g=>{g instanceof HTMLVideoElement||g instanceof HTMLAudioElement?t.appendChild(g.cloneNode(!0)):t.appendChild(g)})}},Bs=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let s=0;s<n.length;s++)if(!t.classList.contains(n[s]))return!1;return!0},_S=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(ve).includes(n)&&!Object.values($0).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},rr=(t,e,n)=>{if(_S(t,e),!e.customClass)return;const s=e.customClass[n];if(s){if(typeof s!="string"&&!s.forEach){Ei(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof s}"`);return}jt(t,s)}},Df=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ve.popup} > .${ve[e]}`);case"checkbox":return t.querySelector(`.${ve.popup} > .${ve.checkbox} input`);case"radio":return t.querySelector(`.${ve.popup} > .${ve.radio} input:checked`)||t.querySelector(`.${ve.popup} > .${ve.radio} input:first-child`);case"range":return t.querySelector(`.${ve.popup} > .${ve.range} input`);default:return t.querySelector(`.${ve.popup} > .${ve.input}`)}},kv=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},Mv=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(t)?t.forEach(l=>{n?l.classList.add(s):l.classList.remove(s)}):n?t.classList.add(s):t.classList.remove(s)}))},jt=(t,e)=>{Mv(t,e,!0)},Ar=(t,e)=>{Mv(t,e,!1)},va=(t,e)=>{const n=Array.from(t.children);for(let s=0;s<n.length;s++){const l=n[s];if(l instanceof HTMLElement&&Bs(l,e))return l}},mo=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Jn=(t,e="flex")=>{t&&(t.style.display=e)},di=t=>{t&&(t.style.display="none")},Wg=(t,e="block")=>{t&&new MutationObserver(()=>{yu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},$2=(t,e,n,s)=>{const l=t.querySelector(e);l&&l.style.setProperty(n,s)},yu=(t,e,n="flex")=>{e?Jn(t,n):di(t)},zi=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),ES=()=>!zi(as())&&!zi(Eo())&&!zi(jl()),yg=t=>t.scrollHeight>t.clientHeight,AS=(t,e)=>{let n=t;for(;n&&n!==e;){if(yg(n))return!0;n=n.parentElement}return!1},Rv=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||s>0},Zg=(t,e=!1)=>{const n=Mf();n&&zi(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},SS=()=>{const t=Mf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),s=e/n*100;t.style.width=`${s}%`},CS=()=>typeof window>"u"||typeof document>"u",NS=`
 <div aria-labelledby="${ve.title}" aria-describedby="${ve["html-container"]}" class="${ve.popup}" tabindex="-1">
   <button type="button" class="${ve.close}"></button>
   <ul class="${ve["progress-steps"]}"></ul>
   <div class="${ve.icon}"></div>
   <img class="${ve.image}" />
   <h2 class="${ve.title}" id="${ve.title}"></h2>
   <div class="${ve["html-container"]}" id="${ve["html-container"]}"></div>
   <input class="${ve.input}" id="${ve.input}" />
   <input type="file" class="${ve.file}" />
   <div class="${ve.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ve.select}" id="${ve.select}"></select>
   <div class="${ve.radio}"></div>
   <label class="${ve.checkbox}">
     <input type="checkbox" id="${ve.checkbox}" />
     <span class="${ve.label}"></span>
   </label>
   <textarea class="${ve.textarea}" id="${ve.textarea}"></textarea>
   <div class="${ve["validation-message"]}" id="${ve["validation-message"]}"></div>
   <div class="${ve.actions}">
     <div class="${ve.loader}"></div>
     <button type="button" class="${ve.confirm}"></button>
     <button type="button" class="${ve.deny}"></button>
     <button type="button" class="${ve.cancel}"></button>
   </div>
   <div class="${ve.footer}"></div>
   <div class="${ve["timer-progress-bar-container"]}">
     <div class="${ve["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),TS=()=>{const t=Ai();return t?(t.remove(),Ar([document.documentElement,document.body],[ve["no-backdrop"],ve["toast-shown"],ve["has-column"]]),!0):!1},no=()=>{We.currentInstance&&We.currentInstance.resetValidationMessage()},OS=()=>{const t=It();if(!t)return;const e=va(t,ve.input),n=va(t,ve.file),s=t.querySelector(`.${ve.range} input`),l=t.querySelector(`.${ve.range} output`),u=va(t,ve.select),g=t.querySelector(`.${ve.checkbox} input`),y=va(t,ve.textarea);e&&(e.oninput=no),n&&(n.onchange=no),u&&(u.onchange=no),g&&(g.onchange=no),y&&(y.oninput=no),s&&l&&(s.oninput=()=>{no(),l.value=s.value},s.onchange=()=>{no(),l.value=s.value})},kS=t=>{if(typeof t=="string"){const e=document.querySelector(t);if(!e)throw new Error(`Target element "${t}" not found`);return e}return t},MS=t=>{const e=It();e&&(e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true"))},RS=t=>{window.getComputedStyle(t).direction==="rtl"&&(jt(Ai(),ve.rtl),We.isRTL=!0)},DS=t=>{const e=TS();if(CS()){_o("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=ve.container,e&&jt(n,ve["no-transition"]),ar(n,NS),n.dataset.swal2Theme=t.theme;const s=kS(t.target||"body");s.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),MS(t),RS(s),OS()},Kg=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?jS(t,e):t&&ar(e,t)},jS=(t,e)=>{"jquery"in t?IS(e,t):ar(e,t.toString())},IS=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},BS=(t,e)=>{const n=bu(),s=Il();!n||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?di(n):Jn(n),rr(n,e,"actions"),LS(n,s,e),ar(s,e.loaderHtml||""),rr(s,e,"loader"))};function LS(t,e,n){const s=as(),l=Eo(),u=jl();!s||!l||!u||(Z1(s,"confirm",n),Z1(l,"deny",n),Z1(u,"cancel",n),PS(s,l,u,n),n.reverseButtons&&(n.toast?(t.insertBefore(u,s),t.insertBefore(l,s)):(t.insertBefore(u,e),t.insertBefore(l,e),t.insertBefore(s,e))))}function PS(t,e,n,s){if(!s.buttonsStyling){Ar([t,e,n],ve.styled);return}jt([t,e,n],ve.styled),s.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),W1(t),W1(e),W1(n)}function W1(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Z1(t,e,n){const s=Fg(e);yu(t,n[`show${s}Button`],"inline-block"),ar(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=ve[e],rr(t,n,`${e}Button`)}const zS=(t,e)=>{const n=qg();n&&(ar(n,e.closeButtonHtml||""),rr(n,e,"closeButton"),yu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},FS=(t,e)=>{const n=Ai();n&&(US(n,e.backdrop),HS(n,e.position),VS(n,e.grow),rr(n,e,"container"))};function US(t,e){typeof e=="string"?t.style.background=e:e||jt([document.documentElement,document.body],ve["no-backdrop"])}function HS(t,e){e&&(e in ve?jt(t,ve[e]):(Ei('The "position" parameter is not valid, defaulting to "center"'),jt(t,ve.center)))}function VS(t,e){e&&jt(t,ve[`grow-${e}`])}var Jt={innerParams:new WeakMap,domCache:new WeakMap};const GS=["input","file","range","select","radio","checkbox","textarea"],qS=(t,e)=>{const n=It();if(!n)return;const s=Jt.innerParams.get(t),l=!s||e.input!==s.input;GS.forEach(u=>{const g=va(n,ve[u]);g&&(WS(u,e.inputAttributes),g.className=ve[u],l&&di(g))}),e.input&&(l&&XS(e),ZS(e))},XS=t=>{if(!t.input)return;if(!On[t.input]){_o(`Unexpected type of input! Expected ${Object.keys(On).join(" | ")}, got "${t.input}"`);return}const e=Dv(t.input);if(!e)return;const n=On[t.input](e,t);Jn(e),t.inputAutoFocus&&setTimeout(()=>{kv(n)})},YS=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},WS=(t,e)=>{const n=It();if(!n)return;const s=Df(n,t);if(s){YS(s);for(const l in e)s.setAttribute(l,e[l])}},ZS=t=>{if(!t.input)return;const e=Dv(t.input);e&&rr(e,t,"input")},Qg=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},wu=(t,e,n)=>{if(n.inputLabel){const s=document.createElement("label"),l=ve["input-label"];s.setAttribute("for",t.id),s.className=l,typeof n.customClass=="object"&&jt(s,n.customClass.inputLabel),s.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",s)}},Dv=t=>{const e=It();if(e)return va(e,ve[t]||ve.input)},J0=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Hg(e)||Ei(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},On={};On.text=On.email=On.password=On.number=On.tel=On.url=On.search=On.date=On["datetime-local"]=On.time=On.week=On.month=(t,e)=>{const n=t;return J0(n,e.inputValue),wu(n,n,e),Qg(n,e),n.type=e.input,n};On.file=(t,e)=>{const n=t;return wu(n,n,e),Qg(n,e),n};On.range=(t,e)=>{const n=t,s=n.querySelector("input"),l=n.querySelector("output");return s&&(J0(s,e.inputValue),s.type=e.input,wu(s,t,e)),l&&J0(l,e.inputValue),t};On.select=(t,e)=>{const n=t;if(n.textContent="",e.inputPlaceholder){const s=document.createElement("option");ar(s,e.inputPlaceholder),s.value="",s.disabled=!0,s.selected=!0,n.appendChild(s)}return wu(n,n,e),n};On.radio=t=>{const e=t;return e.textContent="",t};On.checkbox=(t,e)=>{const n=It();if(!n)throw new Error("Popup not found");const s=Df(n,"checkbox");if(!s)throw new Error("Checkbox input not found");s.value="1",s.checked=!!e.inputValue;const u=t.querySelector("span");if(u){const g=e.inputPlaceholder||e.inputLabel;g&&ar(u,g)}return s};On.textarea=(t,e)=>{const n=t;J0(n,e.inputValue),Qg(n,e),wu(n,n,e);const s=l=>parseInt(window.getComputedStyle(l).marginLeft)+parseInt(window.getComputedStyle(l).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const l=It();if(!l)return;const u=parseInt(window.getComputedStyle(l).width),g=()=>{if(!document.body.contains(n))return;const y=n.offsetWidth+s(n),b=It();b&&(y>u?b.style.width=`${y}px`:mo(b,"width",e.width))};new MutationObserver(g).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const KS=(t,e)=>{const n=Vg();n&&(Wg(n),rr(n,e,"htmlContainer"),e.html?(Kg(e.html,n),Jn(n,"block")):e.text?(n.textContent=e.text,Jn(n,"block")):di(n),qS(t,e))},QS=(t,e)=>{const n=Ov();n&&(Wg(n),yu(n,!!e.footer,"block"),e.footer&&Kg(e.footer,n),rr(n,e,"footer"))},$S=(t,e)=>{const n=Jt.innerParams.get(t),s=Dl();if(!s)return;if(n&&e.icon===n.icon){eb(s,e),J2(s,e);return}if(!e.icon&&!e.iconHtml){di(s);return}if(e.icon&&Object.keys($0).indexOf(e.icon)===-1){_o(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),di(s);return}Jn(s),eb(s,e),J2(s,e),jt(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",jv)},J2=(t,e)=>{for(const[n,s]of Object.entries($0))e.icon!==n&&Ar(t,s);jt(t,e.icon&&$0[e.icon]),tC(t,e),jv(),rr(t,e,"icon")},jv=()=>{const t=It();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<n.length;s++)n[s].style.backgroundColor=e},JS=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,eC=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,eb=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,s="";e.iconHtml?s=tb(e.iconHtml):e.icon==="success"?(s=JS(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?s=eC:e.icon&&(s=tb({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==s.trim()&&ar(t,s)},tC=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])$2(t,n,"background-color",e.iconColor);$2(t,".swal2-success-ring","border-color",e.iconColor)}},tb=t=>`<div class="${ve["icon-content"]}">${t}</div>`,nC=(t,e)=>{const n=Tv();if(n){if(!e.imageUrl){di(n);return}Jn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),mo(n,"width",e.imageWidth),mo(n,"height",e.imageHeight),n.className=ve.image,rr(n,e,"image")}};let $g=!1,Iv=0,Bv=0,Lv=0,Pv=0;const iC=t=>{t.addEventListener("mousedown",ef),document.body.addEventListener("mousemove",tf),t.addEventListener("mouseup",nf),t.addEventListener("touchstart",ef),document.body.addEventListener("touchmove",tf),t.addEventListener("touchend",nf)},rC=t=>{t.removeEventListener("mousedown",ef),document.body.removeEventListener("mousemove",tf),t.removeEventListener("mouseup",nf),t.removeEventListener("touchstart",ef),document.body.removeEventListener("touchmove",tf),t.removeEventListener("touchend",nf)},ef=t=>{const e=It();if(!e)return;const n=Dl();if(t.target===e||n&&n.contains(t.target)){$g=!0;const s=zv(t);Iv=s.clientX,Bv=s.clientY,Lv=parseInt(e.style.insetInlineStart)||0,Pv=parseInt(e.style.insetBlockStart)||0,jt(e,"swal2-dragging")}},tf=t=>{const e=It();if(e&&$g){let{clientX:n,clientY:s}=zv(t);const l=n-Iv;e.style.insetInlineStart=`${Lv+(We.isRTL?-l:l)}px`,e.style.insetBlockStart=`${Pv+(s-Bv)}px`}},nf=()=>{const t=It();$g=!1,Ar(t,"swal2-dragging")},zv=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},sC=(t,e)=>{const n=Ai(),s=It();if(!(!n||!s)){if(e.toast){mo(n,"width",e.width),s.style.width="100%";const l=Il();l&&s.insertBefore(l,Dl())}else mo(s,"width",e.width);mo(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),di(kf()),aC(s,e),e.draggable&&!e.toast?(jt(s,ve.draggable),iC(s)):(Ar(s,ve.draggable),rC(s))}},aC=(t,e)=>{const n=e.showClass||{};t.className=`${ve.popup} ${zi(t)?n.popup:""}`,e.toast?(jt([document.documentElement,document.body],ve["toast-shown"]),jt(t,ve.toast)):jt(t,ve.modal),rr(t,e,"popup"),typeof e.customClass=="string"&&jt(t,e.customClass),e.icon&&jt(t,ve[`icon-${e.icon}`])},oC=(t,e)=>{const n=Gg();if(!n)return;const{progressSteps:s,currentProgressStep:l}=e;if(!s||s.length===0||l===void 0){di(n);return}Jn(n),n.textContent="",l>=s.length&&Ei("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,g)=>{const y=lC(u);if(n.appendChild(y),g===l&&jt(y,ve["active-progress-step"]),g!==s.length-1){const b=cC(e);n.appendChild(b)}})},lC=t=>{const e=document.createElement("li");return jt(e,ve["progress-step"]),ar(e,t),e},cC=t=>{const e=document.createElement("li");return jt(e,ve["progress-step-line"]),t.progressStepsDistance&&mo(e,"width",t.progressStepsDistance),e},uC=(t,e)=>{const n=Nv();n&&(Wg(n),yu(n,!!(e.title||e.titleText),"block"),e.title&&Kg(e.title,n),e.titleText&&(n.innerText=e.titleText),rr(n,e,"title"))},Fv=(t,e)=>{var n;sC(t,e),FS(t,e),oC(t,e),$S(t,e),nC(t,e),uC(t,e),zS(t,e),KS(t,e),BS(t,e),QS(t,e);const s=It();typeof e.didRender=="function"&&s&&e.didRender(s),(n=We.eventEmitter)===null||n===void 0||n.emit("didRender",s)},dC=()=>zi(It()),Uv=()=>{var t;return(t=as())===null||t===void 0?void 0:t.click()},fC=()=>{var t;return(t=Eo())===null||t===void 0?void 0:t.click()},hC=()=>{var t;return(t=jl())===null||t===void 0?void 0:t.click()},Bl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Hv=t=>{if(t.keydownTarget&&t.keydownHandlerAdded&&t.keydownHandler){const e=t.keydownHandler;t.keydownTarget.removeEventListener("keydown",e,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1}},gC=(t,e,n)=>{if(Hv(t),!e.toast){const s=u=>xC(e,u,n);t.keydownHandler=s;const l=e.keydownListenerCapture?window:It();if(l){t.keydownTarget=l,t.keydownListenerCapture=e.keydownListenerCapture;const u=s;t.keydownTarget.addEventListener("keydown",u,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0}}},wg=(t,e)=>{var n;const s=Xg();if(s.length){t=t+e,t===-2&&(t=s.length-1),t===s.length?t=0:t===-1&&(t=s.length-1),s[t].focus();return}(n=It())===null||n===void 0||n.focus()},Vv=["ArrowRight","ArrowDown"],mC=["ArrowLeft","ArrowUp"],xC=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?pC(e,t):e.key==="Tab"?bC(e):[...Vv,...mC].includes(e.key)?yC(e.key):e.key==="Escape"&&wC(e,t,n)))},pC=(t,e)=>{if(!Of(e.allowEnterKey))return;const n=It();if(!n||!e.input)return;const s=Df(n,e.input);if(t.target&&s&&t.target instanceof HTMLElement&&t.target.outerHTML===s.outerHTML){if(["textarea","file"].includes(e.input))return;Uv(),t.preventDefault()}},bC=t=>{const e=t.target,n=Xg();let s=-1;for(let l=0;l<n.length;l++)if(e===n[l]){s=l;break}t.shiftKey?wg(s,-1):wg(s,1),t.stopPropagation(),t.preventDefault()},yC=t=>{const e=bu(),n=as(),s=Eo(),l=jl();if(!e||!n||!s||!l)return;const u=[n,s,l];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const g=Vv.includes(t)?"nextElementSibling":"previousElementSibling";let y=document.activeElement;if(y){for(let b=0;b<e.children.length;b++){if(y=y[g],!y)return;if(y instanceof HTMLButtonElement&&zi(y))break}y instanceof HTMLButtonElement&&y.focus()}},wC=(t,e,n)=>{t.preventDefault(),Of(e.allowEscapeKey)&&n(Bl.esc)};var El={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const vC=()=>{const t=Ai();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Gv=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},qv=typeof window<"u"&&!!window.GestureEvent,_C=()=>{if(qv&&!Bs(document.body,ve.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,jt(document.body,ve.iosfix),EC()}},EC=()=>{const t=Ai();if(!t)return;let e;t.ontouchstart=n=>{e=AC(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},AC=t=>{const e=t.target,n=Ai(),s=Vg();return!n||!s||SC(t)||CC(t)?!1:e===n||!yg(n)&&e instanceof HTMLElement&&!AS(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(yg(s)&&s.contains(e))},SC=t=>!!(t.touches&&t.touches.length&&t.touches[0].touchType==="stylus"),CC=t=>t.touches&&t.touches.length>1,NC=()=>{if(Bs(document.body,ve.iosfix)){const t=parseInt(document.body.style.top,10);Ar(document.body,ve.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},TC=()=>{const t=document.createElement("div");t.className=ve["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let bl=null;const OC=t=>{bl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(bl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${bl+TC()}px`)},kC=()=>{bl!==null&&(document.body.style.paddingRight=`${bl}px`,bl=null)};function Xv(t,e,n,s){Rf()?nb(t,s):(gS(n).then(()=>nb(t,s)),Hv(We)),qv?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Yg()&&(kC(),NC(),Gv()),MC()}function MC(){Ar([document.documentElement,document.body],[ve.shown,ve["height-auto"],ve["no-backdrop"],ve["toast-shown"]])}function _a(t){t=DC(t);const e=El.swalPromiseResolve.get(this),n=RC(this);this.isAwaitingPromise?t.isDismissed||(vu(this),e(t)):n&&e(t)}const RC=t=>{const e=It();if(!e)return!1;const n=Jt.innerParams.get(t);if(!n||Bs(e,n.hideClass.popup))return!1;Ar(e,n.showClass.popup),jt(e,n.hideClass.popup);const s=Ai();return Ar(s,n.showClass.backdrop),jt(s,n.hideClass.backdrop),jC(t,e,n),!0};function Yv(t){const e=El.swalPromiseReject.get(this);vu(this),e&&e(t)}const vu=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Jt.innerParams.get(t)||t._destroy())},DC=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),jC=(t,e,n)=>{var s;const l=Ai(),u=Rv(e);typeof n.willClose=="function"&&n.willClose(e),(s=We.eventEmitter)===null||s===void 0||s.emit("willClose",e),u&&l?IC(t,e,l,!!n.returnFocus,n.didClose):l&&Xv(t,l,!!n.returnFocus,n.didClose)},IC=(t,e,n,s,l)=>{We.swalCloseEventFinishedCallback=Xv.bind(null,t,n,s,l);const u=function(g){if(g.target===e){var y;(y=We.swalCloseEventFinishedCallback)===null||y===void 0||y.call(We),delete We.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},nb=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=We.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Al=t=>{let e=It();if(e||new Er,e=It(),!e)return;const n=Il();Rf()?di(Dl()):BC(e,t),Jn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},BC=(t,e)=>{const n=bu(),s=Il();!n||!s||(!e&&zi(as())&&(e=as()),Jn(n),e&&(di(e),s.setAttribute("data-button-to-replace",e.className),n.insertBefore(s,e)),jt([t,n],ve.loading))},LC=(t,e)=>{e.input==="select"||e.input==="radio"?HC(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Ug(e.inputValue)||Hg(e.inputValue))&&(Al(as()),VC(t,e))},PC=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return zC(n);case"radio":return FC(n);case"file":return UC(n);default:return e.inputAutoTrim?n.value.trim():n.value}},zC=t=>t.checked?1:0,FC=t=>t.checked?t.value:null,UC=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,HC=(t,e)=>{const n=It();if(!n)return;const s=l=>{e.input==="select"?GC(n,rf(l),e):e.input==="radio"&&qC(n,rf(l),e)};Ug(e.inputOptions)||Hg(e.inputOptions)?(Al(as()),xu(e.inputOptions).then(l=>{t.hideLoading(),s(l)})):typeof e.inputOptions=="object"?s(e.inputOptions):_o(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},VC=(t,e)=>{const n=t.getInput();n&&(di(n),xu(e.inputValue).then(s=>{n.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Jn(n),n.focus(),t.hideLoading()}).catch(s=>{_o(`Error in inputValue promise: ${s}`),n.value="",Jn(n),n.focus(),t.hideLoading()}))};function GC(t,e,n){const s=va(t,ve.select);if(!s)return;const l=(u,g,y)=>{const b=document.createElement("option");b.value=y,ar(b,g),b.selected=Wv(y,n.inputValue),u.appendChild(b)};e.forEach(u=>{const g=u[0],y=u[1];if(Array.isArray(y)){const b=document.createElement("optgroup");b.label=g,b.disabled=!1,s.appendChild(b),y.forEach(f=>l(b,f[1],f[0]))}else l(s,y,g)}),s.focus()}function qC(t,e,n){const s=va(t,ve.radio);if(!s)return;e.forEach(u=>{const g=u[0],y=u[1],b=document.createElement("input"),f=document.createElement("label");b.type="radio",b.name=ve.radio,b.value=g,Wv(g,n.inputValue)&&(b.checked=!0);const w=document.createElement("span");ar(w,y),w.className=ve.label,f.appendChild(b),f.appendChild(w),s.appendChild(f)});const l=s.querySelectorAll("input");l.length&&l[0].focus()}const rf=t=>{const e=[];return t instanceof Map?t.forEach((n,s)=>{let l=n;typeof l=="object"&&(l=rf(l)),e.push([s,l])}):Object.keys(t).forEach(n=>{let s=t[n];typeof s=="object"&&(s=rf(s)),e.push([n,s])}),e},Wv=(t,e)=>!!e&&e!==null&&e!==void 0&&e.toString()===t.toString(),XC=t=>{const e=Jt.innerParams.get(t);t.disableButtons(),e.input?Zv(t,"confirm"):em(t,!0)},YC=t=>{const e=Jt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Zv(t,"deny"):Jg(t,!1)},WC=(t,e)=>{t.disableButtons(),e(Bl.cancel)},Zv=(t,e)=>{const n=Jt.innerParams.get(t);if(!n.input){_o(`The "input" parameter is needed to be set when using returnInputValueOn${Fg(e)}`);return}const s=t.getInput(),l=PC(t,n);n.inputValidator?ZC(t,l,e):s&&!s.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||s.validationMessage)):e==="deny"?Jg(t,l):em(t,l)},ZC=(t,e,n)=>{const s=Jt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>xu(s.inputValidator(e,s.validationMessage))).then(u=>{t.enableButtons(),t.enableInput(),u?t.showValidationMessage(u):n==="deny"?Jg(t,e):em(t,e)})},Jg=(t,e)=>{const n=Jt.innerParams.get(t);n.showLoaderOnDeny&&Al(Eo()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>xu(n.preDeny(e,n.validationMessage))).then(l=>{l===!1?(t.hideLoading(),vu(t)):t.close({isDenied:!0,value:typeof l>"u"?e:l})}).catch(l=>Kv(t,l))):t.close({isDenied:!0,value:e})},ib=(t,e)=>{t.close({isConfirmed:!0,value:e})},Kv=(t,e)=>{t.rejectPromise(e)},em=(t,e)=>{const n=Jt.innerParams.get(t);n.showLoaderOnConfirm&&Al(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>xu(n.preConfirm(e,n.validationMessage))).then(l=>{zi(kf())||l===!1?(t.hideLoading(),vu(t)):ib(t,typeof l>"u"?e:l)}).catch(l=>Kv(t,l))):ib(t,e)};function sf(){const t=Jt.innerParams.get(this);if(!t)return;const e=Jt.domCache.get(this);di(e.loader),Rf()?t.icon&&Jn(Dl()):KC(e),Ar([e.popup,e.actions],ve.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const KC=t=>{const e=t.loader.getAttribute("data-button-to-replace"),n=e?t.popup.getElementsByClassName(e):[];n.length?Jn(n[0],"inline-block"):ES()&&di(t.actions)};function Qv(){const t=Jt.innerParams.get(this),e=Jt.domCache.get(this);return e?Df(e.popup,t.input):null}function $v(t,e,n){const s=Jt.domCache.get(t);e.forEach(l=>{s[l].disabled=n})}function Jv(t,e){const n=It();if(!(!n||!t))if(t.type==="radio"){const s=n.querySelectorAll(`[name="${ve.radio}"]`);for(let l=0;l<s.length;l++)s[l].disabled=e}else t.disabled=e}function e3(){$v(this,["confirmButton","denyButton","cancelButton"],!1)}function t3(){$v(this,["confirmButton","denyButton","cancelButton"],!0)}function n3(){Jv(this.getInput(),!1)}function i3(){Jv(this.getInput(),!0)}function r3(t){const e=Jt.domCache.get(this),n=Jt.innerParams.get(this);ar(e.validationMessage,t),e.validationMessage.className=ve["validation-message"],n.customClass&&n.customClass.validationMessage&&jt(e.validationMessage,n.customClass.validationMessage),Jn(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",ve["validation-message"]),kv(s),jt(s,ve.inputerror))}function s3(){const t=Jt.domCache.get(this);t.validationMessage&&di(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Ar(e,ve.inputerror))}const Ea={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},QC=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],$C={allowEnterKey:void 0},JC=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],a3=t=>Object.prototype.hasOwnProperty.call(Ea,t),o3=t=>QC.indexOf(t)!==-1,l3=t=>$C[t],e8=t=>{a3(t)||Ei(`Unknown parameter "${t}"`)},t8=t=>{JC.includes(t)&&Ei(`The parameter "${t}" is incompatible with toasts`)},n8=t=>{const e=l3(t);e&&Cv(t,e)},c3=t=>{t.backdrop===!1&&t.allowOutsideClick&&Ei('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Ei(`Invalid theme "${t.theme}"`);for(const e in t)e8(e),t.toast&&t8(e),n8(e)};function u3(t){const e=Ai(),n=It(),s=Jt.innerParams.get(this);if(!n||Bs(n,s.hideClass.popup)){Ei("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const l=i8(t),u=Object.assign({},s,l);c3(u),e&&(e.dataset.swal2Theme=u.theme),Fv(this,u),Jt.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const i8=t=>{const e={};return Object.keys(t).forEach(n=>{if(o3(n)){const s=t;e[n]=s[n]}else Ei(`Invalid parameter to update: ${n}`)}),e};function d3(){var t;const e=Jt.domCache.get(this),n=Jt.innerParams.get(this);if(!n){f3(this);return}e.popup&&We.swalCloseEventFinishedCallback&&(We.swalCloseEventFinishedCallback(),delete We.swalCloseEventFinishedCallback),typeof n.didDestroy=="function"&&n.didDestroy(),(t=We.eventEmitter)===null||t===void 0||t.emit("didDestroy"),r8(this)}const r8=t=>{f3(t),delete t.params,delete We.keydownHandler,delete We.keydownTarget,delete We.currentInstance},f3=t=>{t.isAwaitingPromise?(K1(Jt,t),t.isAwaitingPromise=!0):(K1(El,t),K1(Jt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},K1=(t,e)=>{for(const n in t)t[n].delete(e)};var s8=Object.freeze({__proto__:null,_destroy:d3,close:_a,closeModal:_a,closePopup:_a,closeToast:_a,disableButtons:t3,disableInput:i3,disableLoading:sf,enableButtons:e3,enableInput:n3,getInput:Qv,handleAwaitingPromise:vu,hideLoading:sf,rejectPromise:Yv,resetValidationMessage:s3,showValidationMessage:r3,update:u3});const a8=(t,e,n)=>{t.toast?o8(t,e,n):(c8(e),u8(e),d8(t,e,n))},o8=(t,e,n)=>{e.popup.onclick=()=>{t&&(l8(t)||t.timer||t.input)||n(Bl.close)}},l8=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let af=!1;const c8=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(af=!0)}}},u8=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(af=!0)}}},d8=(t,e,n)=>{e.container.onclick=s=>{if(af){af=!1;return}s.target===e.container&&Of(t.allowOutsideClick)&&n(Bl.backdrop)}},f8=t=>typeof t=="object"&&t.jquery,rb=t=>t instanceof Element||f8(t),h8=t=>{const e={};return typeof t[0]=="object"&&!rb(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,s)=>{const l=t[s];typeof l=="string"||rb(l)?e[n]=l:l!==void 0&&_o(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof l}`)}),e};function g8(...t){return new this(...t)}function m8(t){class e extends this{_main(s,l){return super._main(s,Object.assign({},t,l))}}return e}const x8=()=>We.timeout&&We.timeout.getTimerLeft(),h3=()=>{if(We.timeout)return SS(),We.timeout.stop()},g3=()=>{if(We.timeout){const t=We.timeout.start();return Zg(t),t}},p8=()=>{const t=We.timeout;return t&&(t.running?h3():g3())},b8=t=>{if(We.timeout){const e=We.timeout.increase(t);return Zg(e,!0),e}},y8=()=>!!(We.timeout&&We.timeout.isRunning());let sb=!1;const vg={};function w8(t="data-swal-template"){vg[t]=this,sb||(document.body.addEventListener("click",v8),sb=!0)}const v8=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in vg){const s=e.getAttribute&&e.getAttribute(n);if(s){vg[n].fire({template:s});return}}};class _8{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const s=this._getHandlersByEventName(e);s.includes(n)||s.push(n)}once(e,n){const s=(...l)=>{this.removeListener(e,s),n.apply(this,l)};this.on(e,s)}emit(e,...n){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,n)}catch(l){console.error(l)}})}removeListener(e,n){const s=this._getHandlersByEventName(e),l=s.indexOf(n);l>-1&&s.splice(l,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}We.eventEmitter=new _8;const E8=(t,e)=>{We.eventEmitter&&We.eventEmitter.on(t,e)},A8=(t,e)=>{We.eventEmitter&&We.eventEmitter.once(t,e)},S8=(t,e)=>{if(We.eventEmitter){if(!t){We.eventEmitter.reset();return}e?We.eventEmitter.removeListener(t,e):We.eventEmitter.removeAllListeners(t)}};var C8=Object.freeze({__proto__:null,argsToParams:h8,bindClickHandler:w8,clickCancel:hC,clickConfirm:Uv,clickDeny:fC,enableLoading:Al,fire:g8,getActions:bu,getCancelButton:jl,getCloseButton:qg,getConfirmButton:as,getContainer:Ai,getDenyButton:Eo,getFocusableElements:Xg,getFooter:Ov,getHtmlContainer:Vg,getIcon:Dl,getIconContent:bS,getImage:Tv,getInputLabel:yS,getLoader:Il,getPopup:It,getProgressSteps:Gg,getTimerLeft:x8,getTimerProgressBar:Mf,getTitle:Nv,getValidationMessage:kf,increaseTimer:b8,isDeprecatedParameter:l3,isLoading:vS,isTimerRunning:y8,isUpdatableParameter:o3,isValidParameter:a3,isVisible:dC,mixin:m8,off:S8,on:E8,once:A8,resumeTimer:g3,showLoading:Al,stopTimer:h3,toggleTimer:p8});class N8{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const m3=["swal-title","swal-html","swal-footer"],T8=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return B8(n),Object.assign(O8(n),k8(n),M8(n),R8(n),D8(n),j8(n),I8(n,m3))},O8=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(s=>{yo(s,["name","value"]);const l=s.getAttribute("name"),u=s.getAttribute("value");!l||!u||(l in Ea&&typeof Ea[l]=="boolean"?e[l]=u!=="false":l in Ea&&typeof Ea[l]=="object"?e[l]=JSON.parse(u):e[l]=u)}),e},k8=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(s=>{const l=s.getAttribute("name"),u=s.getAttribute("value");!l||!u||(e[l]=new Function(`return ${u}`)())}),e},M8=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(s=>{yo(s,["type","color","aria-label"]);const l=s.getAttribute("type");if(!(!l||!["confirm","cancel","deny"].includes(l))){if(e[`${l}ButtonText`]=s.innerHTML,e[`show${Fg(l)}Button`]=!0,s.hasAttribute("color")){const u=s.getAttribute("color");u!==null&&(e[`${l}ButtonColor`]=u)}if(s.hasAttribute("aria-label")){const u=s.getAttribute("aria-label");u!==null&&(e[`${l}ButtonAriaLabel`]=u)}}}),e},R8=t=>{const e={},n=t.querySelector("swal-image");return n&&(yo(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},D8=t=>{const e={},n=t.querySelector("swal-icon");return n&&(yo(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},j8=t=>{const e={},n=t.querySelector("swal-input");n&&(yo(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const s=Array.from(t.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(l=>{yo(l,["value"]);const u=l.getAttribute("value");if(!u)return;const g=l.innerHTML;e.inputOptions[u]=g})),e},I8=(t,e)=>{const n={};for(const s in e){const l=e[s],u=t.querySelector(l);u&&(yo(u,[]),n[l.replace(/^swal-/,"")]=u.innerHTML.trim())}return n},B8=t=>{const e=m3.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const s=n.tagName.toLowerCase();e.includes(s)||Ei(`Unrecognized element <${s}>`)})},yo=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Ei([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},x3=10,L8=t=>{var e,n;const s=Ai(),l=It();if(!s||!l)return;typeof t.willOpen=="function"&&t.willOpen(l),(e=We.eventEmitter)===null||e===void 0||e.emit("willOpen",l);const g=window.getComputedStyle(document.body).overflowY;if(F8(s,l,t),setTimeout(()=>{P8(s,l)},x3),Yg()&&(z8(s,t.scrollbarPadding!==void 0?t.scrollbarPadding:!1,g),vC()),!Rf()&&!We.previousActiveElement&&(We.previousActiveElement=document.activeElement),typeof t.didOpen=="function"){const y=t.didOpen;setTimeout(()=>y(l))}(n=We.eventEmitter)===null||n===void 0||n.emit("didOpen",l)},of=t=>{const e=It();if(!e||t.target!==e)return;const n=Ai();n&&(e.removeEventListener("animationend",of),e.removeEventListener("transitionend",of),n.style.overflowY="auto",Ar(n,ve["no-transition"]))},P8=(t,e)=>{Rv(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",of),e.addEventListener("transitionend",of)):t.style.overflowY="auto"},z8=(t,e,n)=>{_C(),e&&n!=="hidden"&&OC(n),setTimeout(()=>{t.scrollTop=0})},F8=(t,e,n)=>{var s;(s=n.showClass)!==null&&s!==void 0&&s.backdrop&&jt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Jn(e,"grid"),setTimeout(()=>{var l;(l=n.showClass)!==null&&l!==void 0&&l.popup&&jt(e,n.showClass.popup),e.style.removeProperty("opacity")},x3)):Jn(e,"grid"),jt([document.documentElement,document.body],ve.shown),n.heightAuto&&n.backdrop&&!n.toast&&jt([document.documentElement,document.body],ve["height-auto"])};var ab={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function U8(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=ab.email),t.input==="url"&&(t.inputValidator=ab.url))}function H8(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Ei('Target parameter is not valid, defaulting to "body"'),t.target="body")}function V8(t){U8(t),t.showLoaderOnConfirm&&!t.preConfirm&&Ei(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),H8(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),DS(t)}let ss;var Yd=new WeakMap;class Rn{constructor(...e){if(uS(this,Yd,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;ss=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,dS(Yd,this,this._main(ss.params))}_main(e,n={}){if(c3(Object.assign({},n,e)),We.currentInstance){const u=El.swalPromiseResolve.get(We.currentInstance),{isAwaitingPromise:g}=We.currentInstance;We.currentInstance._destroy(),g||u({isDismissed:!0}),Yg()&&Gv()}We.currentInstance=ss;const s=q8(e,n);V8(s),Object.freeze(s),We.timeout&&(We.timeout.stop(),delete We.timeout),clearTimeout(We.restoreFocusTimeout);const l=X8(ss);return Fv(ss,s),Jt.innerParams.set(ss,s),G8(ss,l,s)}then(e){return K2(Yd,this).then(e)}finally(e){return K2(Yd,this).finally(e)}}const G8=(t,e,n)=>new Promise((s,l)=>{const u=g=>{t.close({isDismissed:!0,dismiss:g,isConfirmed:!1,isDenied:!1})};El.swalPromiseResolve.set(t,s),El.swalPromiseReject.set(t,l),e.confirmButton.onclick=()=>{XC(t)},e.denyButton.onclick=()=>{YC(t)},e.cancelButton.onclick=()=>{WC(t,u)},e.closeButton.onclick=()=>{u(Bl.close)},a8(n,e,u),gC(We,n,u),LC(t,n),L8(n),Y8(We,n,u),W8(e,n),setTimeout(()=>{e.container.scrollTop=0})}),q8=(t,e)=>{const n=T8(t),s=Object.assign({},Ea,e,n,t);return s.showClass=Object.assign({},Ea.showClass,s.showClass),s.hideClass=Object.assign({},Ea.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},X8=t=>{const e={popup:It(),container:Ai(),actions:bu(),confirmButton:as(),denyButton:Eo(),cancelButton:jl(),loader:Il(),closeButton:qg(),validationMessage:kf(),progressSteps:Gg()};return Jt.domCache.set(t,e),e},Y8=(t,e,n)=>{const s=Mf();di(s),e.timer&&(t.timeout=new N8(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&s&&(Jn(s),rr(s,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Zg(e.timer)})))},W8=(t,e)=>{if(!e.toast){if(!Of(e.allowEnterKey)){Cv("allowEnterKey"),Q8();return}Z8(t)||K8(t,e)||wg(-1,1)}},Z8=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&zi(n))return n.focus(),!0;return!1},K8=(t,e)=>e.focusDeny&&zi(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&zi(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&zi(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Q8=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Rn.prototype.disableButtons=t3;Rn.prototype.enableButtons=e3;Rn.prototype.getInput=Qv;Rn.prototype.disableInput=i3;Rn.prototype.enableInput=n3;Rn.prototype.hideLoading=sf;Rn.prototype.disableLoading=sf;Rn.prototype.showValidationMessage=r3;Rn.prototype.resetValidationMessage=s3;Rn.prototype.close=_a;Rn.prototype.closePopup=_a;Rn.prototype.closeModal=_a;Rn.prototype.closeToast=_a;Rn.prototype.rejectPromise=Yv;Rn.prototype.update=u3;Rn.prototype._destroy=d3;Object.assign(Rn,C8);Object.keys(s8).forEach(t=>{Rn[t]=function(...e){if(ss&&ss[t])return ss[t](...e)}});Rn.DismissReason=Bl;Rn.version="11.26.17";const Er=Rn;Er.default=Er;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const p3="http://127.0.0.1:8000/api",tm=p3.replace("/api",""),tt=Mn.create({baseURL:p3,timeout:15e3});tt.interceptors.request.use(t=>{const e=localStorage.getItem("ACCESS_TOKEN");return t.headers.Authorization=`Bearer ${e}`,t});tt.interceptors.response.use(t=>t,t=>{if(!t.response)return console.error("Network Error:",t.message),Er.fire({icon:"error",title:"Connection Error",text:"Unable to connect to the server. Please check if the backend is running.",confirmButtonColor:"#dc2626"}),Promise.reject(t);const{response:e}=t;throw e.status===401?localStorage.removeItem("ACCESS_TOKEN"):e.status===500?(console.error("Server Error:",e.data),Er.fire({icon:"error",title:"Server Error",text:"An internal server error occurred. Please try again later.",confirmButtonColor:"#dc2626"})):e.status===404&&console.error("Not Found:",e.config.url),t});const $8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ob=t=>{const e=J8(t);return e.charAt(0).toUpperCase()+e.slice(1)},b3=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),e5=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var t5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const n5=ne.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:g,...y},b)=>ne.createElement("svg",{ref:b,...t5,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:b3("lucide",l),...!u&&!e5(y)&&{"aria-hidden":"true"},...y},[...g.map(([f,w])=>ne.createElement(f,w)),...Array.isArray(u)?u:[u]]));const Ie=(t,e)=>{const n=ne.forwardRef(({className:s,...l},u)=>ne.createElement(n5,{ref:u,iconNode:e,className:b3(`lucide-${$8(ob(t))}`,`lucide-${t}`,s),...l}));return n.displayName=ob(t),n};const i5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lb=Ie("activity",i5);const r5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],s5=Ie("arrow-right",r5);const a5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],o5=Ie("atom",a5);const l5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lf=Ie("award",l5);const c5=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],u5=Ie("book-marked",c5);const d5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gn=Ie("book-open",d5);const f5=[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],y3=Ie("book-plus",f5);const h5=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Vc=Ie("book",h5);const g5=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],jf=Ie("building-2",g5);const m5=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],x5=Ie("building",m5);const p5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jc=Ie("calendar",p5);const b5=[["path",{d:"M14.564 14.558a3 3 0 1 1-4.122-4.121",key:"1rnrzw"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20 20H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 .819-.175",key:"1x3arw"}],["path",{d:"M9.695 4.024A2 2 0 0 1 10.004 4h3.993a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v7.344",key:"1i84u0"}]],y5=Ie("camera-off",b5);const w5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],w3=Ie("camera",w5);const v5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cb=Ie("chart-column",v5);const _5=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],v3=Ie("chart-pie",_5);const E5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yl=Ie("chevron-down",E5);const A5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_3=Ie("chevron-left",A5);const S5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ll=Ie("chevron-right",S5);const C5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],E3=Ie("circle-alert",C5);const N5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eu=Ie("circle-check-big",N5);const T5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],A3=Ie("circle-plus",T5);const O5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],S3=Ie("circle-x",O5);const k5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tu=Ie("clock",k5);const M5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cf=Ie("copy",M5);const R5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],C3=Ie("crown",R5);const D5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ub=Ie("database",D5);const j5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],nu=Ie("dollar-sign",j5);const I5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ul=Ie("download",I5);const B5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],L5=Ie("eye-off",B5);const P5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z5=Ie("eye",P5);const F5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],N3=Ie("file-chart-column-increasing",F5);const U5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],H5=Ie("file-spreadsheet",U5);const V5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xo=Ie("file-text",V5);const G5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],q5=Ie("funnel",G5);const X5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Y5=Ie("globe",X5);const W5=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Z5=Ie("graduation-cap",W5);const K5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],uf=Ie("hash",K5);const Q5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wl=Ie("history",Q5);const $5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],J5=Ie("image",$5);const e6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_g=Ie("info",e6);const t6=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],n6=Ie("keyboard",t6);const i6=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],r6=Ie("laptop",i6);const s6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],T3=Ie("layers",s6);const a6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],O3=Ie("layout-dashboard",a6);const o6=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Sl=Ie("library",o6);const l6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],k3=Ie("loader-circle",l6);const c6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],df=Ie("lock",c6);const u6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],d6=Ie("log-in",u6);const f6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h6=Ie("log-out",f6);const g6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],M3=Ie("mail",g6);const m6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cl=Ie("map-pin",m6);const x6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],R3=Ie("maximize-2",x6);const p6=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],db=Ie("medal",p6);const b6=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],D3=Ie("minimize-2",b6);const y6=[["path",{d:"M5 12h14",key:"1ays0h"}]],w6=Ie("minus",y6);const v6=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_6=Ie("moon",v6);const E6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],A6=Ie("package",E6);const S6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],fb=Ie("pencil",S6);const C6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],N6=Ie("phone",C6);const T6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],O6=Ie("plus",T6);const k6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Eg=Ie("printer",k6);const M6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],j3=Ie("refresh-cw",M6);const R6=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],I3=Ie("repeat",R6);const D6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nm=Ie("rotate-ccw",D6);const j6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],I6=Ie("save",j6);const B6=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],im=Ie("scan",B6);const L6=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],P6=Ie("scroll",L6);const z6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nl=Ie("search",z6);const F6=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],U6=Ie("server",F6);const H6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],B3=Ie("settings",H6);const V6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hb=Ie("shield",V6);const G6=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],q6=Ie("sparkles",G6);const X6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Y6=Ie("square-pen",X6);const W6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Z6=Ie("star",W6);const K6=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Q6=Ie("sun",K6);const $6=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],J6=Ie("toggle-left",$6);const eN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],L3=Ie("trash-2",eN);const tN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],P3=Ie("trending-up",tN);const nN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iu=Ie("triangle-alert",nN);const iN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],W0=Ie("trophy",iN);const rN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],z3=Ie("upload",rN);const sN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],rm=Ie("user-plus",sN);const aN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lr=Ie("user",aN);const oN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pr=Ie("users",oN);const lN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cN=Ie("wifi-off",lN);const uN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],dN=Ie("wifi",uN);const fN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zr=Ie("x",fN);const hN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gN=Ie("zap",hN);function hn({label:t,type:e="text",value:n,onChange:s,onBlur:l,required:u=!1,className:g="",error:y,icon:b,disabled:f=!1,name:w,id:E}){const[S,O]=ne.useState(!1),k=S||n,M="#020463";return m.jsxs("div",{className:`relative ${g}`,children:[m.jsxs("div",{className:"relative",children:[b&&m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 transition-colors duration-200 z-10",style:{color:y?"#ef4444":S?M:"#9ca3af"},children:m.jsx(b,{size:18})}),m.jsx("input",{type:e,value:n,onChange:s,onFocus:()=>O(!0),onBlur:j=>{O(!1),l&&l(j)},required:u,disabled:f,name:w,id:E||w,placeholder:" ",className:`
                        peer w-full pr-4 py-4 pt-6 
                        ${b?"pl-12":"pl-4"}
                        bg-white dark:bg-slate-900 border-2 rounded-xl
                        text-gray-900 dark:text-white font-semibold
                        outline-none transition-all duration-200
                        hover:bg-white dark:hover:bg-slate-900
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${y?"border-red-400 focus:border-red-500 focus:ring-4 focus:ring-red-100 dark:focus:ring-red-900/30":"border-gray-200 dark:border-slate-700 focus:ring-4"}
                    `,style:y?void 0:{"--tw-ring-color":"rgba(2, 4, 99, 0.15)",borderColor:S?M:void 0}}),m.jsxs("label",{className:`
                        absolute transition-all duration-200 pointer-events-none truncate
                        ${b?"left-12":"left-4"}
                        ${k?"top-2 text-xs font-bold":"top-1/2 -translate-y-1/2 text-sm font-medium"}
                    `,style:{maxWidth:b?"calc(100% - 4rem)":"calc(100% - 2rem)",color:y?"#ef4444":k?M:"#6b7280"},children:[t," ",u&&m.jsx("span",{className:"text-red-500",children:"*"})]})]}),y&&m.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-red-600",children:[m.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),m.jsx("span",{className:"text-sm font-medium",children:y})]})]})}function Fi({children:t,onClick:e,type:n="button",variant:s="primary",className:l="",disabled:u=!1,loading:g=!1,icon:y,fullWidth:b=!1}){const f="px-4 py-2.5 rounded-xl font-bold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",w="#020463",E="#1a1c7a",S={primary:"text-white hover:shadow-lg active:scale-[0.98]",form:"text-white hover:shadow-xl active:scale-[0.98] py-4 text-base",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200",danger:"bg-red-500 text-white hover:bg-red-600 hover:shadow-lg hover:shadow-red-200 active:scale-[0.98]",ghost:"text-gray-600 hover:bg-gray-100",outline:"border-2 border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400",success:"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-lg hover:shadow-emerald-200 active:scale-[0.98]"},O=b?"w-full":"",k=s==="primary"||s==="form",M=k?{backgroundColor:w}:{},j=H=>{k&&!u&&!g&&(H.currentTarget.style.backgroundColor=E)},F=H=>{k&&!u&&!g&&(H.currentTarget.style.backgroundColor=w)};return m.jsx("button",{type:n,onClick:e,disabled:u||g,className:`${f} ${S[s]} ${O} ${l}`,style:M,onMouseEnter:j,onMouseLeave:F,children:g?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("span",{children:"Please wait..."})]}):m.jsxs(m.Fragment,{children:[y&&m.jsx(y,{size:18}),t]})})}const mN=({onFinish:t})=>{const[e,n]=ne.useState(!1);return ne.useEffect(()=>{const s=setTimeout(()=>{n(!0)},2500),l=setTimeout(()=>{t()},4500);return()=>{clearTimeout(s),clearTimeout(l)}},[t]),m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center backdrop-blur-md overflow-hidden",style:{backgroundColor:"rgba(2, 4, 99, 0.95)"},children:[m.jsx("style",{children:`
        .book-container {
          perspective: 1500px;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 300px;
          height: 400px;
        }

        .book {
          width: 100%;
          height: 100%;
          position: relative;
          transform-style: preserve-3d;
          transform: rotateY(-30deg);
          animation: book-appear 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        /* DARK BLUE BOOK COVER */
        .book-cover {
          position: absolute;
          width: 100%;
          height: 100%;
          background: linear-gradient(135deg, #020463 0%, #1a1c7a 100%);
          border-radius: 4px 12px 12px 4px;
          box-shadow: 0 20px 50px rgba(0,0,0,0.5);
          transform-origin: left;
          z-index: 2;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          border: 1px solid rgba(255,255,255,0.15);
          animation: book-open 3s cubic-bezier(0.645, 0.045, 0.355, 1) 1s forwards;
        }

        /* Book spine effect */
        .book-cover::after {
          content: "";
          position: absolute;
          left: 10px;
          top: 0;
          bottom: 0;
          width: 3px;
          background: rgba(255,255,255,0.2);
          box-shadow: 2px 0 8px rgba(0,0,0,0.3);
        }

        /* Gold/White decorative border on cover */
        .book-cover::before {
          content: "";
          position: absolute;
          inset: 15px;
          border: 2px solid rgba(255, 215, 0, 0.4);
          border-radius: 2px 8px 8px 2px;
          pointer-events: none;
        }

        .book-logo {
          color: white;
          margin-bottom: 16px;
          filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));
        }

        .book-title {
          color: white;
          font-size: 18px;
          font-weight: 800;
          text-transform: uppercase;
          letter-spacing: 2px;
          text-align: center;
          text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .book-subtitle {
          color: rgba(255, 215, 0, 0.8);
          font-size: 11px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 3px;
          margin-top: 8px;
        }

        .book-pages {
          position: absolute;
          width: 95%;
          height: 95%;
          background: linear-gradient(to right, #f5f5f5 0%, #ffffff 50%, #f5f5f5 100%);
          border-radius: 2px 8px 8px 2px;
          z-index: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: inset 0 0 30px rgba(0,0,0,0.08);
          overflow: hidden;
        }

        /* Page lines effect */
        .book-pages::before {
          content: "";
          position: absolute;
          left: 50%;
          top: 10%;
          bottom: 10%;
          width: 1px;
          background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.1), transparent);
        }

        .book-page-line {
          position: absolute;
          left: 0;
          top: 0;
          bottom: 0;
          width: 2px;
          background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.08), transparent);
        }

        @keyframes book-appear {
          from { opacity: 0; transform: scale(0.8) rotateY(-30deg) translateY(50px); }
          to { opacity: 1; transform: scale(1) rotateY(-30deg) translateY(0); }
        }

        @keyframes book-open {
          0% { transform: rotateY(0deg); }
          100% { transform: rotateY(-160deg); }
        }

        .welcome-text {
          font-family: 'Inter', sans-serif;
          font-size: 32px;
          font-weight: 800;
          color: #020463;
          text-align: center;
          opacity: 0;
          transform: translateY(20px);
          transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .welcome-text.show {
          opacity: 1;
          transform: translateY(0);
        }

        .welcome-text span {
          color: #1a1c7a;
        }

        .glow-effect {
          position: absolute;
          width: 300%;
          height: 300%;
          background: radial-gradient(circle, rgba(26, 28, 122, 0.2) 0%, transparent 70%);
          pointer-events: none;
          animation: pulse 4s infinite ease-in-out;
        }

        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 0.3; }
          50% { transform: scale(1.2); opacity: 0.6; }
        }
      `}),m.jsx("div",{className:"glow-effect"}),m.jsx("div",{className:"book-container",children:m.jsxs("div",{className:"book",children:[m.jsxs("div",{className:"book-cover",children:[m.jsx("div",{className:"book-logo",children:m.jsx(Sl,{size:64,strokeWidth:1.5})}),m.jsx("div",{className:"book-title",children:"PCLU Library"}),m.jsx("div",{className:"book-subtitle",children:"Management System"})]}),m.jsxs("div",{className:"book-pages",children:[m.jsx("div",{className:"book-page-line"}),m.jsxs("div",{className:`welcome-text ${e?"show":""}`,children:["Welcome,",m.jsx("br",{}),m.jsx("span",{children:"Admin"})]})]})]})})]})};function xN(){const[t,e]=ne.useState(""),[n,s]=ne.useState(""),[l,u]=ne.useState(null),[g,y]=ne.useState({}),[b,f]=ne.useState(!1),[w,E]=ne.useState(!1),S=()=>{const k={};return t?t.length<3&&(k.username="Username must be at least 3 characters"):k.username="Username is required",n?n.length<4&&(k.password="Password must be at least 4 characters"):k.password="Password is required",y(k),Object.keys(k).length===0},O=k=>{k.preventDefault(),u(null),S()&&(f(!0),tt.post("/login",{username:t,password:n}).then(({data:M})=>{localStorage.setItem("ACCESS_TOKEN",M.token),localStorage.setItem("USER_NAME",M.user.name),localStorage.setItem("USER_ROLE",M.user.role),E(!0),f(!1)}).catch(M=>{f(!1);const j=M.response;j&&j.status===401?u("Invalid username or password. Please try again."):u("Connection error. Please check if the server is running.")}))};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 via-primary-700 to-primary-800",children:[w&&m.jsx(mN,{onFinish:()=>window.location.reload()}),m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-white/5 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-white/5 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-white/3 rounded-full blur-3xl"})]}),m.jsxs("div",{className:"max-w-md w-full relative z-10 px-4",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"bg-white p-5 rounded-2xl shadow-2xl inline-block mb-4",children:m.jsx(Sl,{size:48,className:"text-primary-600"})}),m.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"PCLU Library"}),m.jsx("p",{className:"text-white/70 text-sm",children:"Admin Management System"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 transition-colors duration-300",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Admin Login"}),m.jsx("p",{className:"text-gray-500 dark:text-slate-400 mt-1",children:"Sign in to access the dashboard"})]}),l&&m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border-2 border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-4 rounded-xl mb-6 flex items-start gap-3",children:[m.jsx(E3,{className:"text-red-500 dark:text-red-400 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm",children:"Authentication Failed"}),m.jsx("p",{className:"text-sm mt-0.5",children:l})]})]}),m.jsxs("form",{onSubmit:O,className:"space-y-5",children:[m.jsx(hn,{label:"Username",type:"text",name:"username",id:"username",value:t,onChange:k=>{e(k.target.value),g.username&&y(M=>({...M,username:null}))},icon:Lr,required:!0,error:g.username}),m.jsx(hn,{label:"Password",type:"password",name:"password",id:"password",value:n,onChange:k=>{s(k.target.value),g.password&&y(M=>({...M,password:null}))},icon:df,required:!0,error:g.password}),m.jsx(Fi,{type:"submit",variant:"form",fullWidth:!0,loading:b,className:"mt-6",children:"Sign In"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-xs text-gray-400",children:"Authorized personnel only. Unauthorized access is prohibited."})})]}),m.jsx("p",{className:"text-center mt-6 text-xs text-white/50",children:" 2026 PCLU Library System. All rights reserved."})]})]})}const F3=ne.createContext(null);function Q1({children:t}){const[e,n]=ne.useState([]),s=ne.useCallback((g,y="info",b=4e3)=>{const f=Date.now();return n(w=>[...w,{id:f,message:g,type:y}]),setTimeout(()=>{n(w=>w.filter(E=>E.id!==f))},b),f},[]),l=ne.useCallback(g=>{n(y=>y.filter(b=>b.id!==g))},[]),u={success:(g,y)=>s(g,"success",y),error:(g,y)=>s(g,"error",y),warning:(g,y)=>s(g,"warning",y),info:(g,y)=>s(g,"info",y)};return m.jsxs(F3.Provider,{value:u,children:[t,m.jsx(pN,{toasts:e,removeToast:l})]})}function Pl(){const t=ne.useContext(F3);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function pN({toasts:t,removeToast:e}){return t.length===0?null:m.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] flex flex-col gap-2 max-w-sm",children:t.map(n=>m.jsx(bN,{...n,onClose:()=>e(n.id)},n.id))})}function bN({id:t,message:e,type:n,onClose:s}){const[l,u]=ne.useState(!1),g=()=>{u(!0),setTimeout(s,200)},y={success:{icon:eu,bg:"bg-emerald-50",border:"border-emerald-200",text:"text-emerald-800",iconColor:"text-emerald-500"},error:{icon:S3,bg:"bg-red-50",border:"border-red-200",text:"text-red-800",iconColor:"text-red-500"},warning:{icon:iu,bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-800",iconColor:"text-amber-500"},info:{icon:_g,bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",iconColor:"text-blue-500"}},{icon:b,bg:f,border:w,text:E,iconColor:S}=y[n]||y.info;return m.jsxs("div",{className:`
                flex items-start gap-3 p-4 rounded-xl shadow-lg border-2
                ${f} ${w} ${E}
                transform transition-all duration-200 ease-out
                ${l?"translate-x-full opacity-0":"translate-x-0 opacity-100"}
                animate-slideIn
            `,role:"alert",children:[m.jsx(b,{size:20,className:`${S} flex-shrink-0 mt-0.5`}),m.jsx("p",{className:"flex-1 text-sm font-medium leading-snug",children:e}),m.jsx("button",{onClick:g,className:"flex-shrink-0 p-1 rounded-lg hover:bg-black/5 transition-colors",children:m.jsx(zr,{size:16,className:"opacity-60"})})]})}const U3=document.createElement("style");U3.textContent=`
    @keyframes slideIn {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    .animate-slideIn {
        animation: slideIn 0.3s ease-out;
    }
`;document.head.appendChild(U3);function Na({label:t,value:e,onChange:n,options:s=[],children:l,required:u=!1,className:g="",error:y,disabled:b=!1,name:f,id:w}){const[E,S]=ne.useState(!1),O=E||e,k="#020463";return m.jsxs("div",{className:`relative ${g}`,children:[m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:e,onChange:n,onFocus:()=>S(!0),onBlur:()=>S(!1),required:u,disabled:b,name:f,id:w||f,style:{borderColor:y?void 0:E?k:void 0},className:`
                        peer w-full px-4 py-4 pt-6 pr-12
                        bg-white dark:bg-slate-900 border-2 rounded-xl
                        font-semibold text-gray-900 dark:text-white
                        outline-none transition-all duration-200
                        hover:bg-white dark:hover:bg-slate-900
                        appearance-none cursor-pointer
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${y?"border-red-400 focus:border-red-500 focus:ring-4 focus:ring-red-100 dark:focus:ring-red-900/30":"border-gray-200 dark:border-slate-700 focus:ring-4"}
                        ${e?"":"text-transparent dark:text-transparent"}
                    `,children:[m.jsx("option",{value:"",disabled:!0}),l,s.map(M=>m.jsx("option",{value:M.value||M,className:"py-2 bg-white dark:bg-slate-900 text-gray-900 dark:text-white",children:M.label||M},M.value||M))]}),m.jsxs("label",{className:`
                        absolute left-4 transition-all duration-200 pointer-events-none whitespace-nowrap
                        ${O?"top-2 text-xs font-bold":"top-1/2 -translate-y-1/2 text-sm font-medium"}
                    `,style:{color:y?"#ef4444":O?k:"#6b7280"},children:[t," ",u&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none transition-colors duration-200",style:{color:y?"#ef4444":E?k:"#9ca3af"},children:m.jsx(yl,{size:20,className:`transition-transform duration-200 ${E?"rotate-180":""}`})})]}),y&&m.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-red-600",children:[m.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),m.jsx("span",{className:"text-sm font-medium",children:y})]})]})}function yN({onClose:t,onSuccess:e,bookToEdit:n,prefillBarcode:s=""}){const l=Pl(),[u,g]=ne.useState({title:"",author:"",category:"Fiction",isbn:"",publisher:"",published_year:"",call_number:"",pages:"",language:"English",description:"",location:"",copies:"1"}),[y,b]=ne.useState(null),[f,w]=ne.useState(null),[E,S]=ne.useState(!1),O=ne.useRef(null),[k,M]=ne.useState(!1);ne.useEffect(()=>{n&&(g({title:n.title||"",author:n.author||"",category:n.category||"",isbn:n.isbn||"",publisher:n.publisher||"",published_year:n.published_year||"",call_number:n.call_number||"",pages:n.pages||"",language:n.language||"English",description:n.description||"",location:n.location||"",copies:"0"}),n.image_path&&w(`${tm}/${n.image_path}`))},[n]),ne.useEffect(()=>{s&&!n&&(g(z=>({...z,isbn:s})),M(!0))},[s,n]);const j=z=>{const U=z.target.files[0];if(U){b(U);const Y=new FileReader;Y.onloadend=()=>{w(Y.result)},Y.readAsDataURL(U)}},F=()=>{b(null),w(null),O.current&&(O.current.value="")},H=z=>{z.preventDefault(),S(!0);const U=new FormData;U.append("title",u.title),U.append("author",u.author),U.append("category",u.category),u.isbn&&U.append("isbn",u.isbn),u.publisher&&U.append("publisher",u.publisher),u.published_year&&U.append("published_year",u.published_year),u.call_number&&U.append("call_number",u.call_number),u.pages&&U.append("pages",u.pages),u.language&&U.append("language",u.language),u.description&&U.append("description",u.description),u.location&&U.append("location",u.location),n||U.append("copies",u.copies||"1"),y&&U.append("image",y),n?(U.append("_method","PUT"),tt.post(`/books/${n.id}`,U,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{}).catch(Y=>{S(!1),console.error(Y),l.error("Failed to update book")})):tt.post("/books/title",U,{headers:{"Content-Type":"multipart/form-data"}}).then(Y=>{const $=Y.data.book,X=Y.data.copies_created||0,ue=$?.isbn||"Auto-generated";Er.fire({icon:"success",title:"Book Added Successfully!",html:`
              <div style="text-align: left; padding: 10px 0;">
                <p><strong>Title:</strong> ${$?.title||u.title}</p>
                <p><strong>ISBN:</strong> <code style="background: #e3e8ee; padding: 2px 8px; border-radius: 4px;">${ue}</code></p>
                <p><strong>Physical Copies:</strong> ${X}</p>
                <hr style="margin: 10px 0; border-color: #e5e7eb;">
                <p style="color: #059669;"> Registered for scanner - Ready to borrow!</p>
              </div>
            `,confirmButtonColor:"#020463",confirmButtonText:"Great!"}),e($),t()}).catch(Y=>{S(!1),console.error(Y);const $=Y.response;if($&&$.status===422){const X=$.data.errors,ue=Object.values(X).flat().join(`
`);l.error("Validation Error: "+ue)}else l.error("Failed to create book. Please check your network connection.")})};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"bg-[#020463] px-6 py-5 flex items-center justify-between flex-shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:m.jsx(gn,{className:"text-white",size:22})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white",children:n?"Edit Book":"Add New Book"}),m.jsx("p",{className:"text-white/70 text-sm",children:n?"Update book information":"Complete book details"})]})]}),m.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition text-white/70 hover:text-white",children:m.jsx(zr,{size:22})})]}),m.jsxs("div",{className:"overflow-y-auto flex-1 p-6",children:[k&&m.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-200 rounded-xl flex items-start gap-3",children:[m.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:m.jsx(im,{className:"text-[#020463]",size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[#020463] font-bold text-sm",children:"Registering from Scanner"}),m.jsx("p",{className:"text-blue-600 text-sm mt-0.5",children:"The ISBN has been pre-filled."})]})]}),m.jsxs("form",{onSubmit:H,className:"space-y-6",children:[m.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-4 hover:border-blue-300 transition-colors",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Book Cover Image"}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-32 h-40 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center border",children:f?m.jsx("img",{src:f,alt:"Preview",className:"w-full h-full object-cover"}):m.jsxs("div",{className:"text-center p-2",children:[m.jsx(J5,{className:"mx-auto text-gray-400",size:32}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"No image"})]})}),m.jsxs("div",{className:"flex-1 space-y-3",children:[m.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:j,className:"hidden",id:"book-image"}),m.jsxs("label",{htmlFor:"book-image",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-[#020463] rounded-lg cursor-pointer hover:bg-blue-100 transition font-medium text-sm",children:[m.jsx(z3,{size:16}),"Choose Image"]}),f&&m.jsx("button",{type:"button",onClick:F,className:"ml-2 px-4 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition font-medium text-sm",children:"Remove"}),m.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, WEBP up to 5MB"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx(hn,{label:"Book Title",value:u.title,onChange:z=>g({...u,title:z.target.value}),icon:gn,required:!0}),m.jsx(hn,{label:"Author",value:u.author,onChange:z=>g({...u,author:z.target.value}),icon:Lr,required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx(hn,{label:"ISBN (Optional)",value:u.isbn,onChange:z=>g({...u,isbn:z.target.value}),icon:uf,placeholder:n?"":"Auto-generated if left blank"}),m.jsxs(Na,{label:"Category",value:u.category,onChange:z=>g({...u,category:z.target.value}),required:!0,children:[m.jsx("option",{value:"Fiction",children:"Fiction"}),m.jsx("option",{value:"Technology",children:"Technology"}),m.jsx("option",{value:"Science",children:"Science"}),m.jsx("option",{value:"History",children:"History"}),m.jsx("option",{value:"Education",children:"Education"}),m.jsx("option",{value:"Literature",children:"Literature"}),m.jsx("option",{value:"Reference",children:"Reference"}),m.jsx("option",{value:"Business",children:"Business"}),m.jsx("option",{value:"Arts",children:"Arts"}),m.jsx("option",{value:"Religion",children:"Religion"}),m.jsx("option",{value:"Philosophy",children:"Philosophy"}),m.jsx("option",{value:"Law",children:"Law"}),m.jsx("option",{value:"Medicine",children:"Medicine"}),m.jsx("option",{value:"Engineering",children:"Engineering"}),m.jsx("option",{value:"Maritime",children:"Maritime"}),m.jsx("option",{value:"Hospitality",children:"Hospitality"}),m.jsx("option",{value:"Criminology",children:"Criminology"}),m.jsx("option",{value:"Thesis",children:"Thesis"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx(hn,{label:"Publisher",value:u.publisher,onChange:z=>g({...u,publisher:z.target.value}),icon:jf}),m.jsx(hn,{label:"Published Year",value:u.published_year,onChange:z=>g({...u,published_year:z.target.value}),icon:Jc,type:"number",min:"1800",max:new Date().getFullYear()+1})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx(hn,{label:"Call Number",value:u.call_number,onChange:z=>g({...u,call_number:z.target.value}),icon:uf}),m.jsx(hn,{label:"Pages",value:u.pages,onChange:z=>g({...u,pages:z.target.value}),icon:xo,type:"number",min:"1"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs(Na,{label:"Language",value:u.language,onChange:z=>g({...u,language:z.target.value}),children:[m.jsx("option",{value:"English",children:"English"}),m.jsx("option",{value:"Filipino",children:"Filipino"}),m.jsx("option",{value:"Spanish",children:"Spanish"}),m.jsx("option",{value:"Japanese",children:"Japanese"}),m.jsx("option",{value:"Chinese",children:"Chinese"}),m.jsx("option",{value:"Korean",children:"Korean"}),m.jsx("option",{value:"French",children:"French"}),m.jsx("option",{value:"German",children:"German"}),m.jsx("option",{value:"Other",children:"Other"})]}),m.jsx(hn,{label:"Default Location",value:u.location,onChange:z=>g({...u,location:z.target.value}),icon:Cl,placeholder:"e.g., Shelf A1"})]}),!n&&m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx(cf,{className:"text-[#020463]",size:20}),m.jsx("span",{className:"font-semibold text-[#020463]",children:"Physical Copies"})]}),m.jsx(hn,{label:"Number of Copies",value:u.copies,onChange:z=>g({...u,copies:z.target.value}),icon:cf,type:"number",min:"1",max:"100",required:!0}),m.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["System will auto-generate ",u.copies||0," unique barcode(s) for scanner tracking."]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),m.jsx("textarea",{value:u.description,onChange:z=>g({...u,description:z.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#020463] focus:ring-2 focus:ring-blue-100 outline-none transition-all resize-none text-gray-900",placeholder:"Enter a brief description of the book..."})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx(Fi,{type:"button",onClick:t,variant:"outline",className:"flex-1",children:"Cancel"}),m.jsx(Fi,{type:"submit",variant:"form",loading:E,className:"flex-1",children:n?"Save Changes":"Save Book"})]})]})]})]})})}function wN({book:t,onClose:e,onSuccess:n}){const[s,l]=ne.useState({book_title_id:t.id,building:"Main Library",aisle:"",shelf:""}),[u,g]=ne.useState(!1),y=b=>{b.preventDefault(),g(!0),tt.post("/books/asset",s).then(f=>{alert(`Physical copy added! Barcode: ${f.data.asset_code}`),n(),e()}).catch(f=>{g(!1),console.error(f),alert("Error adding book copy.")})};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 px-6 py-5 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:m.jsx(cf,{className:"text-white",size:22})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Physical Copy"}),m.jsxs("p",{className:"text-white/70 text-sm",children:["For: ",t.title]})]})]}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition text-white/70 hover:text-white",children:m.jsx(zr,{size:22})})]}),m.jsxs("form",{onSubmit:y,className:"p-6 space-y-5",children:[m.jsx("div",{className:"bg-primary-50 border-2 border-primary-100 rounded-xl p-4",children:m.jsxs("p",{className:"text-sm text-primary-700",children:[m.jsx("span",{className:"font-bold",children:"Adding a new physical copy for:"}),m.jsx("br",{}),m.jsx("span",{className:"text-primary-800 font-medium",children:t.title})," by ",t.author]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(hn,{label:"Aisle",value:s.aisle,onChange:b=>l({...s,aisle:b.target.value}),icon:Cl,required:!0}),m.jsx(hn,{label:"Shelf",value:s.shelf,onChange:b=>l({...s,shelf:b.target.value}),icon:T3,required:!0})]}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx(Fi,{type:"button",onClick:e,variant:"outline",className:"flex-1",children:"Cancel"}),m.jsx(Fi,{type:"submit",variant:"success",loading:u,className:"flex-1",children:"Save Copy"})]})]})]})})}var vN=Object.defineProperty,ff=Object.getOwnPropertySymbols,H3=Object.prototype.hasOwnProperty,V3=Object.prototype.propertyIsEnumerable,gb=(t,e,n)=>e in t?vN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ag=(t,e)=>{for(var n in e||(e={}))H3.call(e,n)&&gb(t,n,e[n]);if(ff)for(var n of ff(e))V3.call(e,n)&&gb(t,n,e[n]);return t},Sg=(t,e)=>{var n={};for(var s in t)H3.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&ff)for(var s of ff(t))e.indexOf(s)<0&&V3.call(t,s)&&(n[s]=t[s]);return n};var wo;(t=>{const e=class pt{constructor(b,f,w,E){if(this.version=b,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],b<pt.MIN_VERSION||b>pt.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=b*4+17;let S=[];for(let k=0;k<this.size;k++)S.push(!1);for(let k=0;k<this.size;k++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const O=this.addEccAndInterleave(w);if(this.drawCodewords(O),E==-1){let k=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);const j=this.getPenaltyScore();j<k&&(E=M,k=j),this.applyMask(M)}}l(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(b,f){const w=t.QrSegment.makeSegments(b);return pt.encodeSegments(w,f)}static encodeBinary(b,f){const w=t.QrSegment.makeBytes(b);return pt.encodeSegments([w],f)}static encodeSegments(b,f,w=1,E=40,S=-1,O=!0){if(!(pt.MIN_VERSION<=w&&w<=E&&E<=pt.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let k,M;for(k=w;;k++){const z=pt.getNumDataCodewords(k,f)*8,U=g.getTotalBits(b,k);if(U<=z){M=U;break}if(k>=E)throw new RangeError("Data too long")}for(const z of[pt.Ecc.MEDIUM,pt.Ecc.QUARTILE,pt.Ecc.HIGH])O&&M<=pt.getNumDataCodewords(k,z)*8&&(f=z);let j=[];for(const z of b){n(z.mode.modeBits,4,j),n(z.numChars,z.mode.numCharCountBits(k),j);for(const U of z.getData())j.push(U)}l(j.length==M);const F=pt.getNumDataCodewords(k,f)*8;l(j.length<=F),n(0,Math.min(4,F-j.length),j),n(0,(8-j.length%8)%8,j),l(j.length%8==0);for(let z=236;j.length<F;z^=253)n(z,8,j);let H=[];for(;H.length*8<j.length;)H.push(0);return j.forEach((z,U)=>H[U>>>3]|=z<<7-(U&7)),new pt(k,f,H,S)}getModule(b,f){return 0<=b&&b<this.size&&0<=f&&f<this.size&&this.modules[f][b]}getModules(){return this.modules}drawFunctionPatterns(){for(let w=0;w<this.size;w++)this.setFunctionModule(6,w,w%2==0),this.setFunctionModule(w,6,w%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const b=this.getAlignmentPatternPositions(),f=b.length;for(let w=0;w<f;w++)for(let E=0;E<f;E++)w==0&&E==0||w==0&&E==f-1||w==f-1&&E==0||this.drawAlignmentPattern(b[w],b[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(b){const f=this.errorCorrectionLevel.formatBits<<3|b;let w=f;for(let S=0;S<10;S++)w=w<<1^(w>>>9)*1335;const E=(f<<10|w)^21522;l(E>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,s(E,S));this.setFunctionModule(8,7,s(E,6)),this.setFunctionModule(8,8,s(E,7)),this.setFunctionModule(7,8,s(E,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,s(E,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,s(E,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,s(E,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let b=this.version;for(let w=0;w<12;w++)b=b<<1^(b>>>11)*7973;const f=this.version<<12|b;l(f>>>18==0);for(let w=0;w<18;w++){const E=s(f,w),S=this.size-11+w%3,O=Math.floor(w/3);this.setFunctionModule(S,O,E),this.setFunctionModule(O,S,E)}}drawFinderPattern(b,f){for(let w=-4;w<=4;w++)for(let E=-4;E<=4;E++){const S=Math.max(Math.abs(E),Math.abs(w)),O=b+E,k=f+w;0<=O&&O<this.size&&0<=k&&k<this.size&&this.setFunctionModule(O,k,S!=2&&S!=4)}}drawAlignmentPattern(b,f){for(let w=-2;w<=2;w++)for(let E=-2;E<=2;E++)this.setFunctionModule(b+E,f+w,Math.max(Math.abs(E),Math.abs(w))!=1)}setFunctionModule(b,f,w){this.modules[f][b]=w,this.isFunction[f][b]=!0}addEccAndInterleave(b){const f=this.version,w=this.errorCorrectionLevel;if(b.length!=pt.getNumDataCodewords(f,w))throw new RangeError("Invalid argument");const E=pt.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][f],S=pt.ECC_CODEWORDS_PER_BLOCK[w.ordinal][f],O=Math.floor(pt.getNumRawDataModules(f)/8),k=E-O%E,M=Math.floor(O/E);let j=[];const F=pt.reedSolomonComputeDivisor(S);for(let z=0,U=0;z<E;z++){let Y=b.slice(U,U+M-S+(z<k?0:1));U+=Y.length;const $=pt.reedSolomonComputeRemainder(Y,F);z<k&&Y.push(0),j.push(Y.concat($))}let H=[];for(let z=0;z<j[0].length;z++)j.forEach((U,Y)=>{(z!=M-S||Y>=k)&&H.push(U[z])});return l(H.length==O),H}drawCodewords(b){if(b.length!=Math.floor(pt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let w=this.size-1;w>=1;w-=2){w==6&&(w=5);for(let E=0;E<this.size;E++)for(let S=0;S<2;S++){const O=w-S,M=(w+1&2)==0?this.size-1-E:E;!this.isFunction[M][O]&&f<b.length*8&&(this.modules[M][O]=s(b[f>>>3],7-(f&7)),f++)}}l(f==b.length*8)}applyMask(b){if(b<0||b>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let w=0;w<this.size;w++){let E;switch(b){case 0:E=(w+f)%2==0;break;case 1:E=f%2==0;break;case 2:E=w%3==0;break;case 3:E=(w+f)%3==0;break;case 4:E=(Math.floor(w/3)+Math.floor(f/2))%2==0;break;case 5:E=w*f%2+w*f%3==0;break;case 6:E=(w*f%2+w*f%3)%2==0;break;case 7:E=((w+f)%2+w*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][w]&&E&&(this.modules[f][w]=!this.modules[f][w])}}getPenaltyScore(){let b=0;for(let S=0;S<this.size;S++){let O=!1,k=0,M=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[S][j]==O?(k++,k==5?b+=pt.PENALTY_N1:k>5&&b++):(this.finderPenaltyAddHistory(k,M),O||(b+=this.finderPenaltyCountPatterns(M)*pt.PENALTY_N3),O=this.modules[S][j],k=1);b+=this.finderPenaltyTerminateAndCount(O,k,M)*pt.PENALTY_N3}for(let S=0;S<this.size;S++){let O=!1,k=0,M=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][S]==O?(k++,k==5?b+=pt.PENALTY_N1:k>5&&b++):(this.finderPenaltyAddHistory(k,M),O||(b+=this.finderPenaltyCountPatterns(M)*pt.PENALTY_N3),O=this.modules[j][S],k=1);b+=this.finderPenaltyTerminateAndCount(O,k,M)*pt.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let O=0;O<this.size-1;O++){const k=this.modules[S][O];k==this.modules[S][O+1]&&k==this.modules[S+1][O]&&k==this.modules[S+1][O+1]&&(b+=pt.PENALTY_N2)}let f=0;for(const S of this.modules)f=S.reduce((O,k)=>O+(k?1:0),f);const w=this.size*this.size,E=Math.ceil(Math.abs(f*20-w*10)/w)-1;return l(0<=E&&E<=9),b+=E*pt.PENALTY_N4,l(0<=b&&b<=2568888),b}getAlignmentPatternPositions(){if(this.version==1)return[];{const b=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(b*2-2))*2;let w=[6];for(let E=this.size-7;w.length<b;E-=f)w.splice(1,0,E);return w}}static getNumRawDataModules(b){if(b<pt.MIN_VERSION||b>pt.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*b+128)*b+64;if(b>=2){const w=Math.floor(b/7)+2;f-=(25*w-10)*w-55,b>=7&&(f-=36)}return l(208<=f&&f<=29648),f}static getNumDataCodewords(b,f){return Math.floor(pt.getNumRawDataModules(b)/8)-pt.ECC_CODEWORDS_PER_BLOCK[f.ordinal][b]*pt.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][b]}static reedSolomonComputeDivisor(b){if(b<1||b>255)throw new RangeError("Degree out of range");let f=[];for(let E=0;E<b-1;E++)f.push(0);f.push(1);let w=1;for(let E=0;E<b;E++){for(let S=0;S<f.length;S++)f[S]=pt.reedSolomonMultiply(f[S],w),S+1<f.length&&(f[S]^=f[S+1]);w=pt.reedSolomonMultiply(w,2)}return f}static reedSolomonComputeRemainder(b,f){let w=f.map(E=>0);for(const E of b){const S=E^w.shift();w.push(0),f.forEach((O,k)=>w[k]^=pt.reedSolomonMultiply(O,S))}return w}static reedSolomonMultiply(b,f){if(b>>>8||f>>>8)throw new RangeError("Byte out of range");let w=0;for(let E=7;E>=0;E--)w=w<<1^(w>>>7)*285,w^=(f>>>E&1)*b;return l(w>>>8==0),w}finderPenaltyCountPatterns(b){const f=b[1];l(f<=this.size*3);const w=f>0&&b[2]==f&&b[3]==f*3&&b[4]==f&&b[5]==f;return(w&&b[0]>=f*4&&b[6]>=f?1:0)+(w&&b[6]>=f*4&&b[0]>=f?1:0)}finderPenaltyTerminateAndCount(b,f,w){return b&&(this.finderPenaltyAddHistory(f,w),f=0),f+=this.size,this.finderPenaltyAddHistory(f,w),this.finderPenaltyCountPatterns(w)}finderPenaltyAddHistory(b,f){f[0]==0&&(b+=this.size),f.pop(),f.unshift(b)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(y,b,f){if(b<0||b>31||y>>>b)throw new RangeError("Value out of range");for(let w=b-1;w>=0;w--)f.push(y>>>w&1)}function s(y,b){return(y>>>b&1)!=0}function l(y){if(!y)throw new Error("Assertion error")}const u=class _n{constructor(b,f,w){if(this.mode=b,this.numChars=f,this.bitData=w,f<0)throw new RangeError("Invalid argument");this.bitData=w.slice()}static makeBytes(b){let f=[];for(const w of b)n(w,8,f);return new _n(_n.Mode.BYTE,b.length,f)}static makeNumeric(b){if(!_n.isNumeric(b))throw new RangeError("String contains non-numeric characters");let f=[];for(let w=0;w<b.length;){const E=Math.min(b.length-w,3);n(parseInt(b.substring(w,w+E),10),E*3+1,f),w+=E}return new _n(_n.Mode.NUMERIC,b.length,f)}static makeAlphanumeric(b){if(!_n.isAlphanumeric(b))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],w;for(w=0;w+2<=b.length;w+=2){let E=_n.ALPHANUMERIC_CHARSET.indexOf(b.charAt(w))*45;E+=_n.ALPHANUMERIC_CHARSET.indexOf(b.charAt(w+1)),n(E,11,f)}return w<b.length&&n(_n.ALPHANUMERIC_CHARSET.indexOf(b.charAt(w)),6,f),new _n(_n.Mode.ALPHANUMERIC,b.length,f)}static makeSegments(b){return b==""?[]:_n.isNumeric(b)?[_n.makeNumeric(b)]:_n.isAlphanumeric(b)?[_n.makeAlphanumeric(b)]:[_n.makeBytes(_n.toUtf8ByteArray(b))]}static makeEci(b){let f=[];if(b<0)throw new RangeError("ECI assignment value out of range");if(b<128)n(b,8,f);else if(b<16384)n(2,2,f),n(b,14,f);else if(b<1e6)n(6,3,f),n(b,21,f);else throw new RangeError("ECI assignment value out of range");return new _n(_n.Mode.ECI,0,f)}static isNumeric(b){return _n.NUMERIC_REGEX.test(b)}static isAlphanumeric(b){return _n.ALPHANUMERIC_REGEX.test(b)}getData(){return this.bitData.slice()}static getTotalBits(b,f){let w=0;for(const E of b){const S=E.mode.numCharCountBits(f);if(E.numChars>=1<<S)return 1/0;w+=4+S+E.bitData.length}return w}static toUtf8ByteArray(b){b=encodeURI(b);let f=[];for(let w=0;w<b.length;w++)b.charAt(w)!="%"?f.push(b.charCodeAt(w)):(f.push(parseInt(b.substring(w+1,w+3),16)),w+=2);return f}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let g=u;t.QrSegment=u})(wo||(wo={}));(t=>{(e=>{const n=class{constructor(l,u){this.ordinal=l,this.formatBits=u}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(wo||(wo={}));(t=>{(e=>{const n=class{constructor(l,u){this.modeBits=l,this.numBitsCharCount=u}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(wo||(wo={}));var xl=wo;var _N={L:xl.QrCode.Ecc.LOW,M:xl.QrCode.Ecc.MEDIUM,Q:xl.QrCode.Ecc.QUARTILE,H:xl.QrCode.Ecc.HIGH},G3=128,q3="L",X3="#FFFFFF",Y3="#000000",W3=!1,Z3=1,EN=4,AN=0,SN=.1;function K3(t,e=0){const n=[];return t.forEach(function(s,l){let u=null;s.forEach(function(g,y){if(!g&&u!==null){n.push(`M${u+e} ${l+e}h${y-u}v1H${u+e}z`),u=null;return}if(y===s.length-1){if(!g)return;u===null?n.push(`M${y+e},${l+e} h1v1H${y+e}z`):n.push(`M${u+e},${l+e} h${y+1-u}v1H${u+e}z`);return}g&&u===null&&(u=y)})}),n.join("")}function Q3(t,e){return t.slice().map((n,s)=>s<e.y||s>=e.y+e.h?n:n.map((l,u)=>u<e.x||u>=e.x+e.w?l:!1))}function CN(t,e,n,s){if(s==null)return null;const l=t.length+n*2,u=Math.floor(e*SN),g=l/e,y=(s.width||u)*g,b=(s.height||u)*g,f=s.x==null?t.length/2-y/2:s.x*g,w=s.y==null?t.length/2-b/2:s.y*g,E=s.opacity==null?1:s.opacity;let S=null;if(s.excavate){let k=Math.floor(f),M=Math.floor(w),j=Math.ceil(y+f-k),F=Math.ceil(b+w-M);S={x:k,y:M,w:j,h:F}}const O=s.crossOrigin;return{x:f,y:w,h:b,w:y,excavation:S,opacity:E,crossOrigin:O}}function NN(t,e){return e!=null?Math.max(Math.floor(e),0):t?EN:AN}function $3({value:t,level:e,minVersion:n,includeMargin:s,marginSize:l,imageSettings:u,size:g,boostLevel:y}){let b=Xn.useMemo(()=>{const k=(Array.isArray(t)?t:[t]).reduce((M,j)=>(M.push(...xl.QrSegment.makeSegments(j)),M),[]);return xl.QrCode.encodeSegments(k,_N[e],n,void 0,void 0,y)},[t,e,n,y]);const{cells:f,margin:w,numCells:E,calculatedImageSettings:S}=Xn.useMemo(()=>{let O=b.getModules();const k=NN(s,l),M=O.length+k*2,j=CN(O,g,k,u);return{cells:O,margin:k,numCells:M,calculatedImageSettings:j}},[b,g,u,s,l]);return{qrcode:b,margin:w,cells:f,numCells:E,calculatedImageSettings:S}}var TN=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),ON=Xn.forwardRef(function(e,n){const s=e,{value:l,size:u=G3,level:g=q3,bgColor:y=X3,fgColor:b=Y3,includeMargin:f=W3,minVersion:w=Z3,boostLevel:E,marginSize:S,imageSettings:O}=s,M=Sg(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:j}=M,F=Sg(M,["style"]),H=O?.src,z=Xn.useRef(null),U=Xn.useRef(null),Y=Xn.useCallback(ke=>{z.current=ke,typeof n=="function"?n(ke):n&&(n.current=ke)},[n]),[$,X]=Xn.useState(!1),{margin:ue,cells:J,numCells:Oe,calculatedImageSettings:Ee}=$3({value:l,level:g,minVersion:w,boostLevel:E,includeMargin:f,marginSize:S,imageSettings:O,size:u});Xn.useEffect(()=>{if(z.current!=null){const ke=z.current,K=ke.getContext("2d");if(!K)return;let Z=J;const oe=U.current,Me=Ee!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;Me&&Ee.excavation!=null&&(Z=Q3(J,Ee.excavation));const Be=window.devicePixelRatio||1;ke.height=ke.width=u*Be;const Le=u/Oe*Be;K.scale(Le,Le),K.fillStyle=y,K.fillRect(0,0,Oe,Oe),K.fillStyle=b,TN?K.fill(new Path2D(K3(Z,ue))):J.forEach(function(G,re){G.forEach(function(se,he){se&&K.fillRect(he+ue,re+ue,1,1)})}),Ee&&(K.globalAlpha=Ee.opacity),Me&&K.drawImage(oe,Ee.x+ue,Ee.y+ue,Ee.w,Ee.h)}}),Xn.useEffect(()=>{X(!1)},[H]);const xe=Ag({height:u,width:u},j);let me=null;return H!=null&&(me=Xn.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{X(!0)},ref:U,crossOrigin:Ee?.crossOrigin})),Xn.createElement(Xn.Fragment,null,Xn.createElement("canvas",Ag({style:xe,height:u,width:u,ref:Y,role:"img"},F)),me)});ON.displayName="QRCodeCanvas";var J3=Xn.forwardRef(function(e,n){const s=e,{value:l,size:u=G3,level:g=q3,bgColor:y=X3,fgColor:b=Y3,includeMargin:f=W3,minVersion:w=Z3,boostLevel:E,title:S,marginSize:O,imageSettings:k}=s,M=Sg(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:j,cells:F,numCells:H,calculatedImageSettings:z}=$3({value:l,level:g,minVersion:w,boostLevel:E,includeMargin:f,marginSize:O,imageSettings:k,size:u});let U=F,Y=null;k!=null&&z!=null&&(z.excavation!=null&&(U=Q3(F,z.excavation)),Y=Xn.createElement("image",{href:k.src,height:z.h,width:z.w,x:z.x+j,y:z.y+j,preserveAspectRatio:"none",opacity:z.opacity,crossOrigin:z.crossOrigin}));const $=K3(U,j);return Xn.createElement("svg",Ag({height:u,width:u,viewBox:`0 0 ${H} ${H}`,ref:n,role:"img"},M),!!S&&Xn.createElement("title",null,S),Xn.createElement("path",{fill:y,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),Xn.createElement("path",{fill:b,d:$,shapeRendering:"crispEdges"}),Y)});J3.displayName="QRCodeSVG";var Wd={},Rc={},Zd={},mb;function or(){if(mb)return Zd;mb=1,Object.defineProperty(Zd,"__esModule",{value:!0});function t(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}var e=function n(s,l){t(this,n),this.data=s,this.text=l.text||s,this.options=l};return Zd.default=e,Zd}var xb;function kN(){if(xb)return Rc;xb=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.CODE39=void 0;var t=(function(){function M(j,F){for(var H=0;H<F.length;H++){var z=F[H];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}return function(j,F,H){return F&&M(j.prototype,F),H&&M(j,H),j}})(),e=or(),n=s(e);function s(M){return M&&M.__esModule?M:{default:M}}function l(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")}function u(M,j){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:M}function g(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(M,j):M.__proto__=j)}var y=(function(M){g(j,M);function j(F,H){return l(this,j),F=F.toUpperCase(),H.mod43&&(F+=S(k(F))),u(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,F,H))}return t(j,[{key:"encode",value:function(){for(var H=w("*"),z=0;z<this.data.length;z++)H+=w(this.data[z])+"0";return H+=w("*"),{data:H,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),j})(n.default),b=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],f=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function w(M){return E(O(M))}function E(M){return f[M].toString(2)}function S(M){return b[M]}function O(M){return b.indexOf(M)}function k(M){for(var j=0,F=0;F<M.length;F++)j+=O(M[F]);return j=j%43,j}return Rc.CODE39=y,Rc}var Br={},Kd={},Qd={},vn={},pb;function _u(){if(pb)return vn;pb=1,Object.defineProperty(vn,"__esModule",{value:!0});var t;function e(b,f,w){return f in b?Object.defineProperty(b,f,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[f]=w,b}var n=vn.SET_A=0,s=vn.SET_B=1,l=vn.SET_C=2;vn.SHIFT=98;var u=vn.START_A=103,g=vn.START_B=104,y=vn.START_C=105;return vn.MODULO=103,vn.STOP=106,vn.FNC1=207,vn.SET_BY_CODE=(t={},e(t,u,n),e(t,g,s),e(t,y,l),t),vn.SWAP={101:n,100:s,99:l},vn.A_START_CHAR="",vn.B_START_CHAR="",vn.C_START_CHAR="",vn.A_CHARS="[\0-_-]",vn.B_CHARS="[ --]",vn.C_CHARS="(*[0-9]{2}*)",vn.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],vn}var bb;function If(){if(bb)return Qd;bb=1,Object.defineProperty(Qd,"__esModule",{value:!0});var t=(function(){function f(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&f(w.prototype,E),S&&f(w,S),w}})(),e=or(),n=l(e),s=_u();function l(f){return f&&f.__esModule?f:{default:f}}function u(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function g(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function y(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var b=(function(f){y(w,f);function w(E,S){u(this,w);var O=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,E.substring(1),S));return O.bytes=E.split("").map(function(k){return k.charCodeAt(0)}),O}return t(w,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var S=this.bytes,O=S.shift()-105,k=s.SET_BY_CODE[O];if(k===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&S.unshift(s.FNC1);var M=w.next(S,1,k);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:w.getBar(O)+M.result+w.getBar((M.checksum+O)%s.MODULO)+w.getBar(s.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var S=this.options.ean128||!1;return typeof S=="string"&&(S=S.toLowerCase()==="true"),S}}],[{key:"getBar",value:function(S){return s.BARS[S]?s.BARS[S].toString():""}},{key:"correctIndex",value:function(S,O){if(O===s.SET_A){var k=S.shift();return k<32?k+64:k-32}else return O===s.SET_B?S.shift()-32:(S.shift()-48)*10+S.shift()-48}},{key:"next",value:function(S,O,k){if(!S.length)return{result:"",checksum:0};var M=void 0,j=void 0;if(S[0]>=200){j=S.shift()-105;var F=s.SWAP[j];F!==void 0?M=w.next(S,O+1,F):((k===s.SET_A||k===s.SET_B)&&j===s.SHIFT&&(S[0]=k===s.SET_A?S[0]>95?S[0]-96:S[0]:S[0]<32?S[0]+96:S[0]),M=w.next(S,O+1,k))}else j=w.correctIndex(S,k),M=w.next(S,O+1,k);var H=w.getBar(j),z=j*O;return{result:H+M.result,checksum:z+M.checksum}}}]),w})(n.default);return Qd.default=b,Qd}var $d={},yb;function MN(){if(yb)return $d;yb=1,Object.defineProperty($d,"__esModule",{value:!0});var t=_u(),e=function(y){return y.match(new RegExp("^"+t.A_CHARS+"*"))[0].length},n=function(y){return y.match(new RegExp("^"+t.B_CHARS+"*"))[0].length},s=function(y){return y.match(new RegExp("^"+t.C_CHARS+"*"))[0]};function l(g,y){var b=y?t.A_CHARS:t.B_CHARS,f=g.match(new RegExp("^("+b+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(f)return f[1]+""+u(g.substring(f[1].length));var w=g.match(new RegExp("^"+b+"+"))[0];return w.length===g.length?g:w+String.fromCharCode(y?205:206)+l(g.substring(w.length),!y)}function u(g){var y=s(g),b=y.length;if(b===g.length)return g;g=g.substring(b);var f=e(g)>=n(g);return y+String.fromCharCode(f?206:205)+l(g,f)}return $d.default=function(g){var y=void 0,b=s(g).length;if(b>=2)y=t.C_START_CHAR+u(g);else{var f=e(g)>n(g);y=(f?t.A_START_CHAR:t.B_START_CHAR)+l(g,f)}return y.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(w,E){return""+E})},$d}var wb;function RN(){if(wb)return Kd;wb=1,Object.defineProperty(Kd,"__esModule",{value:!0});var t=If(),e=l(t),n=MN(),s=l(n);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function g(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function y(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var b=(function(f){y(w,f);function w(E,S){if(u(this,w),/^[\x00-\x7F\xC8-\xD3]+$/.test(E))var O=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,(0,s.default)(E),S));else var O=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,E,S));return g(O)}return w})(e.default);return Kd.default=b,Kd}var Jd={},vb;function DN(){if(vb)return Jd;vb=1,Object.defineProperty(Jd,"__esModule",{value:!0});var t=(function(){function f(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&f(w.prototype,E),S&&f(w,S),w}})(),e=If(),n=l(e),s=_u();function l(f){return f&&f.__esModule?f:{default:f}}function u(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function g(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function y(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var b=(function(f){y(w,f);function w(E,S){return u(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,s.A_START_CHAR+E,S))}return t(w,[{key:"valid",value:function(){return new RegExp("^"+s.A_CHARS+"+$").test(this.data)}}]),w})(n.default);return Jd.default=b,Jd}var e0={},_b;function jN(){if(_b)return e0;_b=1,Object.defineProperty(e0,"__esModule",{value:!0});var t=(function(){function f(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&f(w.prototype,E),S&&f(w,S),w}})(),e=If(),n=l(e),s=_u();function l(f){return f&&f.__esModule?f:{default:f}}function u(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function g(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function y(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var b=(function(f){y(w,f);function w(E,S){return u(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,s.B_START_CHAR+E,S))}return t(w,[{key:"valid",value:function(){return new RegExp("^"+s.B_CHARS+"+$").test(this.data)}}]),w})(n.default);return e0.default=b,e0}var t0={},Eb;function IN(){if(Eb)return t0;Eb=1,Object.defineProperty(t0,"__esModule",{value:!0});var t=(function(){function f(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&f(w.prototype,E),S&&f(w,S),w}})(),e=If(),n=l(e),s=_u();function l(f){return f&&f.__esModule?f:{default:f}}function u(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function g(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function y(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var b=(function(f){y(w,f);function w(E,S){return u(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,s.C_START_CHAR+E,S))}return t(w,[{key:"valid",value:function(){return new RegExp("^"+s.C_CHARS+"+$").test(this.data)}}]),w})(n.default);return t0.default=b,t0}var Ab;function BN(){if(Ab)return Br;Ab=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.CODE128C=Br.CODE128B=Br.CODE128A=Br.CODE128=void 0;var t=RN(),e=b(t),n=DN(),s=b(n),l=jN(),u=b(l),g=IN(),y=b(g);function b(f){return f&&f.__esModule?f:{default:f}}return Br.CODE128=e.default,Br.CODE128A=s.default,Br.CODE128B=u.default,Br.CODE128C=y.default,Br}var vi={},n0={},Os={},Sb;function Eu(){return Sb||(Sb=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.SIDE_BIN="101",Os.MIDDLE_BIN="01010",Os.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Os.EAN2_STRUCTURE=["LL","LG","GL","GG"],Os.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Os.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),Os}var i0={},r0={},Cb;function Au(){if(Cb)return r0;Cb=1,Object.defineProperty(r0,"__esModule",{value:!0});var t=Eu(),e=function(s,l,u){var g=s.split("").map(function(b,f){return t.BINARIES[l[f]]}).map(function(b,f){return b?b[s[f]]:""});if(u){var y=s.length-1;g=g.map(function(b,f){return f<y?b+u:b})}return g.join("")};return r0.default=e,r0}var Nb;function e_(){if(Nb)return i0;Nb=1,Object.defineProperty(i0,"__esModule",{value:!0});var t=(function(){function E(S,O){for(var k=0;k<O.length;k++){var M=O[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,O,k){return O&&E(S.prototype,O),k&&E(S,k),S}})(),e=Eu(),n=Au(),s=g(n),l=or(),u=g(l);function g(E){return E&&E.__esModule?E:{default:E}}function y(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function b(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function f(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var w=(function(E){f(S,E);function S(O,k){y(this,S);var M=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O,k));return M.fontSize=!k.flat&&k.fontSize>k.width*10?k.width*10:k.fontSize,M.guardHeight=k.height+M.fontSize/2+k.textMargin,M}return t(S,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(k,M){return this.text.substr(k,M)}},{key:"leftEncode",value:function(k,M){return(0,s.default)(k,M)}},{key:"rightText",value:function(k,M){return this.text.substr(k,M)}},{key:"rightEncode",value:function(k,M){return(0,s.default)(k,M)}},{key:"encodeGuarded",value:function(){var k={fontSize:this.fontSize},M={height:this.guardHeight};return[{data:e.SIDE_BIN,options:M},{data:this.leftEncode(),text:this.leftText(),options:k},{data:e.MIDDLE_BIN,options:M},{data:this.rightEncode(),text:this.rightText(),options:k},{data:e.SIDE_BIN,options:M}]}},{key:"encodeFlat",value:function(){var k=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:k.join(""),text:this.text}}}]),S})(u.default);return i0.default=w,i0}var Tb;function LN(){if(Tb)return n0;Tb=1,Object.defineProperty(n0,"__esModule",{value:!0});var t=(function(){function E(S,O){for(var k=0;k<O.length;k++){var M=O[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,O,k){return O&&E(S.prototype,O),k&&E(S,k),S}})(),e=function E(S,O,k){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,O);if(M===void 0){var j=Object.getPrototypeOf(S);return j===null?void 0:E(j,O,k)}else{if("value"in M)return M.value;var F=M.get;return F===void 0?void 0:F.call(k)}},n=Eu(),s=e_(),l=u(s);function u(E){return E&&E.__esModule?E:{default:E}}function g(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function y(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function b(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var f=function(S){var O=S.substr(0,12).split("").map(function(k){return+k}).reduce(function(k,M,j){return j%2?k+M*3:k+M},0);return(10-O%10)%10},w=(function(E){b(S,E);function S(O,k){g(this,S),O.search(/^[0-9]{12}$/)!==-1&&(O+=f(O));var M=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O,k));return M.lastChar=k.lastChar,M}return t(S,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===f(this.data)}},{key:"leftText",value:function(){return e(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var k=this.data.substr(1,6),M=n.EAN13_STRUCTURE[this.data[0]];return e(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"leftEncode",this).call(this,k,M)}},{key:"rightText",value:function(){return e(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var k=this.data.substr(7,6);return e(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"rightEncode",this).call(this,k,"RRRRRR")}},{key:"encodeGuarded",value:function(){var k=e(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(k.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(k.push({data:"00"}),k.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),k}}]),S})(l.default);return n0.default=w,n0}var s0={},Ob;function PN(){if(Ob)return s0;Ob=1,Object.defineProperty(s0,"__esModule",{value:!0});var t=(function(){function w(E,S){for(var O=0;O<S.length;O++){var k=S[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,S,O){return S&&w(E.prototype,S),O&&w(E,O),E}})(),e=function w(E,S,O){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,S);if(k===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:w(M,S,O)}else{if("value"in k)return k.value;var j=k.get;return j===void 0?void 0:j.call(O)}},n=e_(),s=l(n);function l(w){return w&&w.__esModule?w:{default:w}}function u(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function g(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function y(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var b=function(E){var S=E.substr(0,7).split("").map(function(O){return+O}).reduce(function(O,k,M){return M%2?O+k:O+k*3},0);return(10-S%10)%10},f=(function(w){y(E,w);function E(S,O){return u(this,E),S.search(/^[0-9]{7}$/)!==-1&&(S+=b(S)),g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,O))}return t(E,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===b(this.data)}},{key:"leftText",value:function(){return e(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var O=this.data.substr(0,4);return e(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"leftEncode",this).call(this,O,"LLLL")}},{key:"rightText",value:function(){return e(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var O=this.data.substr(4,4);return e(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"rightEncode",this).call(this,O,"RRRR")}}]),E})(s.default);return s0.default=f,s0}var a0={},kb;function zN(){if(kb)return a0;kb=1,Object.defineProperty(a0,"__esModule",{value:!0});var t=(function(){function S(O,k){for(var M=0;M<k.length;M++){var j=k[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}return function(O,k,M){return k&&S(O.prototype,k),M&&S(O,M),O}})(),e=Eu(),n=Au(),s=g(n),l=or(),u=g(l);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function b(S,O){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:S}function f(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(S,O):S.__proto__=O)}var w=function(O){var k=O.split("").map(function(M){return+M}).reduce(function(M,j,F){return F%2?M+j*9:M+j*3},0);return k%10},E=(function(S){f(O,S);function O(k,M){return y(this,O),b(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,M))}return t(O,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var M=e.EAN5_STRUCTURE[w(this.data)];return{data:"1011"+(0,s.default)(this.data,M,"01"),text:this.text}}}]),O})(u.default);return a0.default=E,a0}var o0={},Mb;function FN(){if(Mb)return o0;Mb=1,Object.defineProperty(o0,"__esModule",{value:!0});var t=(function(){function E(S,O){for(var k=0;k<O.length;k++){var M=O[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,O,k){return O&&E(S.prototype,O),k&&E(S,k),S}})(),e=Eu(),n=Au(),s=g(n),l=or(),u=g(l);function g(E){return E&&E.__esModule?E:{default:E}}function y(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function b(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function f(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var w=(function(E){f(S,E);function S(O,k){return y(this,S),b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O,k))}return t(S,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var k=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,s.default)(this.data,k,"01"),text:this.text}}}]),S})(u.default);return o0.default=w,o0}var Dc={},Rb;function t_(){if(Rb)return Dc;Rb=1,Object.defineProperty(Dc,"__esModule",{value:!0});var t=(function(){function E(S,O){for(var k=0;k<O.length;k++){var M=O[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,O,k){return O&&E(S.prototype,O),k&&E(S,k),S}})();Dc.checksum=w;var e=Au(),n=u(e),s=or(),l=u(s);function u(E){return E&&E.__esModule?E:{default:E}}function g(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function y(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function b(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var f=(function(E){b(S,E);function S(O,k){g(this,S),O.search(/^[0-9]{11}$/)!==-1&&(O+=w(O));var M=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O,k));return M.displayValue=k.displayValue,k.fontSize>k.width*10?M.fontSize=k.width*10:M.fontSize=k.fontSize,M.guardHeight=k.height+M.fontSize/2+k.textMargin,M}return t(S,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==w(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var k="";return k+="101",k+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),k+="01010",k+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),k+="101",{data:k,text:this.text}}},{key:"guardedEncoding",value:function(){var k=[];return this.displayValue&&k.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),k.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),k.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),k.push({data:"01010",options:{height:this.guardHeight}}),k.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),k.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&k.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),k}}]),S})(l.default);function w(E){var S=0,O;for(O=1;O<11;O+=2)S+=parseInt(E[O]);for(O=0;O<11;O+=2)S+=parseInt(E[O])*3;return(10-S%10)%10}return Dc.default=f,Dc}var l0={},Db;function UN(){if(Db)return l0;Db=1,Object.defineProperty(l0,"__esModule",{value:!0});var t=(function(){function k(M,j){for(var F=0;F<j.length;F++){var H=j[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(M,H.key,H)}}return function(M,j,F){return j&&k(M.prototype,j),F&&k(M,F),M}})(),e=Au(),n=g(e),s=or(),l=g(s),u=t_();function g(k){return k&&k.__esModule?k:{default:k}}function y(k,M){if(!(k instanceof M))throw new TypeError("Cannot call a class as a function")}function b(k,M){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:k}function f(k,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);k.prototype=Object.create(M&&M.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(k,M):k.__proto__=M)}var w=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],E=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],S=(function(k){f(M,k);function M(j,F){y(this,M);var H=b(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,j,F));if(H.isValid=!1,j.search(/^[0-9]{6}$/)!==-1)H.middleDigits=j,H.upcA=O(j,"0"),H.text=F.text||""+H.upcA[0]+j+H.upcA[H.upcA.length-1],H.isValid=!0;else if(j.search(/^[01][0-9]{7}$/)!==-1)if(H.middleDigits=j.substring(1,j.length-1),H.upcA=O(H.middleDigits,j[0]),H.upcA[H.upcA.length-1]===j[j.length-1])H.isValid=!0;else return b(H);else return b(H);return H.displayValue=F.displayValue,F.fontSize>F.width*10?H.fontSize=F.width*10:H.fontSize=F.fontSize,H.guardHeight=F.height+H.fontSize/2+F.textMargin,H}return t(M,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var F="";return F+="101",F+=this.encodeMiddleDigits(),F+="010101",{data:F,text:this.text}}},{key:"guardedEncoding",value:function(){var F=[];return this.displayValue&&F.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),F.push({data:"101",options:{height:this.guardHeight}}),F.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),F.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&F.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),F}},{key:"encodeMiddleDigits",value:function(){var F=this.upcA[0],H=this.upcA[this.upcA.length-1],z=E[parseInt(H)][parseInt(F)];return(0,n.default)(this.middleDigits,z)}}]),M})(l.default);function O(k,M){for(var j=parseInt(k[k.length-1]),F=w[j],H="",z=0,U=0;U<F.length;U++){var Y=F[U];Y==="X"?H+=k[z++]:H+=Y}return H=""+M+H,""+H+(0,u.checksum)(H)}return l0.default=S,l0}var jb;function HN(){if(jb)return vi;jb=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.UPCE=vi.UPC=vi.EAN2=vi.EAN5=vi.EAN8=vi.EAN13=void 0;var t=LN(),e=S(t),n=PN(),s=S(n),l=zN(),u=S(l),g=FN(),y=S(g),b=t_(),f=S(b),w=UN(),E=S(w);function S(O){return O&&O.__esModule?O:{default:O}}return vi.EAN13=e.default,vi.EAN8=s.default,vi.EAN5=u.default,vi.EAN2=y.default,vi.UPC=f.default,vi.UPCE=E.default,vi}var io={},c0={},dl={},Ib;function VN(){return Ib||(Ib=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.START_BIN="1010",dl.END_BIN="11101",dl.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),dl}var Bb;function n_(){if(Bb)return c0;Bb=1,Object.defineProperty(c0,"__esModule",{value:!0});var t=(function(){function f(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&f(w.prototype,E),S&&f(w,S),w}})(),e=VN(),n=or(),s=l(n);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function g(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function y(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var b=(function(f){y(w,f);function w(){return u(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return t(w,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var S=this,O=this.data.match(/.{2}/g).map(function(k){return S.encodePair(k)}).join("");return{data:e.START_BIN+O+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(S){var O=e.BINARIES[S[1]];return e.BINARIES[S[0]].split("").map(function(k,M){return(k==="1"?"111":"1")+(O[M]==="1"?"000":"0")}).join("")}}]),w})(s.default);return c0.default=b,c0}var u0={},Lb;function GN(){if(Lb)return u0;Lb=1,Object.defineProperty(u0,"__esModule",{value:!0});var t=(function(){function f(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&f(w.prototype,E),S&&f(w,S),w}})(),e=n_(),n=s(e);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function u(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function g(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var y=function(w){var E=w.substr(0,13).split("").map(function(S){return parseInt(S,10)}).reduce(function(S,O,k){return S+O*(3-k%2*2)},0);return Math.ceil(E/10)*10-E},b=(function(f){g(w,f);function w(E,S){return l(this,w),E.search(/^[0-9]{13}$/)!==-1&&(E+=y(E)),u(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,E,S))}return t(w,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===y(this.data)}}]),w})(n.default);return u0.default=b,u0}var Pb;function qN(){if(Pb)return io;Pb=1,Object.defineProperty(io,"__esModule",{value:!0}),io.ITF14=io.ITF=void 0;var t=n_(),e=l(t),n=GN(),s=l(n);function l(u){return u&&u.__esModule?u:{default:u}}return io.ITF=e.default,io.ITF14=s.default,io}var er={},d0={},zb;function Su(){if(zb)return d0;zb=1,Object.defineProperty(d0,"__esModule",{value:!0});var t=(function(){function f(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&f(w.prototype,E),S&&f(w,S),w}})(),e=or(),n=s(e);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function u(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function g(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var y=(function(f){g(w,f);function w(E,S){return l(this,w),u(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,E,S))}return t(w,[{key:"encode",value:function(){for(var S="110",O=0;O<this.data.length;O++){var k=parseInt(this.data[O]),M=k.toString(2);M=b(M,4-M.length);for(var j=0;j<M.length;j++)S+=M[j]=="0"?"100":"110"}return S+="1001",{data:S,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),w})(n.default);function b(f,w){for(var E=0;E<w;E++)f="0"+f;return f}return d0.default=y,d0}var f0={},jc={},Fb;function Bf(){if(Fb)return jc;Fb=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.mod10=t,jc.mod11=e;function t(n){for(var s=0,l=0;l<n.length;l++){var u=parseInt(n[l]);(l+n.length)%2===0?s+=u:s+=u*2%10+Math.floor(u*2/10)}return(10-s%10)%10}function e(n){for(var s=0,l=[2,3,4,5,6,7],u=0;u<n.length;u++){var g=parseInt(n[n.length-1-u]);s+=l[u%l.length]*g}return(11-s%11)%11}return jc}var Ub;function XN(){if(Ub)return f0;Ub=1,Object.defineProperty(f0,"__esModule",{value:!0});var t=Su(),e=s(t),n=Bf();function s(b){return b&&b.__esModule?b:{default:b}}function l(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}function u(b,f){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:b}function g(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var y=(function(b){g(f,b);function f(w,E){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,w+(0,n.mod10)(w),E))}return f})(e.default);return f0.default=y,f0}var h0={},Hb;function YN(){if(Hb)return h0;Hb=1,Object.defineProperty(h0,"__esModule",{value:!0});var t=Su(),e=s(t),n=Bf();function s(b){return b&&b.__esModule?b:{default:b}}function l(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}function u(b,f){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:b}function g(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var y=(function(b){g(f,b);function f(w,E){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,w+(0,n.mod11)(w),E))}return f})(e.default);return h0.default=y,h0}var g0={},Vb;function WN(){if(Vb)return g0;Vb=1,Object.defineProperty(g0,"__esModule",{value:!0});var t=Su(),e=s(t),n=Bf();function s(b){return b&&b.__esModule?b:{default:b}}function l(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}function u(b,f){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:b}function g(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var y=(function(b){g(f,b);function f(w,E){return l(this,f),w+=(0,n.mod10)(w),w+=(0,n.mod10)(w),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,w,E))}return f})(e.default);return g0.default=y,g0}var m0={},Gb;function ZN(){if(Gb)return m0;Gb=1,Object.defineProperty(m0,"__esModule",{value:!0});var t=Su(),e=s(t),n=Bf();function s(b){return b&&b.__esModule?b:{default:b}}function l(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}function u(b,f){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:b}function g(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var y=(function(b){g(f,b);function f(w,E){return l(this,f),w+=(0,n.mod11)(w),w+=(0,n.mod10)(w),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,w,E))}return f})(e.default);return m0.default=y,m0}var qb;function KN(){if(qb)return er;qb=1,Object.defineProperty(er,"__esModule",{value:!0}),er.MSI1110=er.MSI1010=er.MSI11=er.MSI10=er.MSI=void 0;var t=Su(),e=w(t),n=XN(),s=w(n),l=YN(),u=w(l),g=WN(),y=w(g),b=ZN(),f=w(b);function w(E){return E&&E.__esModule?E:{default:E}}return er.MSI=e.default,er.MSI10=s.default,er.MSI11=u.default,er.MSI1010=y.default,er.MSI1110=f.default,er}var Ic={},Xb;function QN(){if(Xb)return Ic;Xb=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.pharmacode=void 0;var t=(function(){function b(f,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}return function(f,w,E){return w&&b(f.prototype,w),E&&b(f,E),f}})(),e=or(),n=s(e);function s(b){return b&&b.__esModule?b:{default:b}}function l(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}function u(b,f){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:b}function g(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var y=(function(b){g(f,b);function f(w,E){l(this,f);var S=u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,w,E));return S.number=parseInt(w,10),S}return t(f,[{key:"encode",value:function(){for(var E=this.number,S="";!isNaN(E)&&E!=0;)E%2===0?(S="11100"+S,E=(E-2)/2):(S="100"+S,E=(E-1)/2);return S=S.slice(0,-2),{data:S,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),f})(n.default);return Ic.pharmacode=y,Ic}var Bc={},Yb;function $N(){if(Yb)return Bc;Yb=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.codabar=void 0;var t=(function(){function b(f,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}return function(f,w,E){return w&&b(f.prototype,w),E&&b(f,E),f}})(),e=or(),n=s(e);function s(b){return b&&b.__esModule?b:{default:b}}function l(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}function u(b,f){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:b}function g(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var y=(function(b){g(f,b);function f(w,E){l(this,f),w.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(w="A"+w+"A");var S=u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,w.toUpperCase(),E));return S.text=S.options.text||S.text.replace(/[A-D]/g,""),S}return t(f,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var E=[],S=this.getEncodings(),O=0;O<this.data.length;O++)E.push(S[this.data.charAt(O)]),O!==this.data.length-1&&E.push("0");return{text:this.text,data:E.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),f})(n.default);return Bc.codabar=y,Bc}var ro={},x0={},fl={},Wb;function JN(){return Wb||(Wb=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],fl.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],fl.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),fl}var Zb;function i_(){if(Zb)return x0;Zb=1,Object.defineProperty(x0,"__esModule",{value:!0});var t=(function(){function f(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&f(w.prototype,E),S&&f(w,S),w}})(),e=JN(),n=or(),s=l(n);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function g(f,w){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:f}function y(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(f,w):f.__proto__=w)}var b=(function(f){y(w,f);function w(E,S){return u(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,E,S))}return t(w,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var S=this.data.split("").flatMap(function(j){return e.MULTI_SYMBOLS[j]||j}),O=S.map(function(j){return w.getEncoding(j)}).join(""),k=w.checksum(S,20),M=w.checksum(S.concat(k),15);return{text:this.text,data:w.getEncoding("")+O+w.getEncoding(k)+w.getEncoding(M)+w.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(S){return e.BINARIES[w.symbolValue(S)]}},{key:"getSymbol",value:function(S){return e.SYMBOLS[S]}},{key:"symbolValue",value:function(S){return e.SYMBOLS.indexOf(S)}},{key:"checksum",value:function(S,O){var k=S.slice().reverse().reduce(function(M,j,F){var H=F%O+1;return M+w.symbolValue(j)*H},0);return w.getSymbol(k%47)}}]),w})(s.default);return x0.default=b,x0}var p0={},Kb;function eT(){if(Kb)return p0;Kb=1,Object.defineProperty(p0,"__esModule",{value:!0});var t=(function(){function b(f,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}return function(f,w,E){return w&&b(f.prototype,w),E&&b(f,E),f}})(),e=i_(),n=s(e);function s(b){return b&&b.__esModule?b:{default:b}}function l(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}function u(b,f){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:b}function g(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var y=(function(b){g(f,b);function f(w,E){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,w,E))}return t(f,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),f})(n.default);return p0.default=y,p0}var Qb;function tT(){if(Qb)return ro;Qb=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.CODE93FullASCII=ro.CODE93=void 0;var t=i_(),e=l(t),n=eT(),s=l(n);function l(u){return u&&u.__esModule?u:{default:u}}return ro.CODE93=e.default,ro.CODE93FullASCII=s.default,ro}var Lc={},$b;function nT(){if($b)return Lc;$b=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.GenericBarcode=void 0;var t=(function(){function b(f,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}return function(f,w,E){return w&&b(f.prototype,w),E&&b(f,E),f}})(),e=or(),n=s(e);function s(b){return b&&b.__esModule?b:{default:b}}function l(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}function u(b,f){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:b}function g(b,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}var y=(function(b){g(f,b);function f(w,E){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,w,E))}return t(f,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),f})(n.default);return Lc.GenericBarcode=y,Lc}var Jb;function iT(){if(Jb)return Wd;Jb=1,Object.defineProperty(Wd,"__esModule",{value:!0});var t=kN(),e=BN(),n=HN(),s=qN(),l=KN(),u=QN(),g=$N(),y=tT(),b=nT();return Wd.default={CODE39:t.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:s.ITF14,ITF:s.ITF,MSI:l.MSI,MSI10:l.MSI10,MSI11:l.MSI11,MSI1010:l.MSI1010,MSI1110:l.MSI1110,pharmacode:u.pharmacode,codabar:g.codabar,CODE93:y.CODE93,CODE93FullASCII:y.CODE93FullASCII,GenericBarcode:b.GenericBarcode},Wd}var b0={},ey;function Lf(){if(ey)return b0;ey=1,Object.defineProperty(b0,"__esModule",{value:!0});var t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e};return b0.default=function(e,n){return t({},e,n)},b0}var y0={},ty;function rT(){if(ty)return y0;ty=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.default=t;function t(e){var n=[];function s(l){if(Array.isArray(l))for(var u=0;u<l.length;u++)s(l[u]);else l.text=l.text||"",l.data=l.data||"",n.push(l)}return s(e),n}return y0}var w0={},ny;function sT(){if(ny)return w0;ny=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.default=t;function t(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return w0}var v0={},_0={},E0={},iy;function r_(){if(iy)return E0;iy=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.default=t;function t(e){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var s in n)n.hasOwnProperty(s)&&(s=n[s],typeof e[s]=="string"&&(e[s]=parseInt(e[s],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return E0}var A0={},ry;function s_(){if(ry)return A0;ry=1,Object.defineProperty(A0,"__esModule",{value:!0});var t={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return A0.default=t,A0}var sy;function aT(){if(sy)return _0;sy=1,Object.defineProperty(_0,"__esModule",{value:!0});var t=r_(),e=l(t),n=s_(),s=l(n);function l(g){return g&&g.__esModule?g:{default:g}}function u(g){var y={};for(var b in s.default)s.default.hasOwnProperty(b)&&(g.hasAttribute("jsbarcode-"+b.toLowerCase())&&(y[b]=g.getAttribute("jsbarcode-"+b.toLowerCase())),g.hasAttribute("data-"+b.toLowerCase())&&(y[b]=g.getAttribute("data-"+b.toLowerCase())));return y.value=g.getAttribute("jsbarcode-value")||g.getAttribute("data-value"),y=(0,e.default)(y),y}return _0.default=u,_0}var S0={},C0={},tr={},ay;function a_(){if(ay)return tr;ay=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.getTotalWidthOfEncodings=tr.calculateEncodingAttributes=tr.getBarcodePadding=tr.getEncodingHeight=tr.getMaximumHeightOfEncodings=void 0;var t=Lf(),e=n(t);function n(f){return f&&f.__esModule?f:{default:f}}function s(f,w){return w.height+(w.displayValue&&f.text.length>0?w.fontSize+w.textMargin:0)+w.marginTop+w.marginBottom}function l(f,w,E){if(E.displayValue&&w<f){if(E.textAlign=="center")return Math.floor((f-w)/2);if(E.textAlign=="left")return 0;if(E.textAlign=="right")return Math.floor(f-w)}return 0}function u(f,w,E){for(var S=0;S<f.length;S++){var O=f[S],k=(0,e.default)(w,O.options),M;k.displayValue?M=b(O.text,k,E):M=0;var j=O.data.length*k.width;O.width=Math.ceil(Math.max(M,j)),O.height=s(O,k),O.barcodePadding=l(M,j,k)}}function g(f){for(var w=0,E=0;E<f.length;E++)w+=f[E].width;return w}function y(f){for(var w=0,E=0;E<f.length;E++)f[E].height>w&&(w=f[E].height);return w}function b(f,w,E){var S;if(E)S=E;else if(typeof document<"u")S=document.createElement("canvas").getContext("2d");else return 0;S.font=w.fontOptions+" "+w.fontSize+"px "+w.font;var O=S.measureText(f);if(!O)return 0;var k=O.width;return k}return tr.getMaximumHeightOfEncodings=y,tr.getEncodingHeight=s,tr.getBarcodePadding=l,tr.calculateEncodingAttributes=u,tr.getTotalWidthOfEncodings=g,tr}var oy;function oT(){if(oy)return C0;oy=1,Object.defineProperty(C0,"__esModule",{value:!0});var t=(function(){function y(b,f){for(var w=0;w<f.length;w++){var E=f[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,f,w){return f&&y(b.prototype,f),w&&y(b,w),b}})(),e=Lf(),n=l(e),s=a_();function l(y){return y&&y.__esModule?y:{default:y}}function u(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var g=(function(){function y(b,f,w){u(this,y),this.canvas=b,this.encodings=f,this.options=w}return t(y,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var f=0;f<this.encodings.length;f++){var w=(0,n.default)(this.options,this.encodings[f].options);this.drawCanvasBarcode(w,this.encodings[f]),this.drawCanvasText(w,this.encodings[f]),this.moveCanvasDrawing(this.encodings[f])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var f=this.canvas.getContext("2d");f.save(),(0,s.calculateEncodingAttributes)(this.encodings,this.options,f);var w=(0,s.getTotalWidthOfEncodings)(this.encodings),E=(0,s.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=w+this.options.marginLeft+this.options.marginRight,this.canvas.height=E,f.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(f.fillStyle=this.options.background,f.fillRect(0,0,this.canvas.width,this.canvas.height)),f.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(f,w){var E=this.canvas.getContext("2d"),S=w.data,O;f.textPosition=="top"?O=f.marginTop+f.fontSize+f.textMargin:O=f.marginTop,E.fillStyle=f.lineColor;for(var k=0;k<S.length;k++){var M=k*f.width+w.barcodePadding;S[k]==="1"?E.fillRect(M,O,f.width,f.height):S[k]&&E.fillRect(M,O,f.width,f.height*S[k])}}},{key:"drawCanvasText",value:function(f,w){var E=this.canvas.getContext("2d"),S=f.fontOptions+" "+f.fontSize+"px "+f.font;if(f.displayValue){var O,k;f.textPosition=="top"?k=f.marginTop+f.fontSize-f.textMargin:k=f.height+f.textMargin+f.marginTop+f.fontSize,E.font=S,f.textAlign=="left"||w.barcodePadding>0?(O=0,E.textAlign="left"):f.textAlign=="right"?(O=w.width-1,E.textAlign="right"):(O=w.width/2,E.textAlign="center"),E.fillText(w.text,O,k)}}},{key:"moveCanvasDrawing",value:function(f){var w=this.canvas.getContext("2d");w.translate(f.width,0)}},{key:"restoreCanvas",value:function(){var f=this.canvas.getContext("2d");f.restore()}}]),y})();return C0.default=g,C0}var N0={},ly;function lT(){if(ly)return N0;ly=1,Object.defineProperty(N0,"__esModule",{value:!0});var t=(function(){function b(f,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}return function(f,w,E){return w&&b(f.prototype,w),E&&b(f,E),f}})(),e=Lf(),n=l(e),s=a_();function l(b){return b&&b.__esModule?b:{default:b}}function u(b,f){if(!(b instanceof f))throw new TypeError("Cannot call a class as a function")}var g="http://www.w3.org/2000/svg",y=(function(){function b(f,w,E){u(this,b),this.svg=f,this.encodings=w,this.options=E,this.document=E.xmlDocument||document}return t(b,[{key:"render",value:function(){var w=this.options.marginLeft;this.prepareSVG();for(var E=0;E<this.encodings.length;E++){var S=this.encodings[E],O=(0,n.default)(this.options,S.options),k=this.createGroup(w,O.marginTop,this.svg);this.setGroupOptions(k,O),this.drawSvgBarcode(k,O,S),this.drawSVGText(k,O,S),w+=S.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,s.calculateEncodingAttributes)(this.encodings,this.options);var w=(0,s.getTotalWidthOfEncodings)(this.encodings),E=(0,s.getMaximumHeightOfEncodings)(this.encodings),S=w+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(S,E),this.options.background&&this.drawRect(0,0,S,E,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(w,E,S){var O=S.data,k;E.textPosition=="top"?k=E.fontSize+E.textMargin:k=0;for(var M=0,j=0,F=0;F<O.length;F++)j=F*E.width+S.barcodePadding,O[F]==="1"?M++:M>0&&(this.drawRect(j-E.width*M,k,E.width*M,E.height,w),M=0);M>0&&this.drawRect(j-E.width*(M-1),k,E.width*M,E.height,w)}},{key:"drawSVGText",value:function(w,E,S){var O=this.document.createElementNS(g,"text");if(E.displayValue){var k,M;O.setAttribute("font-family",E.font),O.setAttribute("font-size",E.fontSize),E.fontOptions.includes("bold")&&O.setAttribute("font-weight","bold"),E.fontOptions.includes("italic")&&O.setAttribute("font-style","italic"),E.textPosition=="top"?M=E.fontSize-E.textMargin:M=E.height+E.textMargin+E.fontSize,E.textAlign=="left"||S.barcodePadding>0?(k=0,O.setAttribute("text-anchor","start")):E.textAlign=="right"?(k=S.width-1,O.setAttribute("text-anchor","end")):(k=S.width/2,O.setAttribute("text-anchor","middle")),O.setAttribute("x",k),O.setAttribute("y",M),O.appendChild(this.document.createTextNode(S.text)),w.appendChild(O)}}},{key:"setSvgAttributes",value:function(w,E){var S=this.svg;S.setAttribute("width",w+"px"),S.setAttribute("height",E+"px"),S.setAttribute("x","0px"),S.setAttribute("y","0px"),S.setAttribute("viewBox","0 0 "+w+" "+E),S.setAttribute("xmlns",g),S.setAttribute("version","1.1")}},{key:"createGroup",value:function(w,E,S){var O=this.document.createElementNS(g,"g");return O.setAttribute("transform","translate("+w+", "+E+")"),S.appendChild(O),O}},{key:"setGroupOptions",value:function(w,E){w.setAttribute("fill",E.lineColor)}},{key:"drawRect",value:function(w,E,S,O,k){var M=this.document.createElementNS(g,"rect");return M.setAttribute("x",w),M.setAttribute("y",E),M.setAttribute("width",S),M.setAttribute("height",O),k.appendChild(M),M}}]),b})();return N0.default=y,N0}var T0={},cy;function cT(){if(cy)return T0;cy=1,Object.defineProperty(T0,"__esModule",{value:!0});var t=(function(){function s(l,u){for(var g=0;g<u.length;g++){var y=u[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}return function(l,u,g){return u&&s(l.prototype,u),g&&s(l,g),l}})();function e(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var n=(function(){function s(l,u,g){e(this,s),this.object=l,this.encodings=u,this.options=g}return t(s,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),s})();return T0.default=n,T0}var uy;function uT(){if(uy)return S0;uy=1,Object.defineProperty(S0,"__esModule",{value:!0});var t=oT(),e=g(t),n=lT(),s=g(n),l=cT(),u=g(l);function g(y){return y&&y.__esModule?y:{default:y}}return S0.default={CanvasRenderer:e.default,SVGRenderer:s.default,ObjectRenderer:u.default},S0}var hl={},dy;function o_(){if(dy)return hl;dy=1,Object.defineProperty(hl,"__esModule",{value:!0});function t(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function e(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function n(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var s=(function(g){n(y,g);function y(b,f){t(this,y);var w=e(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return w.name="InvalidInputException",w.symbology=b,w.input=f,w.message='"'+w.input+'" is not a valid input for '+w.symbology,w}return y})(Error),l=(function(g){n(y,g);function y(){t(this,y);var b=e(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return b.name="InvalidElementException",b.message="Not supported type to render on",b}return y})(Error),u=(function(g){n(y,g);function y(){t(this,y);var b=e(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return b.name="NoElementException",b.message="No element to render on.",b}return y})(Error);return hl.InvalidInputException=s,hl.InvalidElementException=l,hl.NoElementException=u,hl}var fy;function dT(){if(fy)return v0;fy=1,Object.defineProperty(v0,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e=aT(),n=g(e),s=uT(),l=g(s),u=o_();function g(w){return w&&w.__esModule?w:{default:w}}function y(w){if(typeof w=="string")return b(w);if(Array.isArray(w)){for(var E=[],S=0;S<w.length;S++)E.push(y(w[S]));return E}else{if(typeof HTMLCanvasElement<"u"&&w instanceof HTMLImageElement)return f(w);if(w&&w.nodeName&&w.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&w instanceof SVGElement)return{element:w,options:(0,n.default)(w),renderer:l.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement)return{element:w,options:(0,n.default)(w),renderer:l.default.CanvasRenderer};if(w&&w.getContext)return{element:w,renderer:l.default.CanvasRenderer};if(w&&(typeof w>"u"?"undefined":t(w))==="object"&&!w.nodeName)return{element:w,renderer:l.default.ObjectRenderer};throw new u.InvalidElementException}}function b(w){var E=document.querySelectorAll(w);if(E.length!==0){for(var S=[],O=0;O<E.length;O++)S.push(y(E[O]));return S}}function f(w){var E=document.createElement("canvas");return{element:E,options:(0,n.default)(w),renderer:l.default.CanvasRenderer,afterRender:function(){w.setAttribute("src",E.toDataURL())}}}return v0.default=y,v0}var O0={},hy;function fT(){if(hy)return O0;hy=1,Object.defineProperty(O0,"__esModule",{value:!0});var t=(function(){function s(l,u){for(var g=0;g<u.length;g++){var y=u[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(l,y.key,y)}}return function(l,u,g){return u&&s(l.prototype,u),g&&s(l,g),l}})();function e(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var n=(function(){function s(l){e(this,s),this.api=l}return t(s,[{key:"handleCatch",value:function(u){if(u.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw u.message;else throw u;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(u){try{var g=u.apply(void 0,arguments);return this.api._options.valid(!0),g}catch(y){return this.handleCatch(y),this.api}}}]),s})();return O0.default=n,O0}var $1,gy;function hT(){if(gy)return $1;gy=1;var t=iT(),e=F(t),n=Lf(),s=F(n),l=rT(),u=F(l),g=sT(),y=F(g),b=dT(),f=F(b),w=r_(),E=F(w),S=fT(),O=F(S),k=o_(),M=s_(),j=F(M);function F(J){return J&&J.__esModule?J:{default:J}}var H=function(){},z=function(Oe,Ee,xe){var me=new H;if(typeof Oe>"u")throw Error("No element to render on was provided.");return me._renderProperties=(0,f.default)(Oe),me._encodings=[],me._options=j.default,me._errorHandler=new O.default(me),typeof Ee<"u"&&(xe=xe||{},xe.format||(xe.format=X()),me.options(xe)[xe.format](Ee,xe).render()),me};z.getModule=function(J){return e.default[J]};for(var U in e.default)e.default.hasOwnProperty(U)&&Y(e.default,U);function Y(J,Oe){H.prototype[Oe]=H.prototype[Oe.toUpperCase()]=H.prototype[Oe.toLowerCase()]=function(Ee,xe){var me=this;return me._errorHandler.wrapBarcodeCall(function(){xe.text=typeof xe.text>"u"?void 0:""+xe.text;var ke=(0,s.default)(me._options,xe);ke=(0,E.default)(ke);var K=J[Oe],Z=$(Ee,K,ke);return me._encodings.push(Z),me})}}function $(J,Oe,Ee){J=""+J;var xe=new Oe(J,Ee);if(!xe.valid())throw new k.InvalidInputException(xe.constructor.name,J);var me=xe.encode();me=(0,u.default)(me);for(var ke=0;ke<me.length;ke++)me[ke].options=(0,s.default)(Ee,me[ke].options);return me}function X(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}H.prototype.options=function(J){return this._options=(0,s.default)(this._options,J),this},H.prototype.blank=function(J){var Oe=new Array(J+1).join("0");return this._encodings.push({data:Oe}),this},H.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var J;for(var Oe in this._renderProperties){J=this._renderProperties[Oe];var Ee=(0,s.default)(this._options,J.options);Ee.format=="auto"&&(Ee.format=X()),this._errorHandler.wrapBarcodeCall(function(){var xe=Ee.value,me=e.default[Ee.format.toUpperCase()],ke=$(xe,me,Ee);ue(J,ke,Ee)})}}},H.prototype.render=function(){if(!this._renderProperties)throw new k.NoElementException;if(Array.isArray(this._renderProperties))for(var J=0;J<this._renderProperties.length;J++)ue(this._renderProperties[J],this._encodings,this._options);else ue(this._renderProperties,this._encodings,this._options);return this},H.prototype._defaults=j.default;function ue(J,Oe,Ee){Oe=(0,u.default)(Oe);for(var xe=0;xe<Oe.length;xe++)Oe[xe].options=(0,s.default)(Ee,Oe[xe].options),(0,y.default)(Oe[xe].options);(0,y.default)(Ee);var me=J.renderer,ke=new me(J.element,Oe,Ee);ke.render(),J.afterRender&&J.afterRender()}return typeof window<"u"&&(window.JsBarcode=z),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(J,Oe){var Ee=[];return jQuery(this).each(function(){Ee.push(this)}),z(Ee,J,Oe)}),$1=z,$1}var J1={exports:{}},eg,my;function gT(){if(my)return eg;my=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return eg=t,eg}var tg,xy;function mT(){if(xy)return tg;xy=1;var t=gT();function e(){}function n(){}return n.resetWarningCache=e,tg=function(){function s(g,y,b,f,w,E){if(E!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function l(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},tg}var py;function xT(){return py||(py=1,J1.exports=mT()()),J1.exports}var ng,by;function pT(){if(by)return ng;by=1;function t(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(H){return typeof H}:t=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},t(j)}var e=l(Ef()),n=l(hT()),s=l(xT());function l(j){return j&&j.__esModule?j:{default:j}}function u(j,F){if(!(j instanceof F))throw new TypeError("Cannot call a class as a function")}function g(j,F){for(var H=0;H<F.length;H++){var z=F[H];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}function y(j,F,H){return F&&g(j.prototype,F),j}function b(j,F){return F&&(t(F)==="object"||typeof F=="function")?F:w(j)}function f(j){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},f(j)}function w(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function E(j,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(F&&F.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),F&&S(j,F)}function S(j,F){return S=Object.setPrototypeOf||function(z,U){return z.__proto__=U,z},S(j,F)}var O,k=e.default.version.split(/[.-]/);k[0]==="0"&&(k[1]==="13"||k[1]==="12")?O=function(F){return F.getDOMNode()}:O=function(F){return F};var M=(function(j){E(F,j);function F(H){var z;return u(this,F),z=b(this,f(F).call(this,H)),z.renderElementRef=e.default.createRef(),z.update=z.update.bind(w(z)),z}return y(F,[{key:"shouldComponentUpdate",value:function(z){var U=this;return Object.keys(F.propTypes).some(function(Y){return U.props[Y]!==z[Y]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var z=O(this.renderElementRef.current);try{new n.default(z,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(U){window.console.error(U)}}},{key:"render",value:function(){var z=this.props,U=z.id,Y=z.className;if(this.props.renderer==="svg")return e.default.createElement("svg",{ref:this.renderElementRef,id:U,className:Y});if(this.props.renderer==="canvas")return e.default.createElement("canvas",{ref:this.renderElementRef,id:U,className:Y});if(this.props.renderer==="img")return e.default.createElement("img",{ref:this.renderElementRef,id:U,className:Y})}}]),F})(e.default.Component);return M.propTypes={value:s.default.string.isRequired,text:s.default.string,renderer:s.default.string,format:s.default.string,width:s.default.number,height:s.default.number,displayValue:s.default.bool,fontOptions:s.default.string,font:s.default.string,textAlign:s.default.string,textPosition:s.default.string,textMargin:s.default.number,fontSize:s.default.number,background:s.default.string,lineColor:s.default.string,margin:s.default.number,marginTop:s.default.number,marginBottom:s.default.number,marginLeft:s.default.number,marginRight:s.default.number,id:s.default.string,className:s.default.string,ean128:s.default.bool},M.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1},ng=M,ng}pT();function bT({book:t,asset:e,onClose:n}){const s=ne.useRef(null),l=e?.asset_code||t?.assets?.[0]?.asset_code||t?.isbn||"NO-CODE";t?.title,t?.author;const u=()=>{const y=s.current;if(!y)return;const b=document.createElement("iframe");b.style.position="fixed",b.style.right="0",b.style.bottom="0",b.style.width="0",b.style.height="0",b.style.border="0",document.body.appendChild(b);const f=b.contentWindow.document;let w="";document.querySelectorAll('style, link[rel="stylesheet"]').forEach(S=>{w+=S.outerHTML}),f.open(),f.write(`
            <!DOCTYPE html>
            <html>
            <head>
                ${w}
                <style>
                    /* Force print styles */
                    @media print {
                        body { 
                            margin: 0; 
                            padding: 0; 
                            -webkit-print-color-adjust: exact; 
                            print-color-adjust: exact;
                        }
                        .print-area { visibility: visible !important; }
                    }
                    /* Hide everything else implicitly since we only write print-area content */
                </style>
            </head>
            <body>
                ${y.outerHTML}
            </body>
            </html>
        `),f.close(),setTimeout(()=>{try{b.contentWindow.focus(),b.contentWindow.print()}catch(S){console.error("Print failed:",S)}finally{setTimeout(()=>{document.body.removeChild(b)},1e3)}},500)},g=(y,b=50)=>y.length<=b?y:y.substring(0,b-3)+"...";return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 no-print",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-[#020463] px-6 py-5 flex items-center justify-between no-print",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:m.jsx(Eg,{className:"text-white",size:22})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white",children:"Print Label"}),m.jsx("p",{className:"text-white/70 text-sm",children:"Spine label with QR & Barcode"})]})]}),m.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition text-white/70 hover:text-white",children:m.jsx(zr,{size:22})})]}),m.jsx("div",{className:"p-6 bg-gray-50 flex justify-center max-h-[60vh] overflow-y-auto",children:m.jsx("div",{ref:s,className:"print-area w-full",children:m.jsx("div",{className:"print-grid grid grid-cols-1 gap-4 w-full",children:(e?[e]:t?.assets?.length>0?t.assets:[{asset_code:t?.isbn||"NO-CODE"}]).map((y,b)=>m.jsx("div",{className:"print-label-container bg-white border-2 border-dashed border-gray-300 rounded-lg mx-auto page-break-avoid",style:{width:"3in",height:"2in",position:"relative",overflow:"hidden"},children:m.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[m.jsx("div",{className:"bg-[#020463] text-white text-[9px] font-bold text-center py-0.5 uppercase tracking-widest leading-none",children:"PCLU LIB"}),m.jsxs("div",{className:"pt-2 px-2 text-center",children:[m.jsx("div",{className:"font-extrabold text-2xl font-sans text-slate-900 leading-none tracking-tight",children:t?.call_number?t.call_number.split(" ")[0]:"REF"}),m.jsx("div",{className:"font-bold text-lg font-sans text-slate-800 leading-tight",children:t?.call_number?t.call_number.split(" ").slice(1).join(" "):"000"})]}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-1",children:[m.jsx("div",{className:"bg-white p-1 rounded-lg border-2 border-slate-900",children:m.jsx(J3,{value:y.asset_code||l,size:80,level:"M",bgColor:"#FFFFFF",fgColor:"#000000"})}),m.jsx("div",{className:"text-[10px] font-mono font-bold mt-1 tracking-widest text-slate-600",children:y.asset_code||l})]}),m.jsxs("div",{className:"px-2 pb-2 text-center",children:[m.jsx("div",{className:"font-bold text-[10px] leading-tight line-clamp-2 text-slate-900 mb-0.5",children:g(t?.title||"Unknown Title",40).toUpperCase()}),m.jsx("div",{className:"text-[9px] text-slate-500 truncate leading-none",children:t?.author?t.author.split(",")[0]:"Unknown"})]})]})},b))})})}),m.jsx("div",{className:"px-6 pb-4 text-center no-print",children:m.jsx("p",{className:"text-sm text-gray-500",children:'Label size: 2"  3" (sticky spine label)'})}),m.jsxs("div",{className:"p-4 border-t bg-gray-50 flex gap-3 no-print",children:[m.jsxs("button",{onClick:u,className:"flex-1 bg-[#020463] text-white py-3 rounded-xl hover:bg-[#1a1c7a] transition font-bold flex items-center justify-center gap-2 shadow-lg",children:[m.jsx(Eg,{size:18})," Print Label"]}),m.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl hover:bg-gray-300 transition font-bold",children:"Close"})]})]})})}const yy={Fiction:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",badge:"bg-purple-100 text-purple-700 border-purple-200",icon:"text-purple-500"},Technology:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",badge:"bg-blue-100 text-blue-700 border-blue-200",icon:"text-blue-500"},Science:{bg:"bg-emerald-50",border:"border-emerald-200",text:"text-emerald-700",badge:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:"text-emerald-500"},History:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-700 border-amber-200",icon:"text-amber-500"},Education:{bg:"bg-rose-50",border:"border-rose-200",text:"text-rose-700",badge:"bg-rose-100 text-rose-700 border-rose-200",icon:"text-rose-500"},Literature:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-700",badge:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:"text-indigo-500"},Reference:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",badge:"bg-gray-100 text-gray-700 border-gray-200",icon:"text-gray-500"},Business:{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100 text-teal-700 border-teal-200",icon:"text-teal-500"},Arts:{bg:"bg-pink-50",border:"border-pink-200",text:"text-pink-700",badge:"bg-pink-100 text-pink-700 border-pink-200",icon:"text-pink-500"},Religion:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",badge:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:"text-yellow-500"},Philosophy:{bg:"bg-violet-50",border:"border-violet-200",text:"text-violet-700",badge:"bg-violet-100 text-violet-700 border-violet-200",icon:"text-violet-500"},Law:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",badge:"bg-red-100 text-red-700 border-red-200",icon:"text-red-500"},Medicine:{bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-700",badge:"bg-cyan-100 text-cyan-700 border-cyan-200",icon:"text-cyan-500"},Engineering:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700",badge:"bg-orange-100 text-orange-700 border-orange-200",icon:"text-orange-500"},Maritime:{bg:"bg-sky-50",border:"border-sky-200",text:"text-sky-700",badge:"bg-sky-100 text-sky-700 border-sky-200",icon:"text-sky-500"},Hospitality:{bg:"bg-fuchsia-50",border:"border-fuchsia-200",text:"text-fuchsia-700",badge:"bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200",icon:"text-fuchsia-500"},Criminology:{bg:"bg-stone-50",border:"border-stone-200",text:"text-stone-700",badge:"bg-stone-100 text-stone-700 border-stone-200",icon:"text-stone-500"},default:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-700",badge:"bg-slate-100 text-slate-700 border-slate-200",icon:"text-slate-500"}},wy=t=>yy[t]||yy.default;function yT({pendingBarcode:t="",onClearPendingBarcode:e}){const n=Pl(),[s,l]=ne.useState([]),[u,g]=ne.useState(!1),[y,b]=ne.useState(!1),[f,w]=ne.useState(null),[E,S]=ne.useState(""),[O,k]=ne.useState(null),[M,j]=ne.useState(null),[F,H]=ne.useState(""),[z,U]=ne.useState("all"),[Y,$]=ne.useState(null),[X,ue]=ne.useState({});ne.useEffect(()=>{J();const G=setInterval(()=>{J(!0)},5e3);return()=>clearInterval(G)},[]),ne.useEffect(()=>{t&&(S(t),w(null),b(!0),e&&e())},[t,e]);const J=(G=!1)=>{G||g(!0),tt.get("/books").then(({data:re})=>{l(re),G||g(!1)}).catch(()=>{G||g(!1)})},Oe=G=>{Er.fire({title:"Delete Book?",text:`Are you sure you want to delete "${G.title}"? This cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#020463",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(re=>{re.isConfirmed&&tt.delete(`/books/${G.id}`).then(()=>{n.success("The book has been removed."),J()}).catch(se=>{n.error(se.response?.data?.message||"Failed to delete book.")})})},Ee=G=>{w(G),b(!0)},xe=()=>{w(null),b(!0)},me=ne.useMemo(()=>s.filter(G=>{const re=F.toLowerCase(),se=G.title.toLowerCase().includes(re)||G.author.toLowerCase().includes(re)||G.isbn&&G.isbn.toLowerCase().includes(re)||G.category.toLowerCase().includes(re);return z==="available"?se&&G.available_copies>0:z==="borrowed"?se&&G.available_copies===0:se}),[s,F,z]),ke=ne.useMemo(()=>{const G={};return me.forEach(re=>{const se=re.category||"Uncategorized";G[se]||(G[se]=[]),G[se].push(re)}),Object.keys(G).sort().reduce((re,se)=>(re[se]=G[se],re),{})},[me]),K=ne.useMemo(()=>Object.entries(ke).map(([G,re])=>({category:G,totalBooks:re.length,available:re.filter(se=>se.available_copies>0).length,borrowed:re.filter(se=>se.available_copies===0).length})),[ke]),Z=G=>{ue(re=>({...re,[G]:!re[G]}))},oe=()=>ue({}),Me=()=>{const G={};Object.keys(ke).forEach(re=>G[re]=!0),ue(G)},Be=G=>G>0?{className:"bg-green-100 text-green-700 border border-green-200",text:`${G} Available`}:{className:"bg-amber-100 text-amber-700 border border-amber-200",text:"All Borrowed"},Le=({category:G,categoryBooks:re})=>{const se=X[G],he=wy(G),je=re.filter(Ue=>Ue.available_copies>0).length,Se=re.reduce((Ue,Ye)=>Ue+(Ye.available_copies||0),0);return m.jsxs("div",{className:`mb-4 rounded-xl overflow-hidden border-2 ${he.border} transition-all duration-200`,children:[m.jsxs("button",{onClick:()=>Z(G),className:`w-full ${he.bg} dark:bg-slate-800 px-4 py-3 flex items-center justify-between hover:brightness-95 dark:hover:bg-slate-700 transition-all`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${he.bg} border ${he.border}`,children:se?m.jsx(Ll,{size:20,className:he.icon}):m.jsx(yl,{size:20,className:he.icon})}),m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:`font-bold text-lg ${he.text} dark:text-slate-200`,children:G}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[re.length," title",re.length!==1?"s":""," ",je," available  ",Se," total copies"]})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${he.badge}`,children:[re.length," Books"]})})]}),!se&&m.jsx("div",{className:"overflow-x-auto bg-white dark:bg-slate-800",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-300 uppercase text-xs font-bold tracking-wider",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600",children:"Title"}),m.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600",children:"Author"}),m.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600",children:"Publisher"}),m.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600",children:"Call No."}),m.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600 text-center",children:"Status"}),m.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600 text-right",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700",children:re.map(Ue=>{const Ye=Be(Ue.available_copies);return m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition group",children:[m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[Ue.image_path?m.jsx("img",{src:`${tm}/${Ue.image_path}`,alt:Ue.title,className:"w-10 h-14 object-cover rounded shadow-sm"}):m.jsx("div",{className:"w-10 h-14 bg-gray-100 dark:bg-slate-700 rounded flex items-center justify-center",children:m.jsx(gn,{size:16,className:"text-gray-400 dark:text-gray-500"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:Ue.title}),Ue.isbn&&m.jsx("p",{className:"text-xs text-slate-400 font-mono",children:Ue.isbn})]})]})}),m.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-300",children:Ue.author}),m.jsx("td",{className:"p-4 text-slate-500 dark:text-slate-400 text-sm",children:Ue.publisher||"-"}),m.jsx("td",{className:"p-4 font-mono text-xs text-slate-500 dark:text-slate-400",children:Ue.call_number||"-"}),m.jsx("td",{className:"p-4 text-center",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Ye.className}`,children:Ye.text})}),m.jsx("td",{className:"p-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1",children:[m.jsxs("button",{onClick:()=>j(Ue),className:"text-xs bg-[#020463] text-white px-3 py-1.5 rounded-lg hover:bg-[#1a1c7a] transition mr-1 font-medium flex items-center gap-1",title:"Print Label",children:[m.jsx(Eg,{size:12})," Label"]}),m.jsx("button",{onClick:()=>k(Ue),className:"text-xs bg-emerald-50 text-emerald-700 border border-emerald-200 px-3 py-1.5 rounded-lg hover:bg-emerald-100 transition mr-1 font-medium",children:"+ Copy"}),m.jsx("button",{onClick:()=>Ee(Ue),className:"text-slate-400 hover:text-[#020463] dark:hover:text-blue-400 p-2 rounded hover:bg-blue-50 dark:hover:bg-slate-700 transition",title:"Edit",children:m.jsx(Y6,{size:16})}),m.jsx("button",{onClick:()=>Oe(Ue),className:"text-slate-400 hover:text-[#020463] dark:hover:text-red-400 p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-700 transition",title:"Delete",children:m.jsx(L3,{size:16})})]})})]},Ue.id)})})]})})]})};return m.jsxs("div",{className:"space-y-6 bg-gray-50 dark:bg-slate-900 p-8 min-h-screen transition-colors duration-300",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-primary-600 rounded-xl shadow-lg",children:m.jsx(gn,{size:28,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Book Inventory"}),m.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:["Organized by category  ",me.length," books total"]})]})]}),m.jsx(Fi,{onClick:xe,icon:A3,children:"Add New Title"})]}),K.length>0&&!F&&m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:K.map(({category:G,totalBooks:re,available:se})=>{const he=wy(G);return m.jsxs("button",{onClick:()=>{ue(je=>({...je,[G]:!1}))},className:`${he.bg} dark:bg-slate-800 ${he.border} dark:border-slate-700 border-2 rounded-2xl p-4 text-left hover:brightness-95 dark:hover:bg-slate-700 transition-all duration-200 hover:shadow-lg`,children:[m.jsx("div",{className:`text-xs font-bold ${he.text} dark:text-slate-200 uppercase tracking-wide mb-2`,children:G}),m.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:re}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[se," available"]})]},G)})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2 block",children:"Search Books"}),m.jsxs("div",{className:"relative",children:[m.jsx(Nl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-primary-400",size:18}),m.jsx("input",{type:"text",placeholder:"Search by Title, Author, ISBN, Category...",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 dark:border-slate-600 rounded-xl focus:ring-4 focus:ring-primary-100 dark:focus:ring-primary-900 focus:border-primary-600 outline-none text-sm transition-all bg-gray-50 dark:bg-slate-900 dark:text-white hover:bg-white dark:hover:bg-slate-800",value:F,onChange:G=>H(G.target.value)})]})]}),m.jsx("div",{className:"w-full md:w-56",children:m.jsxs(Na,{label:"Status Filter",value:z,onChange:G=>U(G.target.value),children:[m.jsx("option",{value:"all",children:"Show All"}),m.jsx("option",{value:"available",children:"Available"}),m.jsx("option",{value:"borrowed",children:"Borrowed"})]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-3 text-sm font-bold text-gray-600 dark:text-slate-300 bg-gray-100 dark:bg-slate-700 rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-all",title:"Expand All Categories",children:[m.jsx(R3,{size:16})," Expand"]}),m.jsxs("button",{onClick:Me,className:"flex items-center gap-2 px-4 py-3 text-sm font-bold text-gray-600 dark:text-slate-300 bg-gray-100 dark:bg-slate-700 rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-all",title:"Collapse All Categories",children:[m.jsx(D3,{size:16})," Collapse"]})]})]})}),u?m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-12 text-center text-gray-400 dark:text-slate-500 border border-gray-100 dark:border-slate-700",children:[m.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600 mx-auto mb-4"}),m.jsx("p",{children:"Loading inventory..."})]}):Object.keys(ke).length===0?m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-12 text-center text-gray-400 dark:text-slate-500 border border-gray-100 dark:border-slate-700",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx(q5,{size:40,strokeWidth:1.5}),m.jsx("p",{className:"text-lg font-medium",children:F?`No books found matching "${F}"`:"No books in inventory"}),m.jsx("p",{className:"text-sm",children:"Add new books using the button above"})]})}):m.jsx("div",{className:"space-y-4",children:Object.entries(ke).map(([G,re])=>m.jsx(Le,{category:G,categoryBooks:re},G))}),y&&m.jsx(yN,{bookToEdit:f,prefillBarcode:E,onClose:()=>{b(!1),S("")},onSuccess:G=>{J(),G&&G.id&&j(G)}}),O&&m.jsx(wN,{book:O,onClose:()=>k(null),onSuccess:J}),M&&m.jsx(bT,{book:M,onClose:()=>j(null)})]})}function wT({transaction:t,onClose:e,onSuccess:n}){const[s,l]=ne.useState(!1),[u,g]=ne.useState(null),y=()=>{l(!0),g(null),tt.post(`/transactions/${t.id}/pay`).then(({data:f})=>{l(!1),n(f.message),e()}).catch(f=>{l(!1),g(f.response?.data?.message||"Failed to process payment")})},b=()=>{l(!0),g(null),tt.post(`/transactions/${t.id}/waive`).then(({data:f})=>{l(!1),n(f.message),e()}).catch(f=>{l(!1),g(f.response?.data?.message||"Failed to waive fine")})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 overflow-hidden",children:[m.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 p-4 text-white",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(nu,{size:24})," Late Return - Payment Due"]}),m.jsx("button",{onClick:e,className:"hover:bg-white/20 rounded p-1 transition",children:m.jsx(zr,{size:20})})]})}),m.jsxs("div",{className:"p-6",children:[m.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:m.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Student"}),m.jsx("p",{className:"font-bold",children:t.user?.name||"Unknown"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Student ID"}),m.jsx("p",{className:"font-mono",children:t.user?.student_id||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Book"}),m.jsx("p",{className:"font-bold",children:t.book_asset?.book_title?.title||"Unknown"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Asset Code"}),m.jsx("p",{className:"font-mono text-xs",children:t.book_asset?.asset_code||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Due Date"}),m.jsx("p",{className:"text-red-600",children:new Date(t.due_date).toLocaleDateString()})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Returned"}),m.jsx("p",{children:new Date(t.returned_at).toLocaleDateString()})]})]})}),m.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-yellow-400 rounded-lg bg-yellow-50 mb-4",children:[m.jsx("p",{className:"text-gray-600 text-sm",children:"Amount Due"}),m.jsxs("p",{className:"text-4xl font-bold text-yellow-600",children:["",parseFloat(t.penalty_amount).toFixed(2)]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Rate: 5.00 per day late"})]}),u&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4 text-sm",children:u}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{onClick:y,disabled:s,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition flex items-center justify-center gap-2 disabled:opacity-50",children:[m.jsx(eu,{size:18}),s?"Processing...":"Mark as Paid"]}),m.jsxs("button",{onClick:b,disabled:s,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-200 transition flex items-center justify-center gap-2 disabled:opacity-50",children:[m.jsx(S3,{size:18}),"Waive Fine"]})]}),m.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:'Click "Mark as Paid" after receiving payment from the student.'})]})]})})}function vT({book:t,onBorrow:e,onReturn:n,onAddCopy:s,onClose:l}){if(!t||!t.found)return null;const u=t.status==="available",g=t.status==="borrowed",y=t.needs_physical_copy||t.status==="no_copies",f=(()=>{const S=t.image_path||t.cover_image;return S?S.startsWith("http")||S.startsWith("http")?S:`${tm}/${S}`:null})(),w=()=>y?"bg-gradient-to-r from-blue-600 to-cyan-600":u?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-amber-500 to-orange-500",E=()=>y?"Book Registered - No Copies":u?"Available for Borrowing":"Currently Borrowed";return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:l,children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",onClick:S=>S.stopPropagation(),children:[m.jsx("div",{className:`p-4 ${w()} text-white`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[y?m.jsx(A6,{size:24}):m.jsx(gn,{size:24}),m.jsx("span",{className:"font-bold text-lg",children:E()})]}),m.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-mono",children:t.asset_code||t.isbn||"N/A"})]})}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"w-24 h-32 flex-shrink-0 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg overflow-hidden shadow-md",children:[f?m.jsx("img",{src:f,alt:t.title,className:"w-full h-full object-cover",onError:S=>{S.target.onerror=null,S.target.style.display="none",S.target.parentElement.querySelector(".fallback-icon").style.display="flex"}}):null,m.jsx("div",{className:`fallback-icon w-full h-full flex items-center justify-center ${f?"hidden":"flex"}`,children:m.jsx(gn,{size:32,className:"text-gray-400"})})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 line-clamp-2",children:t.title}),m.jsxs("p",{className:"text-slate-500 mt-1",children:["by ",t.author]}),(t.publisher||t.published_year)&&m.jsxs("div",{className:"mt-2 space-y-1 text-sm text-slate-400",children:[t.publisher&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(jf,{size:14}),m.jsx("span",{className:"truncate",children:t.publisher})]}),t.published_year&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Jc,{size:14}),m.jsx("span",{children:t.published_year})]})]})]})]}),y&&m.jsx("div",{className:"p-4 rounded-xl border-2 bg-blue-50 border-blue-200",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm",children:m.jsx(iu,{size:20,className:"text-blue-600"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-blue-800",children:"Physical Copy Required"}),m.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"This book is registered in the system but doesn't have any physical copies yet. Please add a physical copy before it can be borrowed."})]})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[m.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[m.jsx("div",{className:"text-slate-400 text-xs uppercase font-bold mb-1",children:"Category"}),m.jsx("div",{className:"text-slate-700 font-medium",children:t.category})]}),m.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[m.jsx("div",{className:"text-slate-400 text-xs uppercase font-bold mb-1",children:"Location"}),m.jsxs("div",{className:"text-slate-700 font-medium flex items-center gap-1",children:[m.jsx(Cl,{size:14})," ",t.location||"N/A"]})]}),t.call_number&&m.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[m.jsx("div",{className:"text-slate-400 text-xs uppercase font-bold mb-1",children:"Call Number"}),m.jsx("div",{className:"text-slate-700 font-medium font-mono",children:t.call_number})]}),t.language&&m.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[m.jsx("div",{className:"text-slate-400 text-xs uppercase font-bold mb-1",children:"Language"}),m.jsxs("div",{className:"text-slate-700 font-medium flex items-center gap-1",children:[m.jsx(Y5,{size:14})," ",t.language]})]})]}),t.description&&m.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[m.jsx("div",{className:"text-slate-400 text-xs uppercase font-bold mb-1",children:"Description"}),m.jsx("div",{className:"text-slate-600 text-sm line-clamp-3",children:t.description})]}),g&&t.borrower&&m.jsx("div",{className:`p-4 rounded-xl border-2 ${t.is_overdue?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm",children:m.jsx(Lr,{size:20,className:t.is_overdue?"text-red-500":"text-amber-600"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-slate-800",children:t.borrower.name}),m.jsxs("div",{className:"text-sm text-slate-500",children:[t.borrower.student_id,"  ",t.borrower.course]}),m.jsxs("div",{className:`flex items-center gap-2 mt-2 text-sm ${t.is_overdue?"text-red-600 font-bold":"text-slate-600"}`,children:[m.jsx(Jc,{size:14}),"Due: ",t.due_date?new Date(t.due_date).toLocaleDateString():"N/A",t.is_overdue&&m.jsxs("span",{className:"flex items-center gap-1 bg-red-100 px-2 py-0.5 rounded text-xs",children:[m.jsx(iu,{size:12})," OVERDUE"]})]})]})]})})]}),m.jsxs("div",{className:"p-4 bg-slate-50 border-t flex gap-3",children:[m.jsx("button",{onClick:l,className:"flex-1 py-3 px-4 border border-slate-300 rounded-xl text-slate-600 font-medium hover:bg-slate-100 transition",children:"Cancel"}),y&&s&&m.jsxs("button",{onClick:()=>s(t),className:"flex-1 py-3 px-4 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl font-bold hover:from-emerald-600 hover:to-teal-600 transition flex items-center justify-center gap-2",children:[m.jsx(A3,{size:18})," Add Physical Copy"]}),u&&!y&&m.jsxs("button",{onClick:()=>e(t.asset_code),className:"flex-1 py-3 px-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-bold hover:from-green-600 hover:to-emerald-600 transition flex items-center justify-center gap-2",children:[m.jsx(s5,{size:18})," Borrow This Book"]}),g&&m.jsxs("button",{onClick:()=>n(t.asset_code),className:"flex-1 py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:from-amber-600 hover:to-orange-600 transition flex items-center justify-center gap-2",children:[m.jsx(nm,{size:18})," Return This Book"]})]})]})})}function _T({scannedCode:t,onRegister:e,onClose:n}){return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:n,children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",onClick:s=>s.stopPropagation(),children:[m.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-6 text-white text-center",children:[m.jsx("div",{className:"bg-white/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(iu,{size:32})}),m.jsx("h2",{className:"text-2xl font-bold",children:"Book Not Found"}),m.jsx("p",{className:"text-white/80 mt-1",children:"This book is not registered in the system"})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx("div",{className:"bg-slate-50 p-4 rounded-xl border-2 border-dashed border-slate-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-slate-200 p-2 rounded-lg",children:m.jsx(im,{size:24,className:"text-slate-600"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold",children:"Scanned Barcode"}),m.jsx("div",{className:"text-lg font-mono font-bold text-slate-800",children:t})]})]})}),m.jsx("p",{className:"text-slate-600 text-sm text-center",children:"Would you like to add this book to the library inventory?"})]}),m.jsxs("div",{className:"p-4 bg-slate-50 border-t flex gap-3",children:[m.jsxs("button",{onClick:n,className:"flex-1 py-3 px-4 border border-slate-300 rounded-xl text-slate-600 font-medium hover:bg-slate-100 transition flex items-center justify-center gap-2",children:[m.jsx(zr,{size:18}),"Cancel"]}),m.jsxs("button",{onClick:()=>e(t),className:"flex-1 py-3 px-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-bold hover:from-green-600 hover:to-emerald-600 transition flex items-center justify-center gap-2 shadow-lg shadow-green-500/25",children:[m.jsx(y3,{size:18}),"Register This Book"]})]})]})})}var Ve;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var vy=new Map([[Ve.QR_CODE,"QR_CODE"],[Ve.AZTEC,"AZTEC"],[Ve.CODABAR,"CODABAR"],[Ve.CODE_39,"CODE_39"],[Ve.CODE_93,"CODE_93"],[Ve.CODE_128,"CODE_128"],[Ve.DATA_MATRIX,"DATA_MATRIX"],[Ve.MAXICODE,"MAXICODE"],[Ve.ITF,"ITF"],[Ve.EAN_13,"EAN_13"],[Ve.EAN_8,"EAN_8"],[Ve.PDF_417,"PDF_417"],[Ve.RSS_14,"RSS_14"],[Ve.RSS_EXPANDED,"RSS_EXPANDED"],[Ve.UPC_A,"UPC_A"],[Ve.UPC_E,"UPC_E"],[Ve.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),_y;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(_y||(_y={}));function ET(t){return Object.values(Ve).includes(t)}var hf;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(hf||(hf={}));var AT=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[hf.SCAN_TYPE_CAMERA,hf.SCAN_TYPE_FILE],t})(),l_=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!vy.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,vy.get(e))},t})(),Ey=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),Cg;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Cg||(Cg={}));var ST=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Cg.UNKWOWN_ERROR}},t})(),CT=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Ms(t){return typeof t>"u"||t===null}var pl=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),c_=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var s=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(l),g=Object.keys(e),y=0,b=g;y<b.length;y++){var f=b[y];if(u.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},t})(),Gc={exports:{}},NT=Gc.exports,Ay;function TT(){return Ay||(Ay=1,(function(t,e){(function(n,s){s(e)})(NT,(function(n){function s(I){return I==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,r){I.__proto__=r}||function(I,r){for(var o in r)r.hasOwnProperty(o)&&(I[o]=r[o])};function u(I,r){l(I,r);function o(){this.constructor=I}I.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function g(I,r){var o=Object.setPrototypeOf;o?o(I,r):I.__proto__=r}function y(I,r){r===void 0&&(r=I.constructor);var o=Error.captureStackTrace;o&&o(I,r)}var b=(function(I){u(r,I);function r(o){var c=this.constructor,h=I.call(this,o)||this;return Object.defineProperty(h,"name",{value:c.name,enumerable:!1}),g(h,c.prototype),y(h),h}return r})(Error);class f extends b{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}f.kind="Exception";class w extends f{}w.kind="ArgumentException";class E extends f{}E.kind="IllegalArgumentException";class S{constructor(r){if(this.binarizer=r,r===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,o){return this.binarizer.getBlackRow(r,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,o,c,h){const x=this.binarizer.getLuminanceSource().crop(r,o,c,h);return new S(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends f{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class k{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(r,o,c,h,x){for(;x--;)c[h++]=r[o++]}static currentTimeMillis(){return Date.now()}}class j extends f{}j.kind="IndexOutOfBoundsException";class F extends j{constructor(r=void 0,o=void 0){super(o),this.index=r,this.message=o}}F.kind="ArrayIndexOutOfBoundsException";class H{static fill(r,o){for(let c=0,h=r.length;c<h;c++)r[c]=o}static fillWithin(r,o,c,h){H.rangeCheck(r.length,o,c);for(let x=o;x<c;x++)r[x]=h}static rangeCheck(r,o,c){if(o>c)throw new E("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new F(o);if(c>r)throw new F(c)}static asList(...r){return r}static create(r,o,c){return Array.from({length:r}).map(x=>Array.from({length:o}).fill(c))}static createInt32Array(r,o,c){return Array.from({length:r}).map(x=>Int32Array.from({length:o}).fill(c))}static equals(r,o){if(!r||!o||!r.length||!o.length||r.length!==o.length)return!1;for(let c=0,h=r.length;c<h;c++)if(r[c]!==o[c])return!1;return!0}static hashCode(r){if(r===null)return 0;let o=1;for(const c of r)o=31*o+c;return o}static fillUint8Array(r,o){for(let c=0;c!==r.length;c++)r[c]=o}static copyOf(r,o){return r.slice(0,o)}static copyOfUint8Array(r,o){if(r.length<=o){const c=new Uint8Array(o);return c.set(r),c}return r.slice(0,o)}static copyOfRange(r,o,c){const h=c-o,x=new Int32Array(h);return M.arraycopy(r,o,x,0,h),x}static binarySearch(r,o,c){c===void 0&&(c=H.numberComparator);let h=0,x=r.length-1;for(;h<=x;){const v=x+h>>1,_=c(o,r[v]);if(_>0)h=v+1;else if(_<0)x=v-1;else return v}return-h-1}static numberComparator(r,o){return r-o}}class z{static numberOfTrailingZeros(r){let o;if(r===0)return 32;let c=31;return o=r<<16,o!==0&&(c-=16,r=o),o=r<<8,o!==0&&(c-=8,r=o),o=r<<4,o!==0&&(c-=4,r=o),o=r<<2,o!==0&&(c-=2,r=o),c-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let o=1;return r>>>16||(o+=16,r<<=16),r>>>24||(o+=8,r<<=8),r>>>28||(o+=4,r<<=4),r>>>30||(o+=2,r<<=2),o-=r>>>31,o}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,o){return Math.trunc(r/o)}static parseInt(r,o=void 0){return parseInt(r,o)}}z.MIN_VALUE_32_BITS=-2147483648,z.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(r,o){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,o==null?this.bits=U.makeArray(r):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const o=U.makeArray(r);M.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const o=this.size;if(r>=o)return o;const c=this.bits;let h=Math.floor(r/32),x=c[h];x&=~((1<<(r&31))-1);const v=c.length;for(;x===0;){if(++h===v)return o;x=c[h]}const _=h*32+z.numberOfTrailingZeros(x);return _>o?o:_}getNextUnset(r){const o=this.size;if(r>=o)return o;const c=this.bits;let h=Math.floor(r/32),x=~c[h];x&=~((1<<(r&31))-1);const v=c.length;for(;x===0;){if(++h===v)return o;x=~c[h]}const _=h*32+z.numberOfTrailingZeros(x);return _>o?o:_}setBulk(r,o){this.bits[Math.floor(r/32)]=o}setRange(r,o){if(o<r||r<0||o>this.size)throw new E;if(o===r)return;o--;const c=Math.floor(r/32),h=Math.floor(o/32),x=this.bits;for(let v=c;v<=h;v++){const _=v>c?0:r&31,T=(2<<(v<h?31:o&31))-(1<<_);x[v]|=T}}clear(){const r=this.bits.length,o=this.bits;for(let c=0;c<r;c++)o[c]=0}isRange(r,o,c){if(o<r||r<0||o>this.size)throw new E;if(o===r)return!0;o--;const h=Math.floor(r/32),x=Math.floor(o/32),v=this.bits;for(let _=h;_<=x;_++){const C=_>h?0:r&31,R=(2<<(_<x?31:o&31))-(1<<C)&4294967295;if((v[_]&R)!==(c?R:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((r>>c-1&1)===1)}appendBitArray(r){const o=r.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(r.get(c))}xor(r){if(this.size!==r.size)throw new E("Sizes don't match");const o=this.bits;for(let c=0,h=o.length;c<h;c++)o[c]^=r.bits[c]}toBytes(r,o,c,h){for(let x=0;x<h;x++){let v=0;for(let _=0;_<8;_++)this.get(r)&&(v|=1<<7-_),r++;o[c+x]=v}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,h=this.bits;for(let x=0;x<c;x++){let v=h[x];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,r[o-x]=v}if(this.size!==c*32){const x=c*32-this.size;let v=r[0]>>>x;for(let _=1;_<c;_++){const C=r[_];v|=C<<32-x,r[_-1]=v,v=C>>>x}r[c-1]=v}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof U))return!1;const o=r;return this.size===o.size&&H.equals(this.bits,o.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let r="";for(let o=0,c=this.size;o<c;o++)(o&7)===0&&(r+=" "),r+=this.get(o)?"X":".";return r}clone(){return new U(this.size,this.bits.slice())}}var Y;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Y||(Y={}));var $=Y;class X extends f{static getFormatInstance(){return new X}}X.kind="FormatException";var ue;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(ue||(ue={}));class J{constructor(r,o,c,...h){this.valueIdentifier=r,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=h,J.VALUE_IDENTIFIER_TO_ECI.set(r,this),J.NAME_TO_ECI.set(c,this);const x=this.values;for(let v=0,_=x.length;v!==_;v++){const C=x[v];J.VALUES_TO_ECI.set(C,this)}for(const v of h)J.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new X("incorect value");const o=J.VALUES_TO_ECI.get(r);if(o===void 0)throw new X("incorect value");return o}static getCharacterSetECIByName(r){const o=J.NAME_TO_ECI.get(r);if(o===void 0)throw new X("incorect value");return o}equals(r){if(!(r instanceof J))return!1;const o=r;return this.getName()===o.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(ue.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(ue.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(ue.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(ue.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(ue.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(ue.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(ue.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(ue.Big5,28,"Big5"),J.GB18030=new J(ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(ue.EUC_KR,30,"EUC_KR","EUC-KR");class Oe extends f{}Oe.kind="UnsupportedOperationException";class Ee{static decode(r,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(r,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(r,c):new TextDecoder(c).decode(r)}static shouldDecodeOnFallback(r){return!Ee.isBrowser()&&r==="ISO-8859-1"}static encode(r,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(r,c):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof J?r:J.getCharacterSetECIByName(r)}static decodeFallback(r,o){const c=this.encodingCharacterSet(o);if(Ee.isDecodeFallbackSupported(c)){let h="";for(let x=0,v=r.length;x<v;x++){let _=r[x].toString(16);_.length<2&&(_="0"+_),h+="%"+_}return decodeURIComponent(h)}if(c.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new Oe(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(J.UTF8)||r.equals(J.ISO8859_1)||r.equals(J.ASCII)}static encodeFallback(r){const c=btoa(unescape(encodeURIComponent(r))).split(""),h=[];for(let x=0;x<c.length;x++)h.push(c[x].charCodeAt(0));return new Uint8Array(h)}}class xe{static castAsNonUtf8Char(r,o=null){const c=o?o.getName():this.ISO88591;return Ee.decode(new Uint8Array([r]),c)}static guessEncoding(r,o){if(o!=null&&o.get($.CHARACTER_SET)!==void 0)return o.get($.CHARACTER_SET).toString();const c=r.length;let h=!0,x=!0,v=!0,_=0,C=0,T=0,R=0,B=0,L=0,q=0,Q=0,ee=0,le=0,pe=0;const De=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let Re=0;Re<c&&(h||x||v);Re++){const Te=r[Re]&255;v&&(_>0?(Te&128)===0?v=!1:_--:(Te&128)!==0&&((Te&64)===0?v=!1:(_++,(Te&32)===0?C++:(_++,(Te&16)===0?T++:(_++,(Te&8)===0?R++:v=!1))))),h&&(Te>127&&Te<160?h=!1:Te>159&&(Te<192||Te===215||Te===247)&&pe++),x&&(B>0?Te<64||Te===127||Te>252?x=!1:B--:Te===128||Te===160||Te>239?x=!1:Te>160&&Te<224?(L++,Q=0,q++,q>ee&&(ee=q)):Te>127?(B++,q=0,Q++,Q>le&&(le=Q)):(q=0,Q=0))}return v&&_>0&&(v=!1),x&&B>0&&(x=!1),v&&(De||C+T+R>0)?xe.UTF8:x&&(xe.ASSUME_SHIFT_JIS||ee>=3||le>=3)?xe.SHIFT_JIS:h&&x?ee===2&&L===2||pe*10>=c?xe.SHIFT_JIS:xe.ISO88591:h?xe.ISO88591:x?xe.SHIFT_JIS:v?xe.UTF8:xe.PLATFORM_DEFAULT_ENCODING}static format(r,...o){let c=-1;function h(v,_,C,T,R,B){if(v==="%%")return"%";if(o[++c]===void 0)return;v=T?parseInt(T.substr(1)):void 0;let L=R?parseInt(R.substr(1)):void 0,q;switch(B){case"s":q=o[c];break;case"c":q=o[c][0];break;case"f":q=parseFloat(o[c]).toFixed(v);break;case"p":q=parseFloat(o[c]).toPrecision(v);break;case"e":q=parseFloat(o[c]).toExponential(v);break;case"x":q=parseInt(o[c]).toString(L||16);break;case"d":q=parseFloat(parseInt(o[c],L||10).toPrecision(v)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString(L);let Q=parseInt(C),ee=C&&C[0]+""=="0"?"0":" ";for(;q.length<Q;)q=_!==void 0?q+ee:ee+q;return q}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(x,h)}static getBytes(r,o){return Ee.encode(r,o)}static getCharCode(r,o=0){return r.charCodeAt(o)}static getCharAt(r){return String.fromCharCode(r)}}xe.SHIFT_JIS=J.SJIS.getName(),xe.GB2312="GB2312",xe.ISO88591=J.ISO8859_1.getName(),xe.EUC_JP="EUC_JP",xe.UTF8=J.UTF8.getName(),xe.PLATFORM_DEFAULT_ENCODING=xe.UTF8,xe.ASSUME_SHIFT_JIS=!1;class me{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=xe.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,o,c){for(let h=o;o<o+c;h++)this.append(r[h]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+1)}substring(r,o){return this.value.substring(r,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+o.length)}}class ke{constructor(r,o,c,h){if(this.width=r,this.height=o,this.rowSize=c,this.bits=h,o==null&&(o=r),this.height=o,r<1||o<1)throw new E("Both dimensions must be greater than 0");c==null&&(c=Math.floor((r+31)/32)),this.rowSize=c,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const o=r.length,c=r[0].length,h=new ke(c,o);for(let x=0;x<o;x++){const v=r[x];for(let _=0;_<c;_++)v[_]&&h.set(_,x)}return h}static parseFromString(r,o,c){if(r===null)throw new E("stringRepresentation cannot be null");const h=new Array(r.length);let x=0,v=0,_=-1,C=0,T=0;for(;T<r.length;)if(r.charAt(T)===`
`||r.charAt(T)==="\r"){if(x>v){if(_===-1)_=x-v;else if(x-v!==_)throw new E("row lengths do not match");v=x,C++}T++}else if(r.substring(T,T+o.length)===o)T+=o.length,h[x]=!0,x++;else if(r.substring(T,T+c.length)===c)T+=c.length,h[x]=!1,x++;else throw new E("illegal character encountered: "+r.substring(T));if(x>v){if(_===-1)_=x-v;else if(x-v!==_)throw new E("row lengths do not match");C++}const R=new ke(_,C);for(let B=0;B<x;B++)h[B]&&R.set(Math.floor(B%_),Math.floor(B/_));return R}get(r,o){const c=o*this.rowSize+Math.floor(r/32);return(this.bits[c]>>>(r&31)&1)!==0}set(r,o){const c=o*this.rowSize+Math.floor(r/32);this.bits[c]|=1<<(r&31)&4294967295}unset(r,o){const c=o*this.rowSize+Math.floor(r/32);this.bits[c]&=~(1<<(r&31)&4294967295)}flip(r,o){const c=o*this.rowSize+Math.floor(r/32);this.bits[c]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new E("input matrix dimensions do not match");const o=new U(Math.floor(this.width/32)+1),c=this.rowSize,h=this.bits;for(let x=0,v=this.height;x<v;x++){const _=x*c,C=r.getRow(x,o).getBitArray();for(let T=0;T<c;T++)h[_+T]^=C[T]}}clear(){const r=this.bits,o=r.length;for(let c=0;c<o;c++)r[c]=0}setRegion(r,o,c,h){if(o<0||r<0)throw new E("Left and top must be nonnegative");if(h<1||c<1)throw new E("Height and width must be at least 1");const x=r+c,v=o+h;if(v>this.height||x>this.width)throw new E("The region must fit inside the matrix");const _=this.rowSize,C=this.bits;for(let T=o;T<v;T++){const R=T*_;for(let B=r;B<x;B++)C[R+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(r,o){o==null||o.getSize()<this.width?o=new U(this.width):o.clear();const c=this.rowSize,h=this.bits,x=r*c;for(let v=0;v<c;v++)o.setBulk(v*32,h[x+v]);return o}setRow(r,o){M.arraycopy(o.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),o=this.getHeight();let c=new U(r),h=new U(r);for(let x=0,v=Math.floor((o+1)/2);x<v;x++)c=this.getRow(x,c),h=this.getRow(o-1-x,h),c.reverse(),h.reverse(),this.setRow(x,h),this.setRow(o-1-x,c)}getEnclosingRectangle(){const r=this.width,o=this.height,c=this.rowSize,h=this.bits;let x=r,v=o,_=-1,C=-1;for(let T=0;T<o;T++)for(let R=0;R<c;R++){const B=h[T*c+R];if(B!==0){if(T<v&&(v=T),T>C&&(C=T),R*32<x){let L=0;for(;(B<<31-L&4294967295)===0;)L++;R*32+L<x&&(x=R*32+L)}if(R*32+31>_){let L=31;for(;!(B>>>L);)L--;R*32+L>_&&(_=R*32+L)}}}return _<x||C<v?null:Int32Array.from([x,v,_-x+1,C-v+1])}getTopLeftOnBit(){const r=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const h=c/r;let x=c%r*32;const v=o[c];let _=0;for(;(v<<31-_&4294967295)===0;)_++;return x+=_,Int32Array.from([x,h])}getBottomRightOnBit(){const r=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const h=Math.floor(c/r);let x=Math.floor(c%r)*32;const v=o[c];let _=31;for(;!(v>>>_);)_--;return x+=_,Int32Array.from([x,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof ke))return!1;const o=r;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&H.equals(this.bits,o.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+H.hashCode(this.bits),r}toString(r="X ",o="  ",c=`
`){return this.buildToString(r,o,c)}buildToString(r,o,c){let h=new me;for(let x=0,v=this.height;x<v;x++){for(let _=0,C=this.width;_<C;_++)h.append(this.get(_,x)?r:o);h.append(c)}return h.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class K extends f{static getNotFoundInstance(){return new K}}K.kind="NotFoundException";class Z extends k{constructor(r){super(r),this.luminances=Z.EMPTY,this.buckets=new Int32Array(Z.LUMINANCE_BUCKETS)}getBlackRow(r,o){const c=this.getLuminanceSource(),h=c.getWidth();o==null||o.getSize()<h?o=new U(h):o.clear(),this.initArrays(h);const x=c.getRow(r,this.luminances),v=this.buckets;for(let C=0;C<h;C++)v[(x[C]&255)>>Z.LUMINANCE_SHIFT]++;const _=Z.estimateBlackPoint(v);if(h<3)for(let C=0;C<h;C++)(x[C]&255)<_&&o.set(C);else{let C=x[0]&255,T=x[1]&255;for(let R=1;R<h-1;R++){const B=x[R+1]&255;(T*4-C-B)/2<_&&o.set(R),C=T,T=B}}return o}getBlackMatrix(){const r=this.getLuminanceSource(),o=r.getWidth(),c=r.getHeight(),h=new ke(o,c);this.initArrays(o);const x=this.buckets;for(let C=1;C<5;C++){const T=Math.floor(c*C/5),R=r.getRow(T,this.luminances),B=Math.floor(o*4/5);for(let L=Math.floor(o/5);L<B;L++){const q=R[L]&255;x[q>>Z.LUMINANCE_SHIFT]++}}const v=Z.estimateBlackPoint(x),_=r.getMatrix();for(let C=0;C<c;C++){const T=C*o;for(let R=0;R<o;R++)(_[T+R]&255)<v&&h.set(R,C)}return h}createBinarizer(r){return new Z(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const o=this.buckets;for(let c=0;c<Z.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(r){const o=r.length;let c=0,h=0,x=0;for(let R=0;R<o;R++)r[R]>x&&(h=R,x=r[R]),r[R]>c&&(c=r[R]);let v=0,_=0;for(let R=0;R<o;R++){const B=R-h,L=r[R]*B*B;L>_&&(v=R,_=L)}if(h>v){const R=h;h=v,v=R}if(v-h<=o/16)throw new K;let C=v-1,T=-1;for(let R=v-1;R>h;R--){const B=R-h,L=B*B*(v-R)*(c-r[R]);L>T&&(C=R,T=L)}return C<<Z.LUMINANCE_SHIFT}}Z.LUMINANCE_BITS=5,Z.LUMINANCE_SHIFT=8-Z.LUMINANCE_BITS,Z.LUMINANCE_BUCKETS=1<<Z.LUMINANCE_BITS,Z.EMPTY=Uint8ClampedArray.from([0]);class oe extends Z{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),o=r.getWidth(),c=r.getHeight();if(o>=oe.MINIMUM_DIMENSION&&c>=oe.MINIMUM_DIMENSION){const h=r.getMatrix();let x=o>>oe.BLOCK_SIZE_POWER;(o&oe.BLOCK_SIZE_MASK)!==0&&x++;let v=c>>oe.BLOCK_SIZE_POWER;(c&oe.BLOCK_SIZE_MASK)!==0&&v++;const _=oe.calculateBlackPoints(h,x,v,o,c),C=new ke(o,c);oe.calculateThresholdForBlock(h,x,v,o,c,_,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new oe(r)}static calculateThresholdForBlock(r,o,c,h,x,v,_){const C=x-oe.BLOCK_SIZE,T=h-oe.BLOCK_SIZE;for(let R=0;R<c;R++){let B=R<<oe.BLOCK_SIZE_POWER;B>C&&(B=C);const L=oe.cap(R,2,c-3);for(let q=0;q<o;q++){let Q=q<<oe.BLOCK_SIZE_POWER;Q>T&&(Q=T);const ee=oe.cap(q,2,o-3);let le=0;for(let De=-2;De<=2;De++){const Re=v[L+De];le+=Re[ee-2]+Re[ee-1]+Re[ee]+Re[ee+1]+Re[ee+2]}const pe=le/25;oe.thresholdBlock(r,Q,B,pe,h,_)}}}static cap(r,o,c){return r<o?o:r>c?c:r}static thresholdBlock(r,o,c,h,x,v){for(let _=0,C=c*x+o;_<oe.BLOCK_SIZE;_++,C+=x)for(let T=0;T<oe.BLOCK_SIZE;T++)(r[C+T]&255)<=h&&v.set(o+T,c+_)}static calculateBlackPoints(r,o,c,h,x){const v=x-oe.BLOCK_SIZE,_=h-oe.BLOCK_SIZE,C=new Array(c);for(let T=0;T<c;T++){C[T]=new Int32Array(o);let R=T<<oe.BLOCK_SIZE_POWER;R>v&&(R=v);for(let B=0;B<o;B++){let L=B<<oe.BLOCK_SIZE_POWER;L>_&&(L=_);let q=0,Q=255,ee=0;for(let pe=0,De=R*h+L;pe<oe.BLOCK_SIZE;pe++,De+=h){for(let Re=0;Re<oe.BLOCK_SIZE;Re++){const Te=r[De+Re]&255;q+=Te,Te<Q&&(Q=Te),Te>ee&&(ee=Te)}if(ee-Q>oe.MIN_DYNAMIC_RANGE)for(pe++,De+=h;pe<oe.BLOCK_SIZE;pe++,De+=h)for(let Re=0;Re<oe.BLOCK_SIZE;Re++)q+=r[De+Re]&255}let le=q>>oe.BLOCK_SIZE_POWER*2;if(ee-Q<=oe.MIN_DYNAMIC_RANGE&&(le=Q/2,T>0&&B>0)){const pe=(C[T-1][B]+2*C[T][B-1]+C[T-1][B-1])/4;Q<pe&&(le=pe)}C[T][B]=le}}return C}}oe.BLOCK_SIZE_POWER=3,oe.BLOCK_SIZE=1<<oe.BLOCK_SIZE_POWER,oe.BLOCK_SIZE_MASK=oe.BLOCK_SIZE-1,oe.MINIMUM_DIMENSION=oe.BLOCK_SIZE*5,oe.MIN_DYNAMIC_RANGE=24;class Me{constructor(r,o){this.width=r,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,o,c,h){throw new Oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Oe("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let o=new me;for(let c=0;c<this.height;c++){const h=this.getRow(c,r);for(let x=0;x<this.width;x++){const v=h[x]&255;let _;v<64?_="#":v<128?_="+":v<192?_=".":_=" ",o.append(_)}o.append(`
`)}return o.toString()}}class Be extends Me{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,o){const c=this.delegate.getRow(r,o),h=this.getWidth();for(let x=0;x<h;x++)c[x]=255-(c[x]&255);return c}getMatrix(){const r=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let h=0;h<o;h++)c[h]=255-(r[h]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(r,o,c,h){return new Be(this.delegate.crop(r,o,c,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class Le extends Me{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const o=r.getContext("2d").getImageData(0,0,r.width,r.height);return Le.toGrayscaleBuffer(o.data,r.width,r.height)}static toGrayscaleBuffer(r,o,c){const h=new Uint8ClampedArray(o*c);for(let x=0,v=0,_=r.length;x<_;x+=4,v++){let C;if(r[x+3]===0)C=255;else{const R=r[x],B=r[x+1],L=r[x+2];C=306*R+601*B+117*L+512>>10}h[v]=C}return h}getRow(r,o){if(r<0||r>=this.getHeight())throw new E("Requested row is outside the image: "+r);const c=this.getWidth(),h=r*c;return o===null?o=this.buffer.slice(h,h+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(h,h+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,o,c,h){return super.crop(r,o,c,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const o=this.getTempCanvasElement(),c=o.getContext("2d"),h=r*Le.DEGREE_TO_RADIANS,x=this.canvas.width,v=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(h))*x+Math.abs(Math.sin(h))*v),C=Math.ceil(Math.abs(Math.sin(h))*x+Math.abs(Math.cos(h))*v);return o.width=_,o.height=C,c.translate(_/2,C/2),c.rotate(h),c.drawImage(this.canvas,x/-2,v/-2),this.buffer=Le.makeBufferFromCanvasImageData(o),this}invert(){return new Be(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class G{constructor(r,o,c){this.deviceId=r,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||qd||self||window||void 0)&&(globalThis||qd||self||window||void 0).__awaiter||function(I,r,o,c){function h(x){return x instanceof o?x:new o(function(v){v(x)})}return new(o||(o=Promise))(function(x,v){function _(R){try{T(c.next(R))}catch(B){v(B)}}function C(R){try{T(c.throw(R))}catch(B){v(B)}}function T(R){R.done?x(R.value):h(R.value).then(_,C)}T((c=c.apply(I,r||[])).next())})};class se{constructor(r,o=500,c){this.reader=r,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of r){const h=c.kind==="video"?"videoinput":c.kind;if(h!=="videoinput")continue;const x=c.deviceId||c.id,v=c.label||`Video device ${o.length+1}`,_=c.groupId,C={deviceId:x,label:v,kind:h,groupId:_};o.push(C)}return o})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new G(o.deviceId,o.label))})}findDeviceById(r){return re(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===r):null})}decodeFromInputVideoDevice(r,o){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,o)})}decodeOnceFromVideoDevice(r,o){return re(this,void 0,void 0,function*(){this.reset();let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeOnceFromConstraints(h,o)})}decodeOnceFromConstraints(r,o){return re(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(r,o){return re(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(r,o,c){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,o,c)})}decodeFromVideoDevice(r,o,c){return re(this,void 0,void 0,function*(){let h;r?h={deviceId:{exact:r}}:h={facingMode:"environment"};const x={video:h};return yield this.decodeFromConstraints(x,o,c)})}decodeFromConstraints(r,o,c){return re(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(h,o,c)})}decodeFromStream(r,o,c){return re(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(r,o);return yield this.decodeContinuously(h,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,o){return re(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,r),this.videoElement=c,this.stream=r,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(r){return new Promise((o,c)=>this.playVideoOnLoad(r,()=>o()))}playVideoOnLoad(r,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",o),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,o){const c=document.getElementById(r);if(!c)throw new w(`element with id '${r}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${r}' must be an ${o} element`);return c}decodeFromImage(r,o){if(!r&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!r?this.decodeFromImageUrl(o):this.decodeFromImageElement(r)}decodeFromVideo(r,o){if(!r&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,o,c){if(r===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(r,c)}decodeFromImageElement(r){if(!r)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(r);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(r){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(r,o){const c=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(r){if(!r)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(r);return this.videoElement=o,o}decodeFromImageUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=r,c}decodeFromVideoUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=r,c}decodeFromVideoUrlContinuously(r,o){if(!r)throw new w("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(c,o);return c.src=r,h}_decodeOnLoadImage(r){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(o,c),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,o){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,o)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let o;return typeof r>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(o=r),o}prepareVideoElement(r){let o;return!r&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(o=r),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(r,o=!0,c=!0){this._stopAsyncDecode=!1;const h=(x,v)=>{if(this._stopAsyncDecode){v(new K("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const _=this.decode(r);x(_)}catch(_){const C=o&&_ instanceof K,R=(_ instanceof O||_ instanceof X)&&c;if(C||R)return setTimeout(h,this._timeBetweenDecodingAttempts,x,v);v(_)}};return new Promise((x,v)=>h(x,v))}decodeContinuously(r,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(r);o(h,null),setTimeout(c,this.timeBetweenScansMillis)}catch(h){o(null,h);const x=h instanceof O||h instanceof X,v=h instanceof K;(x||v)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(r){const o=this.createBinaryBitmap(r);return this.decodeBitmap(o)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,o,c){o||(o={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(r,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const o=this.getCaptureCanvas(r),c=new Le(o),h=new oe(c);return new S(h)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const o=this.createCaptureCanvas(r);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,h;return typeof r<"u"&&(r instanceof HTMLVideoElement?(c=r.videoWidth,h=r.videoHeight):r instanceof HTMLImageElement&&(c=r.naturalWidth||r.width,h=r.naturalHeight||r.height)),o.style.width=c+"px",o.style.height=h+"px",o.width=c,o.height=h,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,o){try{r.srcObject=o}catch{r.src=URL.createObjectURL(o)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class he{constructor(r,o,c=o==null?0:8*o.length,h,x,v=M.currentTimeMillis()){this.text=r,this.rawBytes=o,this.numBits=c,this.resultPoints=h,this.format=x,this.timestamp=v,this.text=r,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=h,this.format=x,this.resultMetadata=null,v==null?this.timestamp=M.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,o)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const o=this.resultPoints;if(o===null)this.resultPoints=r;else if(r!==null&&r.length>0){const c=new Array(o.length+r.length);M.arraycopy(o,0,c,0,o.length),M.arraycopy(r,0,c,o.length,r.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var je;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(je||(je={}));var Se=je,Ue;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ue||(Ue={}));var Ye=Ue;class Pe{constructor(r,o,c,h,x=-1,v=-1){this.rawBytes=r,this.text=o,this.byteSegments=c,this.ecLevel=h,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=v,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class cn{exp(r){return this.expTable[r]}log(r){if(r===0)throw new E;return this.logTable[r]}static addOrSubtract(r,o){return r^o}}class fn{constructor(r,o){if(o.length===0)throw new E;this.field=r;const c=o.length;if(c>1&&o[0]===0){let h=1;for(;h<c&&o[h]===0;)h++;h===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-h),M.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(r===1){c=0;for(let v=0,_=o.length;v!==_;v++){const C=o[v];c=cn.addOrSubtract(c,C)}return c}c=o[0];const h=o.length,x=this.field;for(let v=1;v<h;v++)c=cn.addOrSubtract(x.multiply(r,c),o[v]);return c}addOrSubtract(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,c=r.coefficients;if(o.length>c.length){const v=o;o=c,c=v}let h=new Int32Array(c.length);const x=c.length-o.length;M.arraycopy(c,0,h,0,x);for(let v=x;v<c.length;v++)h[v]=cn.addOrSubtract(o[v-x],c[v]);return new fn(this.field,h)}multiply(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,h=r.coefficients,x=h.length,v=new Int32Array(c+x-1),_=this.field;for(let C=0;C<c;C++){const T=o[C];for(let R=0;R<x;R++)v[C+R]=cn.addOrSubtract(v[C+R],_.multiply(T,h[R]))}return new fn(_,v)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const o=this.coefficients.length,c=this.field,h=new Int32Array(o),x=this.coefficients;for(let v=0;v<o;v++)h[v]=c.multiply(x[v],r);return new fn(c,h)}multiplyByMonomial(r,o){if(r<0)throw new E;if(o===0)return this.field.getZero();const c=this.coefficients,h=c.length,x=new Int32Array(h+r),v=this.field;for(let _=0;_<h;_++)x[_]=v.multiply(c[_],o);return new fn(v,x)}divide(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new E("Divide by 0");const o=this.field;let c=o.getZero(),h=this;const x=r.getCoefficient(r.getDegree()),v=o.inverse(x);for(;h.getDegree()>=r.getDegree()&&!h.isZero();){const _=h.getDegree()-r.getDegree(),C=o.multiply(h.getCoefficient(h.getDegree()),v),T=r.multiplyByMonomial(_,C),R=o.buildMonomial(_,C);c=c.addOrSubtract(R),h=h.addOrSubtract(T)}return[c,h]}toString(){let r="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(r+=" - ",c=-c):r.length>0&&(r+=" + "),o===0||c!==1){const h=this.field.log(c);h===0?r+="1":h===1?r+="a":(r+="a^",r+=h)}o!==0&&(o===1?r+="x":(r+="x^",r+=o))}}return r}}class Ur extends f{}Ur.kind="ArithmeticException";class ht extends cn{constructor(r,o,c){super(),this.primitive=r,this.size=o,this.generatorBase=c;const h=new Int32Array(o);let x=1;for(let _=0;_<o;_++)h[_]=x,x*=2,x>=o&&(x^=r,x&=o-1);this.expTable=h;const v=new Int32Array(o);for(let _=0;_<o-1;_++)v[h[_]]=_;this.logTable=v,this.zero=new fn(this,Int32Array.from([0])),this.one=new fn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new E;if(o===0)return this.zero;const c=new Int32Array(r+1);return c[0]=o,new fn(this,c)}inverse(r){if(r===0)throw new Ur;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+z.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}ht.AZTEC_DATA_12=new ht(4201,4096,1),ht.AZTEC_DATA_10=new ht(1033,1024,1),ht.AZTEC_DATA_6=new ht(67,64,1),ht.AZTEC_PARAM=new ht(19,16,1),ht.QR_CODE_FIELD_256=new ht(285,256,0),ht.DATA_MATRIX_FIELD_256=new ht(301,256,1),ht.AZTEC_DATA_8=ht.DATA_MATRIX_FIELD_256,ht.MAXICODE_FIELD_64=ht.AZTEC_DATA_6;class ai extends f{}ai.kind="ReedSolomonException";class Dn extends f{}Dn.kind="IllegalStateException";class Cr{constructor(r){this.field=r}decode(r,o){const c=this.field,h=new fn(c,r),x=new Int32Array(o);let v=!0;for(let q=0;q<o;q++){const Q=h.evaluateAt(c.exp(q+c.getGeneratorBase()));x[x.length-1-q]=Q,Q!==0&&(v=!1)}if(v)return;const _=new fn(c,x),C=this.runEuclideanAlgorithm(c.buildMonomial(o,1),_,o),T=C[0],R=C[1],B=this.findErrorLocations(T),L=this.findErrorMagnitudes(R,B);for(let q=0;q<B.length;q++){const Q=r.length-1-c.log(B[q]);if(Q<0)throw new ai("Bad error location");r[Q]=ht.addOrSubtract(r[Q],L[q])}}runEuclideanAlgorithm(r,o,c){if(r.getDegree()<o.getDegree()){const q=r;r=o,o=q}const h=this.field;let x=r,v=o,_=h.getZero(),C=h.getOne();for(;v.getDegree()>=(c/2|0);){let q=x,Q=_;if(x=v,_=C,x.isZero())throw new ai("r_{i-1} was zero");v=q;let ee=h.getZero();const le=x.getCoefficient(x.getDegree()),pe=h.inverse(le);for(;v.getDegree()>=x.getDegree()&&!v.isZero();){const De=v.getDegree()-x.getDegree(),Re=h.multiply(v.getCoefficient(v.getDegree()),pe);ee=ee.addOrSubtract(h.buildMonomial(De,Re)),v=v.addOrSubtract(x.multiplyByMonomial(De,Re))}if(C=ee.multiply(_).addOrSubtract(Q),v.getDegree()>=x.getDegree())throw new Dn("Division algorithm failed to reduce polynomial?")}const T=C.getCoefficient(0);if(T===0)throw new ai("sigmaTilde(0) was zero");const R=h.inverse(T),B=C.multiplyScalar(R),L=v.multiplyScalar(R);return[B,L]}findErrorLocations(r){const o=r.getDegree();if(o===1)return Int32Array.from([r.getCoefficient(1)]);const c=new Int32Array(o);let h=0;const x=this.field;for(let v=1;v<x.getSize()&&h<o;v++)r.evaluateAt(v)===0&&(c[h]=x.inverse(v),h++);if(h!==o)throw new ai("Error locator degree does not match number of roots");return c}findErrorMagnitudes(r,o){const c=o.length,h=new Int32Array(c),x=this.field;for(let v=0;v<c;v++){const _=x.inverse(o[v]);let C=1;for(let T=0;T<c;T++)if(v!==T){const R=x.multiply(o[T],_),B=(R&1)===0?R|1:R&-2;C=x.multiply(C,B)}h[v]=x.multiply(r.evaluateAt(_),x.inverse(C)),x.getGeneratorBase()!==0&&(h[v]=x.multiply(h[v],_))}return h}}var en;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(en||(en={}));class _t{decode(r){this.ddata=r;let o=r.getBits(),c=this.extractBits(o),h=this.correctBits(c),x=_t.convertBoolArrayToByteArray(h),v=_t.getEncodedData(h),_=new Pe(x,v,null,null);return _.setNumBits(h.length),_}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let o=r.length,c=en.UPPER,h=en.UPPER,x="",v=0;for(;v<o;)if(h===en.BINARY){if(o-v<5)break;let _=_t.readCode(r,v,5);if(v+=5,_===0){if(o-v<11)break;_=_t.readCode(r,v,11)+31,v+=11}for(let C=0;C<_;C++){if(o-v<8){v=o;break}const T=_t.readCode(r,v,8);x+=xe.castAsNonUtf8Char(T),v+=8}h=c}else{let _=h===en.DIGIT?4:5;if(o-v<_)break;let C=_t.readCode(r,v,_);v+=_;let T=_t.getCharacter(h,C);T.startsWith("CTRL_")?(c=h,h=_t.getTable(T.charAt(5)),T.charAt(6)==="L"&&(c=h)):(x+=T,h=c)}return x}static getTable(r){switch(r){case"L":return en.LOWER;case"P":return en.PUNCT;case"M":return en.MIXED;case"D":return en.DIGIT;case"B":return en.BINARY;default:return en.UPPER}}static getCharacter(r,o){switch(r){case en.UPPER:return _t.UPPER_TABLE[o];case en.LOWER:return _t.LOWER_TABLE[o];case en.MIXED:return _t.MIXED_TABLE[o];case en.PUNCT:return _t.PUNCT_TABLE[o];case en.DIGIT:return _t.DIGIT_TABLE[o];default:throw new Dn("Bad table")}}correctBits(r){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=ht.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=ht.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=ht.AZTEC_DATA_10):(c=12,o=ht.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),x=r.length/c;if(x<h)throw new X;let v=r.length%c,_=new Int32Array(x);for(let L=0;L<x;L++,v+=c)_[L]=_t.readCode(r,v,c);try{new Cr(o).decode(_,x-h)}catch(L){throw new X(L)}let C=(1<<c)-1,T=0;for(let L=0;L<h;L++){let q=_[L];if(q===0||q===C)throw new X;(q===1||q===C-1)&&T++}let R=new Array(h*c-T),B=0;for(let L=0;L<h;L++){let q=_[L];if(q===1||q===C-1)R.fill(q>1,B,B+c-1),B+=c-1;else for(let Q=c-1;Q>=0;--Q)R[B++]=(q&1<<Q)!==0}return R}extractBits(r){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),h=(o?11:14)+c*4,x=new Int32Array(h),v=new Array(this.totalBitsInLayer(c,o));if(o)for(let _=0;_<x.length;_++)x[_]=_;else{let _=h+1+2*z.truncDivision(z.truncDivision(h,2)-1,15),C=h/2,T=z.truncDivision(_,2);for(let R=0;R<C;R++){let B=R+z.truncDivision(R,15);x[C-R-1]=T-B-1,x[C+R]=T+B+1}}for(let _=0,C=0;_<c;_++){let T=(c-_)*4+(o?9:12),R=_*2,B=h-1-R;for(let L=0;L<T;L++){let q=L*2;for(let Q=0;Q<2;Q++)v[C+q+Q]=r.get(x[R+Q],x[R+L]),v[C+2*T+q+Q]=r.get(x[R+L],x[B-Q]),v[C+4*T+q+Q]=r.get(x[B-Q],x[B-L]),v[C+6*T+q+Q]=r.get(x[B-L],x[R+Q])}C+=T*8}return v}static readCode(r,o,c){let h=0;for(let x=o;x<o+c;x++)h<<=1,r[x]&&(h|=1);return h}static readByte(r,o){let c=r.length-o;return c>=8?_t.readCode(r,o,8):_t.readCode(r,o,c)<<8-c}static convertBoolArrayToByteArray(r){let o=new Uint8Array((r.length+7)/8);for(let c=0;c<o.length;c++)o[c]=_t.readByte(r,8*c);return o}totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}_t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,o,c,h){const x=r-c,v=o-h;return Math.sqrt(x*x+v*v)}static sum(r){let o=0;for(let c=0,h=r.length;c!==h;c++){const x=r[c];o+=x}return o}}class Hr{static floatToIntBits(r){return r}}Hr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class He{constructor(r,o){this.x=r,this.y=o}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof He){const o=r;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Hr.floatToIntBits(this.x)+Hr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const o=this.distance(r[0],r[1]),c=this.distance(r[1],r[2]),h=this.distance(r[0],r[2]);let x,v,_;if(c>=o&&c>=h?(v=r[0],x=r[1],_=r[2]):h>=c&&h>=o?(v=r[1],x=r[0],_=r[2]):(v=r[2],x=r[0],_=r[1]),this.crossProductZ(x,v,_)<0){const C=x;x=_,_=C}r[0]=x,r[1]=v,r[2]=_}static distance(r,o){return st.distance(r.x,r.y,o.x,o.y)}static crossProductZ(r,o,c){const h=o.x,x=o.y;return(c.x-h)*(r.y-x)-(c.y-x)*(r.x-h)}}class Ls{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class So extends Ls{constructor(r,o,c,h,x){super(r,o),this.compact=c,this.nbDatablocks=h,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class tn{constructor(r,o,c,h){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),o==null&&(o=tn.INIT_SIZE),c==null&&(c=r.getWidth()/2|0),h==null&&(h=r.getHeight()/2|0);const x=o/2|0;if(this.leftInit=c-x,this.rightInit=c+x,this.upInit=h-x,this.downInit=h+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}detect(){let r=this.leftInit,o=this.rightInit,c=this.upInit,h=this.downInit,x=!1,v=!0,_=!1,C=!1,T=!1,R=!1,B=!1;const L=this.width,q=this.height;for(;v;){v=!1;let Q=!0;for(;(Q||!C)&&o<L;)Q=this.containsBlackPoint(c,h,o,!1),Q?(o++,v=!0,C=!0):C||o++;if(o>=L){x=!0;break}let ee=!0;for(;(ee||!T)&&h<q;)ee=this.containsBlackPoint(r,o,h,!0),ee?(h++,v=!0,T=!0):T||h++;if(h>=q){x=!0;break}let le=!0;for(;(le||!R)&&r>=0;)le=this.containsBlackPoint(c,h,r,!1),le?(r--,v=!0,R=!0):R||r--;if(r<0){x=!0;break}let pe=!0;for(;(pe||!B)&&c>=0;)pe=this.containsBlackPoint(r,o,c,!0),pe?(c--,v=!0,B=!0):B||c--;if(c<0){x=!0;break}v&&(_=!0)}if(!x&&_){const Q=o-r;let ee=null;for(let Re=1;ee===null&&Re<Q;Re++)ee=this.getBlackPointOnSegment(r,h-Re,r+Re,h);if(ee==null)throw new K;let le=null;for(let Re=1;le===null&&Re<Q;Re++)le=this.getBlackPointOnSegment(r,c+Re,r+Re,c);if(le==null)throw new K;let pe=null;for(let Re=1;pe===null&&Re<Q;Re++)pe=this.getBlackPointOnSegment(o,c+Re,o-Re,c);if(pe==null)throw new K;let De=null;for(let Re=1;De===null&&Re<Q;Re++)De=this.getBlackPointOnSegment(o,h-Re,o-Re,h);if(De==null)throw new K;return this.centerEdges(De,ee,pe,le)}else throw new K}getBlackPointOnSegment(r,o,c,h){const x=st.round(st.distance(r,o,c,h)),v=(c-r)/x,_=(h-o)/x,C=this.image;for(let T=0;T<x;T++){const R=st.round(r+T*v),B=st.round(o+T*_);if(C.get(R,B))return new He(R,B)}return null}centerEdges(r,o,c,h){const x=r.getX(),v=r.getY(),_=o.getX(),C=o.getY(),T=c.getX(),R=c.getY(),B=h.getX(),L=h.getY(),q=tn.CORR;return x<this.width/2?[new He(B-q,L+q),new He(_+q,C+q),new He(T-q,R-q),new He(x+q,v-q)]:[new He(B+q,L+q),new He(_+q,C-q),new He(T-q,R+q),new He(x-q,v-q)]}containsBlackPoint(r,o,c,h){const x=this.image;if(h){for(let v=r;v<=o;v++)if(x.get(v,c))return!0}else for(let v=r;v<=o;v++)if(x.get(c,v))return!0;return!1}}tn.INIT_SIZE=10,tn.CORR=1;class ka{static checkAndNudgePoints(r,o){const c=r.getWidth(),h=r.getHeight();let x=!0;for(let v=0;v<o.length&&x;v+=2){const _=Math.floor(o[v]),C=Math.floor(o[v+1]);if(_<-1||_>c||C<-1||C>h)throw new K;x=!1,_===-1?(o[v]=0,x=!0):_===c&&(o[v]=c-1,x=!0),C===-1?(o[v+1]=0,x=!0):C===h&&(o[v+1]=h-1,x=!0)}x=!0;for(let v=o.length-2;v>=0&&x;v-=2){const _=Math.floor(o[v]),C=Math.floor(o[v+1]);if(_<-1||_>c||C<-1||C>h)throw new K;x=!1,_===-1?(o[v]=0,x=!0):_===c&&(o[v]=c-1,x=!0),C===-1?(o[v+1]=0,x=!0):C===h&&(o[v+1]=h-1,x=!0)}}}class Zn{constructor(r,o,c,h,x,v,_,C,T){this.a11=r,this.a21=o,this.a31=c,this.a12=h,this.a22=x,this.a32=v,this.a13=_,this.a23=C,this.a33=T}static quadrilateralToQuadrilateral(r,o,c,h,x,v,_,C,T,R,B,L,q,Q,ee,le){const pe=Zn.quadrilateralToSquare(r,o,c,h,x,v,_,C);return Zn.squareToQuadrilateral(T,R,B,L,q,Q,ee,le).times(pe)}transformPoints(r){const o=r.length,c=this.a11,h=this.a12,x=this.a13,v=this.a21,_=this.a22,C=this.a23,T=this.a31,R=this.a32,B=this.a33;for(let L=0;L<o;L+=2){const q=r[L],Q=r[L+1],ee=x*q+C*Q+B;r[L]=(c*q+v*Q+T)/ee,r[L+1]=(h*q+_*Q+R)/ee}}transformPointsWithValues(r,o){const c=this.a11,h=this.a12,x=this.a13,v=this.a21,_=this.a22,C=this.a23,T=this.a31,R=this.a32,B=this.a33,L=r.length;for(let q=0;q<L;q++){const Q=r[q],ee=o[q],le=x*Q+C*ee+B;r[q]=(c*Q+v*ee+T)/le,o[q]=(h*Q+_*ee+R)/le}}static squareToQuadrilateral(r,o,c,h,x,v,_,C){const T=r-c+x-_,R=o-h+v-C;if(T===0&&R===0)return new Zn(c-r,x-c,r,h-o,v-h,o,0,0,1);{const B=c-x,L=_-x,q=h-v,Q=C-v,ee=B*Q-L*q,le=(T*Q-L*R)/ee,pe=(B*R-T*q)/ee;return new Zn(c-r+le*c,_-r+pe*_,r,h-o+le*h,C-o+pe*C,o,le,pe,1)}}static quadrilateralToSquare(r,o,c,h,x,v,_,C){return Zn.squareToQuadrilateral(r,o,c,h,x,v,_,C).buildAdjoint()}buildAdjoint(){return new Zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Zn(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Ma extends ka{sampleGrid(r,o,c,h,x,v,_,C,T,R,B,L,q,Q,ee,le,pe,De,Re){const Te=Zn.quadrilateralToQuadrilateral(h,x,v,_,C,T,R,B,L,q,Q,ee,le,pe,De,Re);return this.sampleGridWithTransform(r,o,c,Te)}sampleGridWithTransform(r,o,c,h){if(o<=0||c<=0)throw new K;const x=new ke(o,c),v=new Float32Array(2*o);for(let _=0;_<c;_++){const C=v.length,T=_+.5;for(let R=0;R<C;R+=2)v[R]=R/2+.5,v[R+1]=T;h.transformPoints(v),ka.checkAndNudgePoints(r,v);try{for(let R=0;R<C;R+=2)r.get(Math.floor(v[R]),Math.floor(v[R+1]))&&x.set(R/2,_)}catch{throw new K}}return x}}class hi{static setGridSampler(r){hi.gridSampler=r}static getInstance(){return hi.gridSampler}}hi.gridSampler=new Ma;class Fn{constructor(r,o){this.x=r,this.y=o}toResultPoint(){return new He(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ra{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(r){let v=c[0];c[0]=c[2],c[2]=v}this.extractParameters(c);let h=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),x=this.getMatrixCornerPoints(c);return new So(h,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new K;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(r[0],r[1],o),this.sampleLine(r[1],r[2],o),this.sampleLine(r[2],r[3],o),this.sampleLine(r[3],r[0],o)]);this.shift=this.getRotation(c,o);let h=0;for(let v=0;v<4;v++){let _=c[(this.shift+v)%4];this.compact?(h<<=7,h+=_>>1&127):(h<<=10,h+=(_>>2&992)+(_>>1&31))}let x=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(r,o){let c=0;r.forEach((h,x,v)=>{let _=(h>>o-2<<1)+(h&1);c=(c<<3)+_}),c=((c&1)<<11)+(c>>1);for(let h=0;h<4;h++)if(z.bitCount(c^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new K}getCorrectedParameterData(r,o){let c,h;o?(c=7,h=2):(c=10,h=4);let x=c-h,v=new Int32Array(c);for(let C=c-1;C>=0;--C)v[C]=r&15,r>>=4;try{new Cr(ht.AZTEC_PARAM).decode(v,x)}catch{throw new K}let _=0;for(let C=0;C<h;C++)_=(_<<4)+v[C];return _}getBullsEyeCorners(r){let o=r,c=r,h=r,x=r,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(o,v,1,-1),L=this.getFirstDifferent(c,v,1,1),q=this.getFirstDifferent(h,v,-1,1),Q=this.getFirstDifferent(x,v,-1,-1);if(this.nbCenterLayers>2){let ee=this.distancePoint(Q,B)*this.nbCenterLayers/(this.distancePoint(x,o)*(this.nbCenterLayers+2));if(ee<.75||ee>1.25||!this.isWhiteOrBlackRectangle(B,L,q,Q))break}o=B,c=L,h=q,x=Q,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;let _=new He(o.getX()+.5,o.getY()-.5),C=new He(c.getX()+.5,c.getY()+.5),T=new He(h.getX()-.5,h.getY()+.5),R=new He(x.getX()-.5,x.getY()-.5);return this.expandSquare([_,C,T,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,o,c,h;try{let _=new tn(this.image).detect();r=_[0],o=_[1],c=_[2],h=_[3]}catch{let C=this.image.getWidth()/2,T=this.image.getHeight()/2;r=this.getFirstDifferent(new Fn(C+7,T-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Fn(C+7,T+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Fn(C-7,T+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Fn(C-7,T-7),!1,-1,-1).toResultPoint()}let x=st.round((r.getX()+h.getX()+o.getX()+c.getX())/4),v=st.round((r.getY()+h.getY()+o.getY()+c.getY())/4);try{let _=new tn(this.image,15,x,v).detect();r=_[0],o=_[1],c=_[2],h=_[3]}catch{r=this.getFirstDifferent(new Fn(x+7,v-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Fn(x+7,v+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Fn(x-7,v+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Fn(x-7,v-7),!1,-1,-1).toResultPoint()}return x=st.round((r.getX()+h.getX()+o.getX()+c.getX())/4),v=st.round((r.getY()+h.getY()+o.getY()+c.getY())/4),new Fn(x,v)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,o,c,h,x){let v=hi.getInstance(),_=this.getDimension(),C=_/2-this.nbCenterLayers,T=_/2+this.nbCenterLayers;return v.sampleGrid(r,_,_,C,C,T,C,T,T,C,T,o.getX(),o.getY(),c.getX(),c.getY(),h.getX(),h.getY(),x.getX(),x.getY())}sampleLine(r,o,c){let h=0,x=this.distanceResultPoint(r,o),v=x/c,_=r.getX(),C=r.getY(),T=v*(o.getX()-r.getX())/x,R=v*(o.getY()-r.getY())/x;for(let B=0;B<c;B++)this.image.get(st.round(_+B*T),st.round(C+B*R))&&(h|=1<<c-B-1);return h}isWhiteOrBlackRectangle(r,o,c,h){let x=3;r=new Fn(r.getX()-x,r.getY()+x),o=new Fn(o.getX()-x,o.getY()-x),c=new Fn(c.getX()+x,c.getY()-x),h=new Fn(h.getX()+x,h.getY()+x);let v=this.getColor(h,r);if(v===0)return!1;let _=this.getColor(r,o);return _!==v||(_=this.getColor(o,c),_!==v)?!1:(_=this.getColor(c,h),_===v)}getColor(r,o){let c=this.distancePoint(r,o),h=(o.getX()-r.getX())/c,x=(o.getY()-r.getY())/c,v=0,_=r.getX(),C=r.getY(),T=this.image.get(r.getX(),r.getY()),R=Math.ceil(c);for(let L=0;L<R;L++)_+=h,C+=x,this.image.get(st.round(_),st.round(C))!==T&&v++;let B=v/c;return B>.1&&B<.9?0:B<=.1===T?1:-1}getFirstDifferent(r,o,c,h){let x=r.getX()+c,v=r.getY()+h;for(;this.isValid(x,v)&&this.image.get(x,v)===o;)x+=c,v+=h;for(x-=c,v-=h;this.isValid(x,v)&&this.image.get(x,v)===o;)x+=c;for(x-=c;this.isValid(x,v)&&this.image.get(x,v)===o;)v+=h;return v-=h,new Fn(x,v)}expandSquare(r,o,c){let h=c/(2*o),x=r[0].getX()-r[2].getX(),v=r[0].getY()-r[2].getY(),_=(r[0].getX()+r[2].getX())/2,C=(r[0].getY()+r[2].getY())/2,T=new He(_+h*x,C+h*v),R=new He(_-h*x,C-h*v);x=r[1].getX()-r[3].getX(),v=r[1].getY()-r[3].getY(),_=(r[1].getX()+r[3].getX())/2,C=(r[1].getY()+r[3].getY())/2;let B=new He(_+h*x,C+h*v),L=new He(_-h*x,C-h*v);return[T,B,R,L]}isValid(r,o){return r>=0&&r<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(r){let o=st.round(r.getX()),c=st.round(r.getY());return this.isValid(o,c)}distancePoint(r,o){return st.distance(r.getX(),r.getY(),o.getX(),o.getY())}distanceResultPoint(r,o){return st.distance(r.getX(),r.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(z.truncDivision(this.nbLayers-4,8)+1)+15}}class Ps{decode(r,o=null){let c=null,h=new Ra(r.getBlackMatrix()),x=null,v=null;try{let R=h.detectMirror(!1);x=R.getPoints(),this.reportFoundResultPoints(o,x),v=new _t().decode(R)}catch(R){c=R}if(v==null)try{let R=h.detectMirror(!0);x=R.getPoints(),this.reportFoundResultPoints(o,x),v=new _t().decode(R)}catch(R){throw c??R}let _=new he(v.getText(),v.getRawBytes(),v.getNumBits(),x,Se.AZTEC,M.currentTimeMillis()),C=v.getByteSegments();C!=null&&_.putMetadata(Ye.BYTE_SEGMENTS,C);let T=v.getECLevel();return T!=null&&_.putMetadata(Ye.ERROR_CORRECTION_LEVEL,T),_}reportFoundResultPoints(r,o){if(r!=null){let c=r.get($.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((h,x,v)=>{c.foundPossibleResultPoint(h)})}}reset(){}}class Co extends se{constructor(r=500){super(new Ps,r)}}class Gt{decode(r,o){try{return this.doDecode(r,o)}catch{if(o&&o.get($.TRY_HARDER)===!0&&r.isRotateSupported()){const x=r.rotateCounterClockwise(),v=this.doDecode(x,o),_=v.getResultMetadata();let C=270;_!==null&&_.get(Ye.ORIENTATION)===!0&&(C=C+_.get(Ye.ORIENTATION)%360),v.putMetadata(Ye.ORIENTATION,C);const T=v.getResultPoints();if(T!==null){const R=x.getHeight();for(let B=0;B<T.length;B++)T[B]=new He(R-T[B].getY()-1,T[B].getX())}return v}else throw new K}}reset(){}doDecode(r,o){const c=r.getWidth(),h=r.getHeight();let x=new U(c);const v=o&&o.get($.TRY_HARDER)===!0,_=Math.max(1,h>>(v?8:5));let C;v?C=h:C=15;const T=Math.trunc(h/2);for(let R=0;R<C;R++){const B=Math.trunc((R+1)/2),L=(R&1)===0,q=T+_*(L?B:-B);if(q<0||q>=h)break;try{x=r.getBlackRow(q,x)}catch{continue}for(let Q=0;Q<2;Q++){if(Q===1&&(x.reverse(),o&&o.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const ee=new Map;o.forEach((le,pe)=>ee.set(pe,le)),ee.delete($.NEED_RESULT_POINT_CALLBACK),o=ee}try{const ee=this.decodeRow(q,x,o);if(Q===1){ee.putMetadata(Ye.ORIENTATION,180);const le=ee.getResultPoints();le!==null&&(le[0]=new He(c-le[0].getX()-1,le[0].getY()),le[1]=new He(c-le[1].getX()-1,le[1].getY()))}return ee}catch{}}}throw new K}static recordPattern(r,o,c){const h=c.length;for(let T=0;T<h;T++)c[T]=0;const x=r.getSize();if(o>=x)throw new K;let v=!r.get(o),_=0,C=o;for(;C<x;){if(r.get(C)!==v)c[_]++;else{if(++_===h)break;c[_]=1,v=!v}C++}if(!(_===h||_===h-1&&C===x))throw new K}static recordPatternInReverse(r,o,c){let h=c.length,x=r.get(o);for(;o>0&&h>=0;)r.get(--o)!==x&&(h--,x=!x);if(h>=0)throw new K;Gt.recordPattern(r,o+1,c)}static patternMatchVariance(r,o,c){const h=r.length;let x=0,v=0;for(let T=0;T<h;T++)x+=r[T],v+=o[T];if(x<v)return Number.POSITIVE_INFINITY;const _=x/v;c*=_;let C=0;for(let T=0;T<h;T++){const R=r[T],B=o[T]*_,L=R>B?R-B:B-R;if(L>c)return Number.POSITIVE_INFINITY;C+=L}return C/x}}class te extends Gt{static findStartPattern(r){const o=r.getSize(),c=r.getNextSet(0);let h=0,x=Int32Array.from([0,0,0,0,0,0]),v=c,_=!1;const C=6;for(let T=c;T<o;T++)if(r.get(T)!==_)x[h]++;else{if(h===C-1){let R=te.MAX_AVG_VARIANCE,B=-1;for(let L=te.CODE_START_A;L<=te.CODE_START_C;L++){const q=Gt.patternMatchVariance(x,te.CODE_PATTERNS[L],te.MAX_INDIVIDUAL_VARIANCE);q<R&&(R=q,B=L)}if(B>=0&&r.isRange(Math.max(0,v-(T-v)/2),v,!1))return Int32Array.from([v,T,B]);v+=x[0]+x[1],x=x.slice(2,x.length-1),x[h-1]=0,x[h]=0,h--}else h++;x[h]=1,_=!_}throw new K}static decodeCode(r,o,c){Gt.recordPattern(r,c,o);let h=te.MAX_AVG_VARIANCE,x=-1;for(let v=0;v<te.CODE_PATTERNS.length;v++){const _=te.CODE_PATTERNS[v],C=this.patternMatchVariance(o,_,te.MAX_INDIVIDUAL_VARIANCE);C<h&&(h=C,x=v)}if(x>=0)return x;throw new K}decodeRow(r,o,c){const h=c&&c.get($.ASSUME_GS1)===!0,x=te.findStartPattern(o),v=x[2];let _=0;const C=new Uint8Array(20);C[_++]=v;let T;switch(v){case te.CODE_START_A:T=te.CODE_CODE_A;break;case te.CODE_START_B:T=te.CODE_CODE_B;break;case te.CODE_START_C:T=te.CODE_CODE_C;break;default:throw new X}let R=!1,B=!1,L="",q=x[0],Q=x[1];const ee=Int32Array.from([0,0,0,0,0,0]);let le=0,pe=0,De=v,Re=0,Te=!0,ut=!1,it=!1;for(;!R;){const hs=B;switch(B=!1,le=pe,pe=te.decodeCode(o,ee,Q),C[_++]=pe,pe!==te.CODE_STOP&&(Te=!0),pe!==te.CODE_STOP&&(Re++,De+=Re*pe),q=Q,Q+=ee.reduce((Hu,Kl)=>Hu+Kl,0),pe){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new X}switch(T){case te.CODE_CODE_A:if(pe<64)it===ut?L+=String.fromCharCode(32+pe):L+=String.fromCharCode(32+pe+128),it=!1;else if(pe<96)it===ut?L+=String.fromCharCode(pe-64):L+=String.fromCharCode(pe+64),it=!1;else switch(pe!==te.CODE_STOP&&(Te=!1),pe){case te.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!ut&&it?(ut=!0,it=!1):ut&&it?(ut=!1,it=!1):it=!0;break;case te.CODE_SHIFT:B=!0,T=te.CODE_CODE_B;break;case te.CODE_CODE_B:T=te.CODE_CODE_B;break;case te.CODE_CODE_C:T=te.CODE_CODE_C;break;case te.CODE_STOP:R=!0;break}break;case te.CODE_CODE_B:if(pe<96)it===ut?L+=String.fromCharCode(32+pe):L+=String.fromCharCode(32+pe+128),it=!1;else switch(pe!==te.CODE_STOP&&(Te=!1),pe){case te.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!ut&&it?(ut=!0,it=!1):ut&&it?(ut=!1,it=!1):it=!0;break;case te.CODE_SHIFT:B=!0,T=te.CODE_CODE_A;break;case te.CODE_CODE_A:T=te.CODE_CODE_A;break;case te.CODE_CODE_C:T=te.CODE_CODE_C;break;case te.CODE_STOP:R=!0;break}break;case te.CODE_CODE_C:if(pe<100)pe<10&&(L+="0"),L+=pe;else switch(pe!==te.CODE_STOP&&(Te=!1),pe){case te.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case te.CODE_CODE_A:T=te.CODE_CODE_A;break;case te.CODE_CODE_B:T=te.CODE_CODE_B;break;case te.CODE_STOP:R=!0;break}break}hs&&(T=T===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const bn=Q-q;if(Q=o.getNextUnset(Q),!o.isRange(Q,Math.min(o.getSize(),Q+(Q-q)/2),!1))throw new K;if(De-=Re*le,De%103!==le)throw new O;const Oi=L.length;if(Oi===0)throw new K;Oi>0&&Te&&(T===te.CODE_CODE_C?L=L.substring(0,Oi-2):L=L.substring(0,Oi-1));const ti=(x[1]+x[0])/2,Pt=q+bn/2,Gn=C.length,yi=new Uint8Array(Gn);for(let hs=0;hs<Gn;hs++)yi[hs]=C[hs];const $s=[new He(ti,r),new He(Pt,r)];return new he(L,yi,0,$s,Se.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class Ke extends Gt{constructor(r=!1,o=!1){super(),this.usingCheckDigit=r,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,o,c){let h=this.counters;h.fill(0),this.decodeRowResult="";let x=Ke.findAsteriskPattern(o,h),v=o.getNextSet(x[1]),_=o.getSize(),C,T;do{Ke.recordPattern(o,v,h);let ee=Ke.toNarrowWidePattern(h);if(ee<0)throw new K;C=Ke.patternToChar(ee),this.decodeRowResult+=C,T=v;for(let le of h)v+=le;v=o.getNextSet(v)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let ee of h)R+=ee;let B=v-T-R;if(v!==_&&B*2<R)throw new K;if(this.usingCheckDigit){let ee=this.decodeRowResult.length-1,le=0;for(let pe=0;pe<ee;pe++)le+=Ke.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(pe));if(this.decodeRowResult.charAt(ee)!==Ke.ALPHABET_STRING.charAt(le%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new K;let L;this.extendedMode?L=Ke.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;let q=(x[1]+x[0])/2,Q=T+R/2;return new he(L,null,0,[new He(q,r),new He(Q,r)],Se.CODE_39,new Date().getTime())}static findAsteriskPattern(r,o){let c=r.getSize(),h=r.getNextSet(0),x=0,v=h,_=!1,C=o.length;for(let T=h;T<c;T++)if(r.get(T)!==_)o[x]++;else{if(x===C-1){if(this.toNarrowWidePattern(o)===Ke.ASTERISK_ENCODING&&r.isRange(Math.max(0,v-Math.floor((T-v)/2)),v,!1))return[v,T];v+=o[0]+o[1],o.copyWithin(0,2,2+x-1),o[x-1]=0,o[x]=0,x--}else x++;o[x]=1,_=!_}throw new K}static toNarrowWidePattern(r){let o=r.length,c=0,h;do{let x=2147483647;for(let C of r)C<x&&C>c&&(x=C);c=x,h=0;let v=0,_=0;for(let C=0;C<o;C++){let T=r[C];T>c&&(_|=1<<o-1-C,h++,v+=T)}if(h===3){for(let C=0;C<o&&h>0;C++){let T=r[C];if(T>c&&(h--,T*2>=v))return-1}return _}}while(h>3);return-1}static patternToChar(r){for(let o=0;o<Ke.CHARACTER_ENCODINGS.length;o++)if(Ke.CHARACTER_ENCODINGS[o]===r)return Ke.ALPHABET_STRING.charAt(o);if(r===Ke.ASTERISK_ENCODING)return"*";throw new K}static decodeExtended(r){let o=r.length,c="";for(let h=0;h<o;h++){let x=r.charAt(h);if(x==="+"||x==="$"||x==="%"||x==="/"){let v=r.charAt(h+1),_="\0";switch(x){case"+":if(v>="A"&&v<="Z")_=String.fromCharCode(v.charCodeAt(0)+32);else throw new X;break;case"$":if(v>="A"&&v<="Z")_=String.fromCharCode(v.charCodeAt(0)-64);else throw new X;break;case"%":if(v>="A"&&v<="E")_=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")_=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")_=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")_=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")_="\0";else if(v==="V")_="@";else if(v==="W")_="`";else if(v==="X"||v==="Y"||v==="Z")_="";else throw new X;break;case"/":if(v>="A"&&v<="O")_=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")_=":";else throw new X;break}c+=_,h++}else c+=x}return c}}Ke.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ke.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ke.ASTERISK_ENCODING=148;class ze extends Gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,o,c){let h=this.decodeStart(o),x=this.decodeEnd(o),v=new me;ze.decodeMiddle(o,h[1],x[0],v);let _=v.toString(),C=null;c!=null&&(C=c.get($.ALLOWED_LENGTHS)),C==null&&(C=ze.DEFAULT_ALLOWED_LENGTHS);let T=_.length,R=!1,B=0;for(let Q of C){if(T===Q){R=!0;break}Q>B&&(B=Q)}if(!R&&T>B&&(R=!0),!R)throw new X;const L=[new He(h[1],r),new He(x[0],r)];return new he(_,null,0,L,Se.ITF,new Date().getTime())}static decodeMiddle(r,o,c,h){let x=new Int32Array(10),v=new Int32Array(5),_=new Int32Array(5);for(x.fill(0),v.fill(0),_.fill(0);o<c;){Gt.recordPattern(r,o,x);for(let T=0;T<5;T++){let R=2*T;v[T]=x[R],_[T]=x[R+1]}let C=ze.decodeDigit(v);h.append(C.toString()),C=this.decodeDigit(_),h.append(C.toString()),x.forEach(function(T){o+=T})}}decodeStart(r){let o=ze.skipWhiteSpace(r),c=ze.findGuardPattern(r,o,ze.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(r,c[0]),c}validateQuietZone(r,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let h=o-1;c>0&&h>=0&&!r.get(h);h--)c--;if(c!==0)throw new K}static skipWhiteSpace(r){const o=r.getSize(),c=r.getNextSet(0);if(c===o)throw new K;return c}decodeEnd(r){r.reverse();try{let o=ze.skipWhiteSpace(r),c;try{c=ze.findGuardPattern(r,o,ze.END_PATTERN_REVERSED[0])}catch(x){x instanceof K&&(c=ze.findGuardPattern(r,o,ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,c[0]);let h=c[0];return c[0]=r.getSize()-c[1],c[1]=r.getSize()-h,c}finally{r.reverse()}}static findGuardPattern(r,o,c){let h=c.length,x=new Int32Array(h),v=r.getSize(),_=!1,C=0,T=o;x.fill(0);for(let R=o;R<v;R++)if(r.get(R)!==_)x[C]++;else{if(C===h-1){if(Gt.patternMatchVariance(x,c,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return[T,R];T+=x[0]+x[1],M.arraycopy(x,2,x,0,C-1),x[C-1]=0,x[C]=0,C--}else C++;x[C]=1,_=!_}throw new K}static decodeDigit(r){let o=ze.MAX_AVG_VARIANCE,c=-1,h=ze.PATTERNS.length;for(let x=0;x<h;x++){let v=ze.PATTERNS[x],_=Gt.patternMatchVariance(r,v,ze.MAX_INDIVIDUAL_VARIANCE);_<o?(o=_,c=x):_===o&&(c=-1)}if(c>=0)return c%10;throw new K}}ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ze.MAX_AVG_VARIANCE=.38,ze.MAX_INDIVIDUAL_VARIANCE=.5,ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ze.START_PATTERN=Int32Array.from([1,1,1,1]),ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class kt extends Gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let o=!1,c,h=0,x=Int32Array.from([0,0,0]);for(;!o;){x=Int32Array.from([0,0,0]),c=kt.findGuardPattern(r,h,!1,this.START_END_PATTERN,x);let v=c[0];h=c[1];let _=v-(h-v);_>=0&&(o=r.isRange(_,v,!1))}return c}static checkChecksum(r){return kt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let c=parseInt(r.charAt(o-1),10);return kt.getStandardUPCEANChecksum(r.substring(0,o-1))===c}static getStandardUPCEANChecksum(r){let o=r.length,c=0;for(let h=o-1;h>=0;h-=2){let x=r.charAt(h).charCodeAt(0)-48;if(x<0||x>9)throw new X;c+=x}c*=3;for(let h=o-2;h>=0;h-=2){let x=r.charAt(h).charCodeAt(0)-48;if(x<0||x>9)throw new X;c+=x}return(1e3-c)%10}static decodeEnd(r,o){return kt.findGuardPattern(r,o,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,o,c,h){return this.findGuardPattern(r,o,c,h,new Int32Array(h.length))}static findGuardPattern(r,o,c,h,x){let v=r.getSize();o=c?r.getNextUnset(o):r.getNextSet(o);let _=0,C=o,T=h.length,R=c;for(let B=o;B<v;B++)if(r.get(B)!==R)x[_]++;else{if(_===T-1){if(Gt.patternMatchVariance(x,h,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return Int32Array.from([C,B]);C+=x[0]+x[1];let L=x.slice(2,x.length-1);for(let q=0;q<_-1;q++)x[q]=L[q];x[_-1]=0,x[_]=0,_--}else _++;x[_]=1,R=!R}throw new K}static decodeDigit(r,o,c,h){this.recordPattern(r,c,o);let x=this.MAX_AVG_VARIANCE,v=-1,_=h.length;for(let C=0;C<_;C++){let T=h[C],R=Gt.patternMatchVariance(o,T,kt.MAX_INDIVIDUAL_VARIANCE);R<x&&(x=R,v=C)}if(v>=0)return v;throw new K}}kt.MAX_AVG_VARIANCE=.48,kt.MAX_INDIVIDUAL_VARIANCE=.7,kt.START_END_PATTERN=Int32Array.from([1,1,1]),kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Kn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,c){let h=this.decodeRowStringBuffer,x=this.decodeMiddle(o,c,h),v=h.toString(),_=Kn.parseExtensionString(v),C=[new He((c[0]+c[1])/2,r),new He(x,r)],T=new he(v,null,0,C,Se.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&T.putAllMetadata(_),T}decodeMiddle(r,o,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=r.getSize(),v=o[1],_=0;for(let T=0;T<5&&v<x;T++){let R=kt.decodeDigit(r,h,v,kt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+R%10);for(let B of h)v+=B;R>=10&&(_|=1<<4-T),T!==4&&(v=r.getNextSet(v),v=r.getNextUnset(v))}if(c.length!==5)throw new K;let C=this.determineCheckDigit(_);if(Kn.extensionChecksum(c.toString())!==C)throw new K;return v}static extensionChecksum(r){let o=r.length,c=0;for(let h=o-2;h>=0;h-=2)c+=r.charAt(h).charCodeAt(0)-48;c*=3;for(let h=o-1;h>=0;h-=2)c+=r.charAt(h).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(r){for(let o=0;o<10;o++)if(r===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new K}static parseExtensionString(r){if(r.length!==5)return null;let o=Kn.parseExtension5String(r);return o==null?null:new Map([[Ye.SUGGESTED_PRICE,o]])}static parseExtension5String(r){let o;switch(r.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(r.substring(1)),h=(c/100).toString(),x=c%100,v=x<10?"0"+x:x.toString();return o+h+"."+v}}class Si{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,c){let h=this.decodeRowStringBuffer,x=this.decodeMiddle(o,c,h),v=h.toString(),_=Si.parseExtensionString(v),C=[new He((c[0]+c[1])/2,r),new He(x,r)],T=new he(v,null,0,C,Se.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&T.putAllMetadata(_),T}decodeMiddle(r,o,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=r.getSize(),v=o[1],_=0;for(let C=0;C<2&&v<x;C++){let T=kt.decodeDigit(r,h,v,kt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let R of h)v+=R;T>=10&&(_|=1<<1-C),C!==1&&(v=r.getNextSet(v),v=r.getNextUnset(v))}if(c.length!==2)throw new K;if(parseInt(c.toString())%4!==_)throw new K;return v}static parseExtensionString(r){return r.length!==2?null:new Map([[Ye.ISSUE_NUMBER,parseInt(r)]])}}class Ui{static decodeRow(r,o,c){let h=kt.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Kn().decodeRow(r,o,h)}catch{return new Si().decodeRow(r,o,h)}}}Ui.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class dt extends kt{constructor(){super(),this.decodeRowStringBuffer="",dt.L_AND_G_PATTERNS=dt.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let o=dt.L_PATTERNS[r-10],c=new Int32Array(o.length);for(let h=0;h<o.length;h++)c[h]=o[o.length-h-1];dt.L_AND_G_PATTERNS[r]=c}}decodeRow(r,o,c){let h=dt.findStartGuardPattern(o),x=c==null?null:c.get($.NEED_RESULT_POINT_CALLBACK);if(x!=null){const Te=new He((h[0]+h[1])/2,r);x.foundPossibleResultPoint(Te)}let v=this.decodeMiddle(o,h,this.decodeRowStringBuffer),_=v.rowOffset,C=v.resultString;if(x!=null){const Te=new He(_,r);x.foundPossibleResultPoint(Te)}let T=this.decodeEnd(o,_);if(x!=null){const Te=new He((T[0]+T[1])/2,r);x.foundPossibleResultPoint(Te)}let R=T[1],B=R+(R-T[0]);if(B>=o.getSize()||!o.isRange(R,B,!1))throw new K;let L=C.toString();if(L.length<8)throw new X;if(!dt.checkChecksum(L))throw new O;let q=(h[1]+h[0])/2,Q=(T[1]+T[0])/2,ee=this.getBarcodeFormat(),le=[new He(q,r),new He(Q,r)],pe=new he(L,null,0,le,ee,new Date().getTime()),De=0;try{let Te=Ui.decodeRow(r,o,T[1]);pe.putMetadata(Ye.UPC_EAN_EXTENSION,Te.getText()),pe.putAllMetadata(Te.getResultMetadata()),pe.addResultPoints(Te.getResultPoints()),De=Te.getText().length}catch{}let Re=c==null?null:c.get($.ALLOWED_EAN_EXTENSIONS);if(Re!=null){let Te=!1;for(let ut in Re)if(De.toString()===ut){Te=!0;break}if(!Te)throw new K}return pe}decodeEnd(r,o){return dt.findGuardPattern(r,o,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return dt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let c=parseInt(r.charAt(o-1),10);return dt.getStandardUPCEANChecksum(r.substring(0,o-1))===c}static getStandardUPCEANChecksum(r){let o=r.length,c=0;for(let h=o-1;h>=0;h-=2){let x=r.charAt(h).charCodeAt(0)-48;if(x<0||x>9)throw new X;c+=x}c*=3;for(let h=o-2;h>=0;h-=2){let x=r.charAt(h).charCodeAt(0)-48;if(x<0||x>9)throw new X;c+=x}return(1e3-c)%10}}class lr extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=r.getSize(),v=o[1],_=0;for(let T=0;T<6&&v<x;T++){let R=dt.decodeDigit(r,h,v,dt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+R%10);for(let B of h)v+=B;R>=10&&(_|=1<<5-T)}c=lr.determineFirstDigit(c,_),v=dt.findGuardPattern(r,v,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&v<x;T++){let R=dt.decodeDigit(r,h,v,dt.L_PATTERNS);c+=String.fromCharCode(48+R);for(let B of h)v+=B}return{rowOffset:v,resultString:c}}getBarcodeFormat(){return Se.EAN_13}static determineFirstDigit(r,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return r=String.fromCharCode(48+c)+r,r;throw new K}}lr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Vr extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,c){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=r.getSize(),v=o[1];for(let C=0;C<4&&v<x;C++){let T=dt.decodeDigit(r,h,v,dt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let R of h)v+=R}v=dt.findGuardPattern(r,v,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&v<x;C++){let T=dt.decodeDigit(r,h,v,dt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let R of h)v+=R}return{rowOffset:v,resultString:c}}getBarcodeFormat(){return Se.EAN_8}}class Da extends dt{constructor(){super(...arguments),this.ean13Reader=new lr}getBarcodeFormat(){return Se.UPC_A}decode(r,o){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,o,c))}decodeMiddle(r,o,c){return this.ean13Reader.decodeMiddle(r,o,c)}maybeReturnResult(r){let o=r.getText();if(o.charAt(0)==="0"){let c=new he(o.substring(1),null,null,r.getResultPoints(),Se.UPC_A);return r.getResultMetadata()!=null&&c.putAllMetadata(r.getResultMetadata()),c}else throw new K}reset(){this.ean13Reader.reset()}}class ei extends dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,o,c){const h=this.decodeMiddleCounters.map(T=>T);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const x=r.getSize();let v=o[1],_=0;for(let T=0;T<6&&v<x;T++){const R=ei.decodeDigit(r,h,v,ei.L_AND_G_PATTERNS);c+=String.fromCharCode(48+R%10);for(let B of h)v+=B;R>=10&&(_|=1<<5-T)}let C=ei.determineNumSysAndCheckDigit(c,_);return{rowOffset:v,resultString:C}}decodeEnd(r,o){return ei.findGuardPatternWithoutCounters(r,o,!0,ei.MIDDLE_END_PATTERN)}checkChecksum(r){return dt.checkChecksum(ei.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,o){for(let c=0;c<=1;c++)for(let h=0;h<10;h++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][h]){let x=String.fromCharCode(48+c),v=String.fromCharCode(48+h);return x+r+v}throw K.getNotFoundInstance()}getBarcodeFormat(){return Se.UPC_E}static convertUPCEtoUPCA(r){const o=r.slice(1,7).split("").map(x=>x.charCodeAt(0)),c=new me;c.append(r.charAt(0));let h=o[5];switch(h){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(h),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(h);break}return r.length>=8&&c.append(r.charAt(7)),c.toString()}}ei.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ei.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Fl extends Gt{constructor(r){super();let o=r==null?null:r.get($.POSSIBLE_FORMATS),c=[];s(o)?(c.push(new lr),c.push(new Da),c.push(new Vr),c.push(new ei)):(o.indexOf(Se.EAN_13)>-1&&c.push(new lr),o.indexOf(Se.UPC_A)>-1&&c.push(new Da),o.indexOf(Se.EAN_8)>-1&&c.push(new Vr),o.indexOf(Se.UPC_E)>-1&&c.push(new ei)),this.readers=c}decodeRow(r,o,c){for(let h of this.readers)try{const x=h.decodeRow(r,o,c),v=x.getBarcodeFormat()===Se.EAN_13&&x.getText().charAt(0)==="0",_=c==null?null:c.get($.POSSIBLE_FORMATS),C=_==null||_.includes(Se.UPC_A);if(v&&C){const T=x.getRawBytes(),R=new he(x.getText().substring(1),T,T?T.length:null,x.getResultPoints(),Se.UPC_A);return R.putAllMetadata(x.getResultMetadata()),R}return x}catch{}throw new K}reset(){for(let r of this.readers)r.reset()}}class Un extends Gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,o){for(let c=0;c<o.length;c++)if(Gt.patternMatchVariance(r,o[c],Un.MAX_INDIVIDUAL_VARIANCE)<Un.MAX_AVG_VARIANCE)return c;throw new K}static count(r){return st.sum(new Int32Array(r))}static increment(r,o){let c=0,h=o[0];for(let x=1;x<r.length;x++)o[x]>h&&(h=o[x],c=x);r[c]++}static decrement(r,o){let c=0,h=o[0];for(let x=1;x<r.length;x++)o[x]<h&&(h=o[x],c=x);r[c]--}static isFinderPattern(r){let o=r[0]+r[1],c=o+r[2]+r[3],h=o/c;if(h>=Un.MIN_FINDER_PATTERN_RATIO&&h<=Un.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let _ of r)_>v&&(v=_),_<x&&(x=_);return v<10*x}return!1}}Un.MAX_AVG_VARIANCE=.2,Un.MAX_INDIVIDUAL_VARIANCE=.45,Un.MIN_FINDER_PATTERN_RATIO=9.5/12,Un.MAX_FINDER_PATTERN_RATIO=12.5/14;class Gr{constructor(r,o){this.value=r,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Gr))return!1;const o=r;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class qr{constructor(r,o,c,h,x){this.value=r,this.startEnd=o,this.value=r,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new He(c,x)),this.resultPoints.push(new He(h,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof qr))return!1;const o=r;return this.value===o.value}hashCode(){return this.value}}class cr{constructor(){}static getRSSvalue(r,o,c){let h=0;for(let C of r)h+=C;let x=0,v=0,_=r.length;for(let C=0;C<_-1;C++){let T;for(T=1,v|=1<<C;T<r[C];T++,v&=~(1<<C)){let R=cr.combins(h-T-1,_-C-2);if(c&&v===0&&h-T-(_-C-1)>=_-C-1&&(R-=cr.combins(h-T-(_-C),_-C-2)),_-C-1>1){let B=0;for(let L=h-T-(_-C-2);L>o;L--)B+=cr.combins(h-T-L-1,_-C-3);R-=B*(_-1-C)}else h-T>o&&R--;x+=R}h-=T}return x}static combins(r,o){let c,h;r-o>o?(h=o,c=r-o):(h=r-o,c=o);let x=1,v=1;for(let _=r;_>c;_--)x*=_,v<=h&&(x/=v,v++);for(;v<=h;)x/=v,v++;return x}}class Tu{static buildBitArray(r){let o=r.length*2-1;r[r.length-1].getRightChar()==null&&(o-=1);let c=12*o,h=new U(c),x=0,_=r[0].getRightChar().getValue();for(let C=11;C>=0;--C)(_&1<<C)!=0&&h.set(x),x++;for(let C=1;C<r.length;++C){let T=r[C],R=T.getLeftChar().getValue();for(let B=11;B>=0;--B)(R&1<<B)!=0&&h.set(x),x++;if(T.getRightChar()!=null){let B=T.getRightChar().getValue();for(let L=11;L>=0;--L)(B&1<<L)!=0&&h.set(x),x++}}return h}}class Xr{constructor(r,o){o?this.decodedInformation=null:(this.finished=r,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class No{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Qn extends No{constructor(r,o){super(r),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Qn.FNC1}}Qn.FNC1="$";class Nr extends No{constructor(r,o,c){super(r),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class gi extends No{constructor(r,o,c){if(super(r),o<0||o>10||c<0||c>10)throw new X;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===gi.FNC1}isSecondDigitFNC1(){return this.secondDigit===gi.FNC1}isAnyFNC1(){return this.firstDigit===gi.FNC1||this.secondDigit===gi.FNC1}}gi.FNC1=10;class Fe{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new K;let o=r.substring(0,2);for(let x of Fe.TWO_DIGIT_DATA_LENGTH)if(x[0]===o)return x[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(2,x[2],r):Fe.processFixedAI(2,x[1],r);if(r.length<3)throw new K;let c=r.substring(0,3);for(let x of Fe.THREE_DIGIT_DATA_LENGTH)if(x[0]===c)return x[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(3,x[2],r):Fe.processFixedAI(3,x[1],r);for(let x of Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===c)return x[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,x[2],r):Fe.processFixedAI(4,x[1],r);if(r.length<4)throw new K;let h=r.substring(0,4);for(let x of Fe.FOUR_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,x[2],r):Fe.processFixedAI(4,x[1],r);throw new K}static processFixedAI(r,o,c){if(c.length<r)throw new K;let h=c.substring(0,r);if(c.length<r+o)throw new K;let x=c.substring(r,r+o),v=c.substring(r+o),_="("+h+")"+x,C=Fe.parseFieldsInGeneralPurpose(v);return C==null?_:_+C}static processVariableAI(r,o,c){let h=c.substring(0,r),x;c.length<r+o?x=c.length:x=r+o;let v=c.substring(r,x),_=c.substring(x),C="("+h+")"+v,T=Fe.parseFieldsInGeneralPurpose(_);return T==null?C:C+T}}Fe.VARIABLE_LENGTH=[],Fe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Fe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Fe.VARIABLE_LENGTH,20],["22",Fe.VARIABLE_LENGTH,29],["30",Fe.VARIABLE_LENGTH,8],["37",Fe.VARIABLE_LENGTH,8],["90",Fe.VARIABLE_LENGTH,30],["91",Fe.VARIABLE_LENGTH,30],["92",Fe.VARIABLE_LENGTH,30],["93",Fe.VARIABLE_LENGTH,30],["94",Fe.VARIABLE_LENGTH,30],["95",Fe.VARIABLE_LENGTH,30],["96",Fe.VARIABLE_LENGTH,30],["97",Fe.VARIABLE_LENGTH,3],["98",Fe.VARIABLE_LENGTH,30],["99",Fe.VARIABLE_LENGTH,30]],Fe.THREE_DIGIT_DATA_LENGTH=[["240",Fe.VARIABLE_LENGTH,30],["241",Fe.VARIABLE_LENGTH,30],["242",Fe.VARIABLE_LENGTH,6],["250",Fe.VARIABLE_LENGTH,30],["251",Fe.VARIABLE_LENGTH,30],["253",Fe.VARIABLE_LENGTH,17],["254",Fe.VARIABLE_LENGTH,20],["400",Fe.VARIABLE_LENGTH,30],["401",Fe.VARIABLE_LENGTH,30],["402",17],["403",Fe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Fe.VARIABLE_LENGTH,20],["421",Fe.VARIABLE_LENGTH,15],["422",3],["423",Fe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Fe.VARIABLE_LENGTH,15],["391",Fe.VARIABLE_LENGTH,18],["392",Fe.VARIABLE_LENGTH,15],["393",Fe.VARIABLE_LENGTH,18],["703",Fe.VARIABLE_LENGTH,30]],Fe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Fe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Fe.VARIABLE_LENGTH,20],["8003",Fe.VARIABLE_LENGTH,30],["8004",Fe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Fe.VARIABLE_LENGTH,30],["8008",Fe.VARIABLE_LENGTH,12],["8018",18],["8020",Fe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Fe.VARIABLE_LENGTH,70],["8200",Fe.VARIABLE_LENGTH,70]];class mi{constructor(r){this.buffer=new me,this.information=r}decodeAllCodes(r,o){let c=o,h=null;do{let x=this.decodeGeneralPurposeField(c,h),v=Fe.parseFieldsInGeneralPurpose(x.getNewString());if(v!=null&&r.append(v),x.isRemaining()?h=""+x.getRemainingValue():h=null,c===x.getNewPosition())break;c=x.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let o=r;o<r+3;++o)if(this.information.get(o))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(r,4);return x===0?new gi(this.information.getSize(),gi.FNC1,gi.FNC1):new gi(this.information.getSize(),x-1,gi.FNC1)}let o=this.extractNumericValueFromBitArray(r,7),c=(o-8)/11,h=(o-8)%11;return new gi(r+7,c,h)}extractNumericValueFromBitArray(r,o){return mi.extractNumericValueFromBitArray(this.information,r,o)}static extractNumericValueFromBitArray(r,o,c){let h=0;for(let x=0;x<c;++x)r.get(o+x)&&(h|=1<<c-x-1);return h}decodeGeneralPurposeField(r,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(r);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Nr(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Nr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),r=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),r=o.isFinished()):(o=this.parseNumericBlock(),r=o.isFinished()),!(c!==this.current.getPosition())&&!r)break}while(!r);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let o;return r.isSecondDigitFNC1()?o=new Nr(this.current.getPosition(),this.buffer.toString()):o=new Nr(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Xr(!0,o)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let o=new Nr(this.current.getPosition(),this.buffer.toString());return new Xr(!0,o)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Nr(this.current.getPosition(),this.buffer.toString());return new Xr(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Nr(this.current.getPosition(),this.buffer.toString());return new Xr(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xr(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,7);if(c>=64&&c<116)return!0;if(r+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(r,8);return h>=232&&h<253}decodeIsoIec646(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new Qn(r+5,Qn.FNC1);if(o>=5&&o<15)return new Qn(r+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(r,7);if(c>=64&&c<90)return new Qn(r+7,""+(c+1));if(c>=90&&c<116)return new Qn(r+7,""+(c+7));let h=this.extractNumericValueFromBitArray(r,8),x;switch(h){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new X}return new Qn(r+8,x)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,6);return c>=16&&c<63}decodeAlphanumeric(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new Qn(r+5,Qn.FNC1);if(o>=5&&o<15)return new Qn(r+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(r,6);if(c>=32&&c<58)return new Qn(r+6,""+(c+33));let h;switch(c){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Dn("Decoding invalid alphanumeric value: "+c)}return new Qn(r+6,h)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<5&&o+r<this.information.getSize();++o)if(o===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+o))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let o=r;o<r+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<4&&o+r<this.information.getSize();++o)if(this.information.get(r+o))return!1;return!0}}class An{constructor(r){this.information=r,this.generalDecoder=new mi(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class zt extends An{constructor(r){super(r)}encodeCompressedGtin(r,o){r.append("(01)");let c=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,o,c)}encodeCompressedGtinWithoutAI(r,o,c){for(let h=0;h<4;++h){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*h,10);x/100===0&&r.append("0"),x/10===0&&r.append("0"),r.append(x)}zt.appendCheckDigit(r,c)}static appendCheckDigit(r,o){let c=0;for(let h=0;h<13;h++){let x=r.charAt(h+o).charCodeAt(0)-48;c+=(h&1)===0?3*x:x}c=10-c%10,c===10&&(c=0),r.append(c)}}zt.GTIN_SIZE=40;class Hi extends zt{constructor(r){super(r)}parseInformation(){let r=new me;r.append("(01)");let o=r.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Hi.HEADER_SIZE,4);return r.append(c),this.encodeCompressedGtinWithoutAI(r,Hi.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(r,Hi.HEADER_SIZE+44)}}Hi.HEADER_SIZE=4;class zs extends An{constructor(r){super(r)}parseInformation(){let r=new me;return this.getGeneralDecoder().decodeAllCodes(r,zs.HEADER_SIZE)}}zs.HEADER_SIZE=5;class To extends zt{constructor(r){super(r)}encodeCompressedWeight(r,o,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(r,h);let x=this.checkWeight(h),v=1e5;for(let _=0;_<5;++_)x/v===0&&r.append("0"),v/=10;r.append(x)}}class ur extends To{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=ur.HEADER_SIZE+To.GTIN_SIZE+ur.WEIGHT_SIZE)throw new K;let r=new me;return this.encodeCompressedGtin(r,ur.HEADER_SIZE),this.encodeCompressedWeight(r,ur.HEADER_SIZE+To.GTIN_SIZE,ur.WEIGHT_SIZE),r.toString()}}ur.HEADER_SIZE=5,ur.WEIGHT_SIZE=15;class Ou extends ur{constructor(r){super(r)}addWeightCode(r,o){r.append("(3103)")}checkWeight(r){return r}}class ja extends ur{constructor(r){super(r)}addWeightCode(r,o){o<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Ci extends zt{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Ci.HEADER_SIZE+zt.GTIN_SIZE)throw new K;let r=new me;this.encodeCompressedGtin(r,Ci.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ci.HEADER_SIZE+zt.GTIN_SIZE,Ci.LAST_DIGIT_SIZE);r.append("(392"),r.append(o),r.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Ci.HEADER_SIZE+zt.GTIN_SIZE+Ci.LAST_DIGIT_SIZE,null);return r.append(c.getNewString()),r.toString()}}Ci.HEADER_SIZE=8,Ci.LAST_DIGIT_SIZE=2;class xn extends zt{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<xn.HEADER_SIZE+zt.GTIN_SIZE)throw new K;let r=new me;this.encodeCompressedGtin(r,xn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(xn.HEADER_SIZE+zt.GTIN_SIZE,xn.LAST_DIGIT_SIZE);r.append("(393"),r.append(o),r.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(xn.HEADER_SIZE+zt.GTIN_SIZE+xn.LAST_DIGIT_SIZE,xn.FIRST_THREE_DIGITS_SIZE);c/100==0&&r.append("0"),c/10==0&&r.append("0"),r.append(c);let h=this.getGeneralDecoder().decodeGeneralPurposeField(xn.HEADER_SIZE+zt.GTIN_SIZE+xn.LAST_DIGIT_SIZE+xn.FIRST_THREE_DIGITS_SIZE,null);return r.append(h.getNewString()),r.toString()}}xn.HEADER_SIZE=8,xn.LAST_DIGIT_SIZE=2,xn.FIRST_THREE_DIGITS_SIZE=10;class Mt extends To{constructor(r,o,c){super(r),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Mt.HEADER_SIZE+Mt.GTIN_SIZE+Mt.WEIGHT_SIZE+Mt.DATE_SIZE)throw new K;let r=new me;return this.encodeCompressedGtin(r,Mt.HEADER_SIZE),this.encodeCompressedWeight(r,Mt.HEADER_SIZE+Mt.GTIN_SIZE,Mt.WEIGHT_SIZE),this.encodeCompressedDate(r,Mt.HEADER_SIZE+Mt.GTIN_SIZE+Mt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Mt.DATE_SIZE);if(c==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let h=c%32;c/=32;let x=c%12+1;c/=12;let v=c;v/10==0&&r.append("0"),r.append(v),x/10==0&&r.append("0"),r.append(x),h/10==0&&r.append("0"),r.append(h)}addWeightCode(r,o){r.append("("),r.append(this.firstAIdigits),r.append(o/1e5),r.append(")")}checkWeight(r){return r%1e5}}Mt.HEADER_SIZE=8,Mt.WEIGHT_SIZE=20,Mt.DATE_SIZE=16;function Fs(I){try{if(I.get(1))return new Hi(I);if(!I.get(2))return new zs(I);switch(mi.extractNumericValueFromBitArray(I,1,4)){case 4:return new Ou(I);case 5:return new ja(I)}switch(mi.extractNumericValueFromBitArray(I,1,5)){case 12:return new Ci(I);case 13:return new xn(I)}switch(mi.extractNumericValueFromBitArray(I,1,7)){case 56:return new Mt(I,"310","11");case 57:return new Mt(I,"320","11");case 58:return new Mt(I,"310","13");case 59:return new Mt(I,"320","13");case 60:return new Mt(I,"310","15");case 61:return new Mt(I,"320","15");case 62:return new Mt(I,"310","17");case 63:return new Mt(I,"320","17")}}catch(r){throw console.log(r),new Dn("unknown decoder: "+I)}}class xi{constructor(r,o,c,h){this.leftchar=r,this.rightchar=o,this.finderpattern=c,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,o){return r instanceof xi?xi.equalsOrNull(r.leftchar,o.leftchar)&&xi.equalsOrNull(r.rightchar,o.rightchar)&&xi.equalsOrNull(r.finderpattern,o.finderpattern):!1}static equalsOrNull(r,o){return r===null?o===null:xi.equals(r,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class pn{constructor(r,o,c){this.pairs=r,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,o){return r instanceof pn?this.checkEqualitity(r,o)&&r.wasReversed===o.wasReversed:!1}checkEqualitity(r,o){if(!r||!o)return;let c;return r.forEach((h,x)=>{o.forEach(v=>{h.getLeftChar().getValue()===v.getLeftChar().getValue()&&h.getRightChar().getValue()===v.getRightChar().getValue()&&h.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(c=!0)})}),c}}class Ne extends Un{constructor(r){super(...arguments),this.pairs=new Array(Ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,o,c){this.pairs.length=0,this.startFromEven=!1;try{return Ne.constructResult(this.decodeRow2pairs(r,o))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,Ne.constructResult(this.decodeRow2pairs(r,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,r))}catch(x){if(x instanceof K){if(!this.pairs.length)throw new K;c=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(r,!1),h){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new K}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return r&&(this.rows=this.rows.reverse()),o}checkRows(r,o){for(let c=o;c<this.rows.length;c++){let h=this.rows[c];this.pairs.length=0;for(let v of r)this.pairs.push(v.getPairs());if(this.pairs.push(h.getPairs()),!Ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(r);x.push(h);try{return this.checkRows(x,c+1)}catch(v){this.verbose&&console.log(v)}}throw new K}static isValidSequence(r){for(let o of Ne.FINDER_PATTERN_SEQUENCES){if(r.length>o.length)continue;let c=!0;for(let h=0;h<r.length;h++)if(r[h].getFinderPattern().getValue()!=o[h]){c=!1;break}if(c)return!0}return!1}storeRow(r,o){let c=0,h=!1,x=!1;for(;c<this.rows.length;){let v=this.rows[c];if(v.getRowNumber()>r){x=v.isEquivalent(this.pairs);break}h=v.isEquivalent(this.pairs),c++}x||h||Ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new pn(this.pairs,r,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,o){for(let c of o)if(c.getPairs().length!==r.length){for(let h of c.getPairs())for(let x of r)if(xi.equals(h,x))break}}static isPartialRow(r,o){for(let c of o){let h=!0;for(let x of r){let v=!1;for(let _ of c.getPairs())if(x.equals(_)){v=!0;break}if(!v){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(r){let o=Tu.buildBitArray(r),h=Fs(o).parseInformation(),x=r[0].getFinderPattern().getResultPoints(),v=r[r.length-1].getFinderPattern().getResultPoints(),_=[x[0],x[1],v[0],v[1]];return new he(h,null,null,_,Se.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),o=r.getLeftChar(),c=r.getRightChar();if(c==null)return!1;let h=c.getChecksumPortion(),x=2;for(let _=1;_<this.pairs.size();++_){let C=this.pairs.get(_);h+=C.getLeftChar().getChecksumPortion(),x++;let T=C.getRightChar();T!=null&&(h+=T.getChecksumPortion(),x++)}return h%=211,211*(x-4)+h==o.getValue()}static getNextSecondBar(r,o){let c;return r.get(o)?(c=r.getNextUnset(o),c=r.getNextSet(c)):(c=r.getNextSet(o),c=r.getNextUnset(c)),c}retrieveNextPair(r,o,c){let h=o.length%2==0;this.startFromEven&&(h=!h);let x,v=!0,_=-1;do this.findNextPair(r,o,_),x=this.parseFoundFinderPattern(r,c,h),x==null?_=Ne.getNextSecondBar(r,this.startEnd[0]):v=!1;while(v);let C=this.decodeDataCharacter(r,x,h,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new K;let T;try{T=this.decodeDataCharacter(r,x,h,!1)}catch(R){T=null,this.verbose&&console.log(R)}return new xi(C,T,x,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,o,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=r.getSize(),v;c>=0?v=c:this.isEmptyPair(o)?v=0:v=o[o.length-1].getFinderPattern().getStartEnd()[1];let _=o.length%2!=0;this.startFromEven&&(_=!_);let C=!1;for(;v<x&&(C=!r.get(v),!!C);)v++;let T=0,R=v;for(let B=v;B<x;B++)if(r.get(B)!=C)h[T]++;else{if(T==3){if(_&&Ne.reverseCounters(h),Ne.isFinderPattern(h)){this.startEnd[0]=R,this.startEnd[1]=B;return}_&&Ne.reverseCounters(h),R+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,T--}else T++;h[T]=1,C=!C}throw new K}static reverseCounters(r){let o=r.length;for(let c=0;c<o/2;++c){let h=r[c];r[c]=r[o-c-1],r[o-c-1]=h}}parseFoundFinderPattern(r,o,c){let h,x,v;if(c){let T=this.startEnd[0]-1;for(;T>=0&&!r.get(T);)T--;T++,h=this.startEnd[0]-T,x=T,v=this.startEnd[1]}else x=this.startEnd[0],v=r.getNextUnset(this.startEnd[1]+1),h=v-this.startEnd[1];let _=this.getDecodeFinderCounters();M.arraycopy(_,0,_,1,_.length-1),_[0]=h;let C;try{C=this.parseFinderValue(_,Ne.FINDER_PATTERNS)}catch{return null}return new qr(C,[x,v],x,v,o)}decodeDataCharacter(r,o,c,h){let x=this.getDataCharacterCounters();for(let Pt=0;Pt<x.length;Pt++)x[Pt]=0;if(h)Ne.recordPatternInReverse(r,o.getStartEnd()[0],x);else{Ne.recordPattern(r,o.getStartEnd()[1],x);for(let Pt=0,Gn=x.length-1;Pt<Gn;Pt++,Gn--){let yi=x[Pt];x[Pt]=x[Gn],x[Gn]=yi}}let v=17,_=st.sum(new Int32Array(x))/v,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(_-C)/C>.3)throw new K;let T=this.getOddCounts(),R=this.getEvenCounts(),B=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let Pt=0;Pt<x.length;Pt++){let Gn=1*x[Pt]/_,yi=Gn+.5;if(yi<1){if(Gn<.3)throw new K;yi=1}else if(yi>8){if(Gn>8.7)throw new K;yi=8}let $s=Pt/2;(Pt&1)==0?(T[$s]=yi,B[$s]=Gn-yi):(R[$s]=yi,L[$s]=Gn-yi)}this.adjustOddEvenCounts(v);let q=4*o.getValue()+(c?0:2)+(h?0:1)-1,Q=0,ee=0;for(let Pt=T.length-1;Pt>=0;Pt--){if(Ne.isNotA1left(o,c,h)){let Gn=Ne.WEIGHTS[q][2*Pt];ee+=T[Pt]*Gn}Q+=T[Pt]}let le=0;for(let Pt=R.length-1;Pt>=0;Pt--)if(Ne.isNotA1left(o,c,h)){let Gn=Ne.WEIGHTS[q][2*Pt+1];le+=R[Pt]*Gn}let pe=ee+le;if((Q&1)!=0||Q>13||Q<4)throw new K;let De=(13-Q)/2,Re=Ne.SYMBOL_WIDEST[De],Te=9-Re,ut=cr.getRSSvalue(T,Re,!0),it=cr.getRSSvalue(R,Te,!1),bn=Ne.EVEN_TOTAL_SUBSET[De],Oi=Ne.GSUM[De],ti=ut*bn+it+Oi;return new Gr(ti,pe)}static isNotA1left(r,o,c){return!(r.getValue()==0&&o&&c)}adjustOddEvenCounts(r){let o=st.sum(new Int32Array(this.getOddCounts())),c=st.sum(new Int32Array(this.getEvenCounts())),h=!1,x=!1;o>13?x=!0:o<4&&(h=!0);let v=!1,_=!1;c>13?_=!0:c<4&&(v=!0);let C=o+c-r,T=(o&1)==1,R=(c&1)==0;if(C==1)if(T){if(R)throw new K;x=!0}else{if(!R)throw new K;_=!0}else if(C==-1)if(T){if(R)throw new K;h=!0}else{if(!R)throw new K;v=!0}else if(C==0){if(T){if(!R)throw new K;o<c?(h=!0,_=!0):(x=!0,v=!0)}else if(R)throw new K}else throw new K;if(h){if(x)throw new K;Ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(_)throw new K;Ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&Ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ne.SYMBOL_WIDEST=[7,5,4,3,1],Ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ne.GSUM=[0,348,1388,2948,3988],Ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ne.FINDER_PAT_A=0,Ne.FINDER_PAT_B=1,Ne.FINDER_PAT_C=2,Ne.FINDER_PAT_D=3,Ne.FINDER_PAT_E=4,Ne.FINDER_PAT_F=5,Ne.FINDER_PATTERN_SEQUENCES=[[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_C,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_C],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F]],Ne.MAX_PAIRS=11;class ku extends Gr{constructor(r,o,c){super(r,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bt extends Un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,o,c){const h=this.decodePair(o,!1,r,c);Bt.addOrTally(this.possibleLeftPairs,h),o.reverse();let x=this.decodePair(o,!0,r,c);Bt.addOrTally(this.possibleRightPairs,x),o.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let _ of this.possibleRightPairs)if(_.getCount()>1&&Bt.checkChecksum(v,_))return Bt.constructResult(v,_)}throw new K}static addOrTally(r,o){if(o==null)return;let c=!1;for(let h of r)if(h.getValue()===o.getValue()){h.incrementCount(),c=!0;break}c||r.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,o){let c=4537077*r.getValue()+o.getValue(),h=new String(c).toString(),x=new me;for(let T=13-h.length;T>0;T--)x.append("0");x.append(h);let v=0;for(let T=0;T<13;T++){let R=x.charAt(T).charCodeAt(0)-48;v+=(T&1)===0?3*R:R}v=10-v%10,v===10&&(v=0),x.append(v.toString());let _=r.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new he(x.toString(),null,0,[_[0],_[1],C[0],C[1]],Se.RSS_14,new Date().getTime())}static checkChecksum(r,o){let c=(r.getChecksumPortion()+16*o.getChecksumPortion())%79,h=9*r.getFinderPattern().getValue()+o.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,c===h}decodePair(r,o,c,h){try{let x=this.findFinderPattern(r,o),v=this.parseFoundFinderPattern(r,c,o,x),_=h==null?null:h.get($.NEED_RESULT_POINT_CALLBACK);if(_!=null){let R=(x[0]+x[1])/2;o&&(R=r.getSize()-1-R),_.foundPossibleResultPoint(new He(R,c))}let C=this.decodeDataCharacter(r,v,!0),T=this.decodeDataCharacter(r,v,!1);return new ku(1597*C.getValue()+T.getValue(),C.getChecksumPortion()+4*T.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(r,o,c){let h=this.getDataCharacterCounters();for(let le=0;le<h.length;le++)h[le]=0;if(c)Gt.recordPatternInReverse(r,o.getStartEnd()[0],h);else{Gt.recordPattern(r,o.getStartEnd()[1]+1,h);for(let le=0,pe=h.length-1;le<pe;le++,pe--){let De=h[le];h[le]=h[pe],h[pe]=De}}let x=c?16:15,v=st.sum(new Int32Array(h))/x,_=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let le=0;le<h.length;le++){let pe=h[le]/v,De=Math.floor(pe+.5);De<1?De=1:De>8&&(De=8);let Re=Math.floor(le/2);(le&1)===0?(_[Re]=De,T[Re]=pe-De):(C[Re]=De,R[Re]=pe-De)}this.adjustOddEvenCounts(c,x);let B=0,L=0;for(let le=_.length-1;le>=0;le--)L*=9,L+=_[le],B+=_[le];let q=0,Q=0;for(let le=C.length-1;le>=0;le--)q*=9,q+=C[le],Q+=C[le];let ee=L+3*q;if(c){if((B&1)!==0||B>12||B<4)throw new K;let le=(12-B)/2,pe=Bt.OUTSIDE_ODD_WIDEST[le],De=9-pe,Re=cr.getRSSvalue(_,pe,!1),Te=cr.getRSSvalue(C,De,!0),ut=Bt.OUTSIDE_EVEN_TOTAL_SUBSET[le],it=Bt.OUTSIDE_GSUM[le];return new Gr(Re*ut+Te+it,ee)}else{if((Q&1)!==0||Q>10||Q<4)throw new K;let le=(10-Q)/2,pe=Bt.INSIDE_ODD_WIDEST[le],De=9-pe,Re=cr.getRSSvalue(_,pe,!0),Te=cr.getRSSvalue(C,De,!1),ut=Bt.INSIDE_ODD_TOTAL_SUBSET[le],it=Bt.INSIDE_GSUM[le];return new Gr(Te*ut+Re+it,ee)}}findFinderPattern(r,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=r.getSize(),x=!1,v=0;for(;v<h&&(x=!r.get(v),o!==x);)v++;let _=0,C=v;for(let T=v;T<h;T++)if(r.get(T)!==x)c[_]++;else{if(_===3){if(Un.isFinderPattern(c))return[C,T];C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,_--}else _++;c[_]=1,x=!x}throw new K}parseFoundFinderPattern(r,o,c,h){let x=r.get(h[0]),v=h[0]-1;for(;v>=0&&x!==r.get(v);)v--;v++;const _=h[0]-v,C=this.getDecodeFinderCounters(),T=new Int32Array(C.length);M.arraycopy(C,0,T,1,C.length-1),T[0]=_;const R=this.parseFinderValue(T,Bt.FINDER_PATTERNS);let B=v,L=h[1];return c&&(B=r.getSize()-1-B,L=r.getSize()-1-L),new qr(R,[v,h[1]],B,L,o)}adjustOddEvenCounts(r,o){let c=st.sum(new Int32Array(this.getOddCounts())),h=st.sum(new Int32Array(this.getEvenCounts())),x=!1,v=!1,_=!1,C=!1;r?(c>12?v=!0:c<4&&(x=!0),h>12?C=!0:h<4&&(_=!0)):(c>11?v=!0:c<5&&(x=!0),h>10?C=!0:h<4&&(_=!0));let T=c+h-o,R=(c&1)===(r?1:0),B=(h&1)===1;if(T===1)if(R){if(B)throw new K;v=!0}else{if(!B)throw new K;C=!0}else if(T===-1)if(R){if(B)throw new K;x=!0}else{if(!B)throw new K;_=!0}else if(T===0){if(R){if(!B)throw new K;c<h?(x=!0,C=!0):(v=!0,_=!0)}else if(B)throw new K}else throw new K;if(x){if(v)throw new K;Un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(C)throw new K;Un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bt.OUTSIDE_GSUM=[0,161,961,2015,2715],Bt.INSIDE_GSUM=[0,336,1036,1516],Bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bt.INSIDE_ODD_WIDEST=[2,4,6,8],Bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Vi extends Gt{constructor(r,o){super(),this.readers=[],this.verbose=o===!0;const c=r?r.get($.POSSIBLE_FORMATS):null,h=r&&r.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(Se.EAN_13)||c.includes(Se.UPC_A)||c.includes(Se.EAN_8)||c.includes(Se.UPC_E))&&this.readers.push(new Fl(r)),c.includes(Se.CODE_39)&&this.readers.push(new Ke(h)),c.includes(Se.CODE_128)&&this.readers.push(new te),c.includes(Se.ITF)&&this.readers.push(new ze),c.includes(Se.RSS_14)&&this.readers.push(new Bt),c.includes(Se.RSS_EXPANDED)&&this.readers.push(new Ne(this.verbose))):(this.readers.push(new Fl(r)),this.readers.push(new Ke),this.readers.push(new Fl(r)),this.readers.push(new te),this.readers.push(new ze),this.readers.push(new Bt),this.readers.push(new Ne(this.verbose)))}decodeRow(r,o,c){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(r,o,c)}catch{}throw new K}reset(){this.readers.forEach(r=>r.reset())}}class qf extends se{constructor(r=500,o){super(new Vi(o),r,o)}}class Ct{constructor(r,o,c){this.ecCodewords=r,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class St{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gt{constructor(r,o,c,h,x,v){this.versionNumber=r,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=x,this.ecBlocks=v;let _=0;const C=v.getECCodewords(),T=v.getECBlocks();for(let R of T)_+=R.getCount()*(R.getDataCodewords()+C);this.totalCodewords=_}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,o){if((r&1)!==0||(o&1)!==0)throw new X;for(let c of gt.VERSIONS)if(c.symbolSizeRows===r&&c.symbolSizeColumns===o)return c;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new gt(1,10,10,8,8,new Ct(5,new St(1,3))),new gt(2,12,12,10,10,new Ct(7,new St(1,5))),new gt(3,14,14,12,12,new Ct(10,new St(1,8))),new gt(4,16,16,14,14,new Ct(12,new St(1,12))),new gt(5,18,18,16,16,new Ct(14,new St(1,18))),new gt(6,20,20,18,18,new Ct(18,new St(1,22))),new gt(7,22,22,20,20,new Ct(20,new St(1,30))),new gt(8,24,24,22,22,new Ct(24,new St(1,36))),new gt(9,26,26,24,24,new Ct(28,new St(1,44))),new gt(10,32,32,14,14,new Ct(36,new St(1,62))),new gt(11,36,36,16,16,new Ct(42,new St(1,86))),new gt(12,40,40,18,18,new Ct(48,new St(1,114))),new gt(13,44,44,20,20,new Ct(56,new St(1,144))),new gt(14,48,48,22,22,new Ct(68,new St(1,174))),new gt(15,52,52,24,24,new Ct(42,new St(2,102))),new gt(16,64,64,14,14,new Ct(56,new St(2,140))),new gt(17,72,72,16,16,new Ct(36,new St(4,92))),new gt(18,80,80,18,18,new Ct(48,new St(4,114))),new gt(19,88,88,20,20,new Ct(56,new St(4,144))),new gt(20,96,96,22,22,new Ct(68,new St(4,174))),new gt(21,104,104,24,24,new Ct(56,new St(6,136))),new gt(22,120,120,18,18,new Ct(68,new St(6,175))),new gt(23,132,132,20,20,new Ct(62,new St(8,163))),new gt(24,144,144,22,22,new Ct(62,new St(8,156),new St(2,155))),new gt(25,8,18,6,16,new Ct(7,new St(1,5))),new gt(26,8,32,6,14,new Ct(11,new St(1,10))),new gt(27,12,26,10,24,new Ct(14,new St(1,16))),new gt(28,12,36,10,16,new Ct(18,new St(1,22))),new gt(29,16,36,14,16,new Ct(24,new St(1,32))),new gt(30,16,48,14,22,new Ct(28,new St(1,49)))]}}gt.VERSIONS=gt.buildVersions();class Us{constructor(r){const o=r.getHeight();if(o<8||o>144||(o&1)!==0)throw new X;this.version=Us.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const o=r.getHeight(),c=r.getWidth();return gt.getVersionForDimensions(o,c)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,h=0;const x=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let _=!1,C=!1,T=!1,R=!1;do if(c===x&&h===0&&!_)r[o++]=this.readCorner1(x,v)&255,c-=2,h+=2,_=!0;else if(c===x-2&&h===0&&(v&3)!==0&&!C)r[o++]=this.readCorner2(x,v)&255,c-=2,h+=2,C=!0;else if(c===x+4&&h===2&&(v&7)===0&&!T)r[o++]=this.readCorner3(x,v)&255,c-=2,h+=2,T=!0;else if(c===x-2&&h===0&&(v&7)===4&&!R)r[o++]=this.readCorner4(x,v)&255,c-=2,h+=2,R=!0;else{do c<x&&h>=0&&!this.readMappingMatrix.get(h,c)&&(r[o++]=this.readUtah(c,h,x,v)&255),c-=2,h+=2;while(c>=0&&h<v);c+=1,h+=3;do c>=0&&h<v&&!this.readMappingMatrix.get(h,c)&&(r[o++]=this.readUtah(c,h,x,v)&255),c+=2,h-=2;while(c<x&&h>=0);c+=3,h+=1}while(c<x||h<v);if(o!==this.version.getTotalCodewords())throw new X;return r}readModule(r,o,c,h){return r<0&&(r+=c,o+=4-(c+4&7)),o<0&&(o+=h,r+=4-(h+4&7)),this.readMappingMatrix.set(o,r),this.mappingBitMatrix.get(o,r)}readUtah(r,o,c,h){let x=0;return this.readModule(r-2,o-2,c,h)&&(x|=1),x<<=1,this.readModule(r-2,o-1,c,h)&&(x|=1),x<<=1,this.readModule(r-1,o-2,c,h)&&(x|=1),x<<=1,this.readModule(r-1,o-1,c,h)&&(x|=1),x<<=1,this.readModule(r-1,o,c,h)&&(x|=1),x<<=1,this.readModule(r,o-2,c,h)&&(x|=1),x<<=1,this.readModule(r,o-1,c,h)&&(x|=1),x<<=1,this.readModule(r,o,c,h)&&(x|=1),x}readCorner1(r,o){let c=0;return this.readModule(r-1,0,r,o)&&(c|=1),c<<=1,this.readModule(r-1,1,r,o)&&(c|=1),c<<=1,this.readModule(r-1,2,r,o)&&(c|=1),c<<=1,this.readModule(0,o-2,r,o)&&(c|=1),c<<=1,this.readModule(0,o-1,r,o)&&(c|=1),c<<=1,this.readModule(1,o-1,r,o)&&(c|=1),c<<=1,this.readModule(2,o-1,r,o)&&(c|=1),c<<=1,this.readModule(3,o-1,r,o)&&(c|=1),c}readCorner2(r,o){let c=0;return this.readModule(r-3,0,r,o)&&(c|=1),c<<=1,this.readModule(r-2,0,r,o)&&(c|=1),c<<=1,this.readModule(r-1,0,r,o)&&(c|=1),c<<=1,this.readModule(0,o-4,r,o)&&(c|=1),c<<=1,this.readModule(0,o-3,r,o)&&(c|=1),c<<=1,this.readModule(0,o-2,r,o)&&(c|=1),c<<=1,this.readModule(0,o-1,r,o)&&(c|=1),c<<=1,this.readModule(1,o-1,r,o)&&(c|=1),c}readCorner3(r,o){let c=0;return this.readModule(r-1,0,r,o)&&(c|=1),c<<=1,this.readModule(r-1,o-1,r,o)&&(c|=1),c<<=1,this.readModule(0,o-3,r,o)&&(c|=1),c<<=1,this.readModule(0,o-2,r,o)&&(c|=1),c<<=1,this.readModule(0,o-1,r,o)&&(c|=1),c<<=1,this.readModule(1,o-3,r,o)&&(c|=1),c<<=1,this.readModule(1,o-2,r,o)&&(c|=1),c<<=1,this.readModule(1,o-1,r,o)&&(c|=1),c}readCorner4(r,o){let c=0;return this.readModule(r-3,0,r,o)&&(c|=1),c<<=1,this.readModule(r-2,0,r,o)&&(c|=1),c<<=1,this.readModule(r-1,0,r,o)&&(c|=1),c<<=1,this.readModule(0,o-2,r,o)&&(c|=1),c<<=1,this.readModule(0,o-1,r,o)&&(c|=1),c<<=1,this.readModule(1,o-1,r,o)&&(c|=1),c<<=1,this.readModule(2,o-1,r,o)&&(c|=1),c<<=1,this.readModule(3,o-1,r,o)&&(c|=1),c}extractDataRegion(r){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(r.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),v=o/h|0,_=c/x|0,C=v*h,T=_*x,R=new ke(T,C);for(let B=0;B<v;++B){const L=B*h;for(let q=0;q<_;++q){const Q=q*x;for(let ee=0;ee<h;++ee){const le=B*(h+2)+1+ee,pe=L+ee;for(let De=0;De<x;++De){const Re=q*(x+2)+1+De;if(r.get(Re,le)){const Te=Q+De;R.set(Te,pe)}}}}}return R}}class Hs{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o){const c=o.getECBlocks();let h=0;const x=c.getECBlocks();for(let ee of x)h+=ee.getCount();const v=new Array(h);let _=0;for(let ee of x)for(let le=0;le<ee.getCount();le++){const pe=ee.getDataCodewords(),De=c.getECCodewords()+pe;v[_++]=new Hs(pe,new Uint8Array(De))}const T=v[0].codewords.length-c.getECCodewords(),R=T-1;let B=0;for(let ee=0;ee<R;ee++)for(let le=0;le<_;le++)v[le].codewords[ee]=r[B++];const L=o.getVersionNumber()===24,q=L?8:_;for(let ee=0;ee<q;ee++)v[ee].codewords[T-1]=r[B++];const Q=v[0].codewords.length;for(let ee=T;ee<Q;ee++)for(let le=0;le<_;le++){const pe=L?(le+8)%_:le,De=L&&pe>7?ee-1:ee;v[pe].codewords[De]=r[B++]}if(B!==r.length)throw new E;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Gi{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new E(""+r);let o=0,c=this.bitOffset,h=this.byteOffset;const x=this.bytes;if(c>0){const v=8-c,_=r<v?r:v,C=v-_,T=255>>8-_<<C;o=(x[h]&T)>>C,r-=_,c+=_,c===8&&(c=0,h++)}if(r>0){for(;r>=8;)o=o<<8|x[h]&255,h++,r-=8;if(r>0){const v=8-r,_=255>>v<<v;o=o<<r|(x[h]&_)>>v,c+=r}}return this.bitOffset=c,this.byteOffset=h,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nt;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nt||(Nt={}));class Tr{static decode(r){const o=new Gi(r),c=new me,h=new me,x=new Array;let v=Nt.ASCII_ENCODE;do if(v===Nt.ASCII_ENCODE)v=this.decodeAsciiSegment(o,c,h);else{switch(v){case Nt.C40_ENCODE:this.decodeC40Segment(o,c);break;case Nt.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case Nt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case Nt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case Nt.BASE256_ENCODE:this.decodeBase256Segment(o,c,x);break;default:throw new X}v=Nt.ASCII_ENCODE}while(v!==Nt.PAD_ENCODE&&o.available()>0);return h.length()>0&&c.append(h.toString()),new Pe(r,c.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(r,o,c){let h=!1;do{let x=r.readBits(8);if(x===0)throw new X;if(x<=128)return h&&(x+=128),o.append(String.fromCharCode(x-1)),Nt.ASCII_ENCODE;if(x===129)return Nt.PAD_ENCODE;if(x<=229){const v=x-130;v<10&&o.append("0"),o.append(""+v)}else switch(x){case 230:return Nt.C40_ENCODE;case 231:return Nt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return Nt.ANSIX12_ENCODE;case 239:return Nt.TEXT_ENCODE;case 240:return Nt.EDIFACT_ENCODE;case 241:break;default:if(x!==254||r.available()!==0)throw new X;break}}while(r.available()>0);return Nt.ASCII_ENCODE}static decodeC40Segment(r,o){let c=!1;const h=[];let x=0;do{if(r.available()===8)return;const v=r.readBits(8);if(v===254)return;this.parseTwoBytes(v,r.readBits(8),h);for(let _=0;_<3;_++){const C=h[_];switch(x){case 0:if(C<3)x=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[C];c?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):o.append(T)}else throw new X;break;case 1:c?(o.append(String.fromCharCode(C+128)),c=!1):o.append(String.fromCharCode(C)),x=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[C];c?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):o.append(T)}else switch(C){case 27:o.append("");break;case 30:c=!0;break;default:throw new X}x=0;break;case 3:c?(o.append(String.fromCharCode(C+224)),c=!1):o.append(String.fromCharCode(C+96)),x=0;break;default:throw new X}}}while(r.available()>0)}static decodeTextSegment(r,o){let c=!1,h=[],x=0;do{if(r.available()===8)return;const v=r.readBits(8);if(v===254)return;this.parseTwoBytes(v,r.readBits(8),h);for(let _=0;_<3;_++){const C=h[_];switch(x){case 0:if(C<3)x=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[C];c?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):o.append(T)}else throw new X;break;case 1:c?(o.append(String.fromCharCode(C+128)),c=!1):o.append(String.fromCharCode(C)),x=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[C];c?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):o.append(T)}else switch(C){case 27:o.append("");break;case 30:c=!0;break;default:throw new X}x=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[C];c?(o.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):o.append(T),x=0}else throw new X;break;default:throw new X}}}while(r.available()>0)}static decodeAnsiX12Segment(r,o){const c=[];do{if(r.available()===8)return;const h=r.readBits(8);if(h===254)return;this.parseTwoBytes(h,r.readBits(8),c);for(let x=0;x<3;x++){const v=c[x];switch(v){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(v<14)o.append(String.fromCharCode(v+44));else if(v<40)o.append(String.fromCharCode(v+51));else throw new X;break}}}while(r.available()>0)}static parseTwoBytes(r,o,c){let h=(r<<8)+o-1,x=Math.floor(h/1600);c[0]=x,h-=x*1600,x=Math.floor(h/40),c[1]=x,c[2]=h-x*40}static decodeEdifactSegment(r,o){do{if(r.available()<=16)return;for(let c=0;c<4;c++){let h=r.readBits(6);if(h===31){const x=8-r.getBitOffset();x!==8&&r.readBits(x);return}(h&32)===0&&(h|=64),o.append(String.fromCharCode(h))}}while(r.available()>0)}static decodeBase256Segment(r,o,c){let h=1+r.getByteOffset();const x=this.unrandomize255State(r.readBits(8),h++);let v;if(x===0?v=r.available()/8|0:x<250?v=x:v=250*(x-249)+this.unrandomize255State(r.readBits(8),h++),v<0)throw new X;const _=new Uint8Array(v);for(let C=0;C<v;C++){if(r.available()<8)throw new X;_[C]=this.unrandomize255State(r.readBits(8),h++)}c.push(_);try{o.append(Ee.decode(_,xe.ISO88591))}catch(C){throw new Dn("Platform does not support required encoding: "+C.message)}}static unrandomize255State(r,o){const c=149*o%255+1,h=r-c;return h>=0?h:h+256}}Tr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Tr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Tr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Tr.TEXT_SHIFT2_SET_CHARS=Tr.C40_SHIFT2_SET_CHARS,Tr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Xf{constructor(){this.rsDecoder=new Cr(ht.DATA_MATRIX_FIELD_256)}decode(r){const o=new Us(r),c=o.getVersion(),h=o.readCodewords(),x=Hs.getDataBlocks(h,c);let v=0;for(let T of x)v+=T.getNumDataCodewords();const _=new Uint8Array(v),C=x.length;for(let T=0;T<C;T++){const R=x[T],B=R.getCodewords(),L=R.getNumDataCodewords();this.correctErrors(B,L);for(let q=0;q<L;q++)_[q*C+T]=B[q]}return Tr.decode(_)}correctErrors(r,o){const c=new Int32Array(r);try{this.rsDecoder.decode(c,r.length-o)}catch{throw new O}for(let h=0;h<o;h++)r[h]=c[h]}}class nn{constructor(r){this.image=r,this.rectangleDetector=new tn(this.image)}detect(){const r=this.rectangleDetector.detect();let o=this.detectSolid1(r);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new K;o=this.shiftToModuleCenter(o);const c=o[0],h=o[1],x=o[2],v=o[3];let _=this.transitionsBetween(c,v)+1,C=this.transitionsBetween(x,v)+1;(_&1)===1&&(_+=1),(C&1)===1&&(C+=1),4*_<7*C&&4*C<7*_&&(_=C=Math.max(_,C));let T=nn.sampleGrid(this.image,c,h,x,v,_,C);return new Ls(T,[c,h,x,v])}static shiftPoint(r,o,c){let h=(o.getX()-r.getX())/(c+1),x=(o.getY()-r.getY())/(c+1);return new He(r.getX()+h,r.getY()+x)}static moveAway(r,o,c){let h=r.getX(),x=r.getY();return h<o?h-=1:h+=1,x<c?x-=1:x+=1,new He(h,x)}detectSolid1(r){let o=r[0],c=r[1],h=r[3],x=r[2],v=this.transitionsBetween(o,c),_=this.transitionsBetween(c,h),C=this.transitionsBetween(h,x),T=this.transitionsBetween(x,o),R=v,B=[x,o,c,h];return R>_&&(R=_,B[0]=o,B[1]=c,B[2]=h,B[3]=x),R>C&&(R=C,B[0]=c,B[1]=h,B[2]=x,B[3]=o),R>T&&(B[0]=h,B[1]=x,B[2]=o,B[3]=c),B}detectSolid2(r){let o=r[0],c=r[1],h=r[2],x=r[3],v=this.transitionsBetween(o,x),_=nn.shiftPoint(c,h,(v+1)*4),C=nn.shiftPoint(h,c,(v+1)*4),T=this.transitionsBetween(_,o),R=this.transitionsBetween(C,x);return T<R?(r[0]=o,r[1]=c,r[2]=h,r[3]=x):(r[0]=c,r[1]=h,r[2]=x,r[3]=o),r}correctTopRight(r){let o=r[0],c=r[1],h=r[2],x=r[3],v=this.transitionsBetween(o,x),_=this.transitionsBetween(c,x),C=nn.shiftPoint(o,c,(_+1)*4),T=nn.shiftPoint(h,c,(v+1)*4);v=this.transitionsBetween(C,x),_=this.transitionsBetween(T,x);let R=new He(x.getX()+(h.getX()-c.getX())/(v+1),x.getY()+(h.getY()-c.getY())/(v+1)),B=new He(x.getX()+(o.getX()-c.getX())/(_+1),x.getY()+(o.getY()-c.getY())/(_+1));if(!this.isValid(R))return this.isValid(B)?B:null;if(!this.isValid(B))return R;let L=this.transitionsBetween(C,R)+this.transitionsBetween(T,R),q=this.transitionsBetween(C,B)+this.transitionsBetween(T,B);return L>q?R:B}shiftToModuleCenter(r){let o=r[0],c=r[1],h=r[2],x=r[3],v=this.transitionsBetween(o,x)+1,_=this.transitionsBetween(h,x)+1,C=nn.shiftPoint(o,c,_*4),T=nn.shiftPoint(h,c,v*4);v=this.transitionsBetween(C,x)+1,_=this.transitionsBetween(T,x)+1,(v&1)===1&&(v+=1),(_&1)===1&&(_+=1);let R=(o.getX()+c.getX()+h.getX()+x.getX())/4,B=(o.getY()+c.getY()+h.getY()+x.getY())/4;o=nn.moveAway(o,R,B),c=nn.moveAway(c,R,B),h=nn.moveAway(h,R,B),x=nn.moveAway(x,R,B);let L,q;return C=nn.shiftPoint(o,c,_*4),C=nn.shiftPoint(C,x,v*4),L=nn.shiftPoint(c,o,_*4),L=nn.shiftPoint(L,h,v*4),T=nn.shiftPoint(h,x,_*4),T=nn.shiftPoint(T,c,v*4),q=nn.shiftPoint(x,h,_*4),q=nn.shiftPoint(q,o,v*4),[C,L,T,q]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,o,c,h,x,v,_){return hi.getInstance().sampleGrid(r,v,_,.5,.5,v-.5,.5,v-.5,_-.5,.5,_-.5,o.getX(),o.getY(),x.getX(),x.getY(),h.getX(),h.getY(),c.getX(),c.getY())}transitionsBetween(r,o){let c=Math.trunc(r.getX()),h=Math.trunc(r.getY()),x=Math.trunc(o.getX()),v=Math.trunc(o.getY()),_=Math.abs(v-h)>Math.abs(x-c);if(_){let ee=c;c=h,h=ee,ee=x,x=v,v=ee}let C=Math.abs(x-c),T=Math.abs(v-h),R=-C/2,B=h<v?1:-1,L=c<x?1:-1,q=0,Q=this.image.get(_?h:c,_?c:h);for(let ee=c,le=h;ee!==x;ee+=L){let pe=this.image.get(_?le:ee,_?ee:le);if(pe!==Q&&(q++,Q=pe),R+=T,R>0){if(le===v)break;le+=B,R-=C}}return q}}class Or{constructor(){this.decoder=new Xf}decode(r,o=null){let c,h;if(o!=null&&o.has($.PURE_BARCODE)){const T=Or.extractPureBits(r.getBlackMatrix());c=this.decoder.decode(T),h=Or.NO_POINTS}else{const T=new nn(r.getBlackMatrix()).detect();c=this.decoder.decode(T.getBits()),h=T.getPoints()}const x=c.getRawBytes(),v=new he(c.getText(),x,8*x.length,h,Se.DATA_MATRIX,M.currentTimeMillis()),_=c.getByteSegments();_!=null&&v.putMetadata(Ye.BYTE_SEGMENTS,_);const C=c.getECLevel();return C!=null&&v.putMetadata(Ye.ERROR_CORRECTION_LEVEL,C),v}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),c=r.getBottomRightOnBit();if(o==null||c==null)throw new K;const h=this.moduleSize(o,r);let x=o[1];const v=c[1];let _=o[0];const T=(c[0]-_+1)/h,R=(v-x+1)/h;if(T<=0||R<=0)throw new K;const B=h/2;x+=B,_+=B;const L=new ke(T,R);for(let q=0;q<R;q++){const Q=x+q*h;for(let ee=0;ee<T;ee++)r.get(_+ee*h,Q)&&L.set(ee,q)}return L}static moduleSize(r,o){const c=o.getWidth();let h=r[0];const x=r[1];for(;h<c&&o.get(h,x);)h++;if(h===c)throw new K;const v=h-r[0];if(v===0)throw new K;return v}}Or.NO_POINTS=[];class Oo extends se{constructor(r=500){super(new Or,r)}}var Vs;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(Vs||(Vs={}));class ft{constructor(r,o,c){this.value=r,this.stringValue=o,this.bits=c,ft.FOR_BITS.set(c,this),ft.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return ft.L;case"M":return ft.M;case"Q":return ft.Q;case"H":return ft.H;default:throw new w(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof ft))return!1;const o=r;return this.value===o.value}static forBits(r){if(r<0||r>=ft.FOR_BITS.size)throw new E;return ft.FOR_BITS.get(r)}}ft.FOR_BITS=new Map,ft.FOR_VALUE=new Map,ft.L=new ft(Vs.L,"L",1),ft.M=new ft(Vs.M,"M",0),ft.Q=new ft(Vs.Q,"Q",3),ft.H=new ft(Vs.H,"H",2);class jn{constructor(r){this.errorCorrectionLevel=ft.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,o){return z.bitCount(r^o)}static decodeFormatInformation(r,o){const c=jn.doDecodeFormatInformation(r,o);return c!==null?c:jn.doDecodeFormatInformation(r^jn.FORMAT_INFO_MASK_QR,o^jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,o){let c=Number.MAX_SAFE_INTEGER,h=0;for(const x of jn.FORMAT_INFO_DECODE_LOOKUP){const v=x[0];if(v===r||v===o)return new jn(x[1]);let _=jn.numBitsDiffering(r,v);_<c&&(h=x[1],c=_),r!==o&&(_=jn.numBitsDiffering(o,v),_<c&&(h=x[1],c=_))}return c<=3?new jn(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof jn))return!1;const o=r;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}jn.FORMAT_INFO_MASK_QR=21522,jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(r,...o){this.ecCodewordsPerBlock=r,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const o=this.ecBlocks;for(const c of o)r+=c.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class V{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(r,o,...c){this.versionNumber=r,this.alignmentPatternCenters=o,this.ecBlocks=c;let h=0;const x=c[0].getECCodewordsPerBlock(),v=c[0].getECBlocks();for(const _ of v)h+=_.getCount()*(_.getDataCodewords()+x);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new X;try{return this.getVersionForNumber((r-17)/4)}catch{throw new X}}static getVersionForNumber(r){if(r<1||r>40)throw new E;return qe.VERSIONS[r-1]}static decodeVersionInformation(r){let o=Number.MAX_SAFE_INTEGER,c=0;for(let h=0;h<qe.VERSION_DECODE_INFO.length;h++){const x=qe.VERSION_DECODE_INFO[h];if(x===r)return qe.getVersionForNumber(h+7);const v=jn.numBitsDiffering(r,x);v<o&&(c=h+7,o=v)}return o<=3?qe.getVersionForNumber(c):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),o=new ke(r);o.setRegion(0,0,9,9),o.setRegion(r-8,0,8,9),o.setRegion(0,r-8,9,8);const c=this.alignmentPatternCenters.length;for(let h=0;h<c;h++){const x=this.alignmentPatternCenters[h]-2;for(let v=0;v<c;v++)h===0&&(v===0||v===c-1)||h===c-1&&v===0||o.setRegion(this.alignmentPatternCenters[v]-2,x,5,5)}return o.setRegion(6,9,1,r-17),o.setRegion(9,6,r-17,1),this.versionNumber>6&&(o.setRegion(r-11,0,3,6),o.setRegion(0,r-11,6,3)),o}toString(){return""+this.versionNumber}}qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),qe.VERSIONS=[new qe(1,new Int32Array(0),new ce(7,new V(1,19)),new ce(10,new V(1,16)),new ce(13,new V(1,13)),new ce(17,new V(1,9))),new qe(2,Int32Array.from([6,18]),new ce(10,new V(1,34)),new ce(16,new V(1,28)),new ce(22,new V(1,22)),new ce(28,new V(1,16))),new qe(3,Int32Array.from([6,22]),new ce(15,new V(1,55)),new ce(26,new V(1,44)),new ce(18,new V(2,17)),new ce(22,new V(2,13))),new qe(4,Int32Array.from([6,26]),new ce(20,new V(1,80)),new ce(18,new V(2,32)),new ce(26,new V(2,24)),new ce(16,new V(4,9))),new qe(5,Int32Array.from([6,30]),new ce(26,new V(1,108)),new ce(24,new V(2,43)),new ce(18,new V(2,15),new V(2,16)),new ce(22,new V(2,11),new V(2,12))),new qe(6,Int32Array.from([6,34]),new ce(18,new V(2,68)),new ce(16,new V(4,27)),new ce(24,new V(4,19)),new ce(28,new V(4,15))),new qe(7,Int32Array.from([6,22,38]),new ce(20,new V(2,78)),new ce(18,new V(4,31)),new ce(18,new V(2,14),new V(4,15)),new ce(26,new V(4,13),new V(1,14))),new qe(8,Int32Array.from([6,24,42]),new ce(24,new V(2,97)),new ce(22,new V(2,38),new V(2,39)),new ce(22,new V(4,18),new V(2,19)),new ce(26,new V(4,14),new V(2,15))),new qe(9,Int32Array.from([6,26,46]),new ce(30,new V(2,116)),new ce(22,new V(3,36),new V(2,37)),new ce(20,new V(4,16),new V(4,17)),new ce(24,new V(4,12),new V(4,13))),new qe(10,Int32Array.from([6,28,50]),new ce(18,new V(2,68),new V(2,69)),new ce(26,new V(4,43),new V(1,44)),new ce(24,new V(6,19),new V(2,20)),new ce(28,new V(6,15),new V(2,16))),new qe(11,Int32Array.from([6,30,54]),new ce(20,new V(4,81)),new ce(30,new V(1,50),new V(4,51)),new ce(28,new V(4,22),new V(4,23)),new ce(24,new V(3,12),new V(8,13))),new qe(12,Int32Array.from([6,32,58]),new ce(24,new V(2,92),new V(2,93)),new ce(22,new V(6,36),new V(2,37)),new ce(26,new V(4,20),new V(6,21)),new ce(28,new V(7,14),new V(4,15))),new qe(13,Int32Array.from([6,34,62]),new ce(26,new V(4,107)),new ce(22,new V(8,37),new V(1,38)),new ce(24,new V(8,20),new V(4,21)),new ce(22,new V(12,11),new V(4,12))),new qe(14,Int32Array.from([6,26,46,66]),new ce(30,new V(3,115),new V(1,116)),new ce(24,new V(4,40),new V(5,41)),new ce(20,new V(11,16),new V(5,17)),new ce(24,new V(11,12),new V(5,13))),new qe(15,Int32Array.from([6,26,48,70]),new ce(22,new V(5,87),new V(1,88)),new ce(24,new V(5,41),new V(5,42)),new ce(30,new V(5,24),new V(7,25)),new ce(24,new V(11,12),new V(7,13))),new qe(16,Int32Array.from([6,26,50,74]),new ce(24,new V(5,98),new V(1,99)),new ce(28,new V(7,45),new V(3,46)),new ce(24,new V(15,19),new V(2,20)),new ce(30,new V(3,15),new V(13,16))),new qe(17,Int32Array.from([6,30,54,78]),new ce(28,new V(1,107),new V(5,108)),new ce(28,new V(10,46),new V(1,47)),new ce(28,new V(1,22),new V(15,23)),new ce(28,new V(2,14),new V(17,15))),new qe(18,Int32Array.from([6,30,56,82]),new ce(30,new V(5,120),new V(1,121)),new ce(26,new V(9,43),new V(4,44)),new ce(28,new V(17,22),new V(1,23)),new ce(28,new V(2,14),new V(19,15))),new qe(19,Int32Array.from([6,30,58,86]),new ce(28,new V(3,113),new V(4,114)),new ce(26,new V(3,44),new V(11,45)),new ce(26,new V(17,21),new V(4,22)),new ce(26,new V(9,13),new V(16,14))),new qe(20,Int32Array.from([6,34,62,90]),new ce(28,new V(3,107),new V(5,108)),new ce(26,new V(3,41),new V(13,42)),new ce(30,new V(15,24),new V(5,25)),new ce(28,new V(15,15),new V(10,16))),new qe(21,Int32Array.from([6,28,50,72,94]),new ce(28,new V(4,116),new V(4,117)),new ce(26,new V(17,42)),new ce(28,new V(17,22),new V(6,23)),new ce(30,new V(19,16),new V(6,17))),new qe(22,Int32Array.from([6,26,50,74,98]),new ce(28,new V(2,111),new V(7,112)),new ce(28,new V(17,46)),new ce(30,new V(7,24),new V(16,25)),new ce(24,new V(34,13))),new qe(23,Int32Array.from([6,30,54,78,102]),new ce(30,new V(4,121),new V(5,122)),new ce(28,new V(4,47),new V(14,48)),new ce(30,new V(11,24),new V(14,25)),new ce(30,new V(16,15),new V(14,16))),new qe(24,Int32Array.from([6,28,54,80,106]),new ce(30,new V(6,117),new V(4,118)),new ce(28,new V(6,45),new V(14,46)),new ce(30,new V(11,24),new V(16,25)),new ce(30,new V(30,16),new V(2,17))),new qe(25,Int32Array.from([6,32,58,84,110]),new ce(26,new V(8,106),new V(4,107)),new ce(28,new V(8,47),new V(13,48)),new ce(30,new V(7,24),new V(22,25)),new ce(30,new V(22,15),new V(13,16))),new qe(26,Int32Array.from([6,30,58,86,114]),new ce(28,new V(10,114),new V(2,115)),new ce(28,new V(19,46),new V(4,47)),new ce(28,new V(28,22),new V(6,23)),new ce(30,new V(33,16),new V(4,17))),new qe(27,Int32Array.from([6,34,62,90,118]),new ce(30,new V(8,122),new V(4,123)),new ce(28,new V(22,45),new V(3,46)),new ce(30,new V(8,23),new V(26,24)),new ce(30,new V(12,15),new V(28,16))),new qe(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new V(3,117),new V(10,118)),new ce(28,new V(3,45),new V(23,46)),new ce(30,new V(4,24),new V(31,25)),new ce(30,new V(11,15),new V(31,16))),new qe(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new V(7,116),new V(7,117)),new ce(28,new V(21,45),new V(7,46)),new ce(30,new V(1,23),new V(37,24)),new ce(30,new V(19,15),new V(26,16))),new qe(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new V(5,115),new V(10,116)),new ce(28,new V(19,47),new V(10,48)),new ce(30,new V(15,24),new V(25,25)),new ce(30,new V(23,15),new V(25,16))),new qe(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new V(13,115),new V(3,116)),new ce(28,new V(2,46),new V(29,47)),new ce(30,new V(42,24),new V(1,25)),new ce(30,new V(23,15),new V(28,16))),new qe(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new V(17,115)),new ce(28,new V(10,46),new V(23,47)),new ce(30,new V(10,24),new V(35,25)),new ce(30,new V(19,15),new V(35,16))),new qe(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new V(17,115),new V(1,116)),new ce(28,new V(14,46),new V(21,47)),new ce(30,new V(29,24),new V(19,25)),new ce(30,new V(11,15),new V(46,16))),new qe(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new V(13,115),new V(6,116)),new ce(28,new V(14,46),new V(23,47)),new ce(30,new V(44,24),new V(7,25)),new ce(30,new V(59,16),new V(1,17))),new qe(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new V(12,121),new V(7,122)),new ce(28,new V(12,47),new V(26,48)),new ce(30,new V(39,24),new V(14,25)),new ce(30,new V(22,15),new V(41,16))),new qe(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new V(6,121),new V(14,122)),new ce(28,new V(6,47),new V(34,48)),new ce(30,new V(46,24),new V(10,25)),new ce(30,new V(2,15),new V(64,16))),new qe(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new V(17,122),new V(4,123)),new ce(28,new V(29,46),new V(14,47)),new ce(30,new V(49,24),new V(10,25)),new ce(30,new V(24,15),new V(46,16))),new qe(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new V(4,122),new V(18,123)),new ce(28,new V(13,46),new V(32,47)),new ce(30,new V(48,24),new V(14,25)),new ce(30,new V(42,15),new V(32,16))),new qe(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new V(20,117),new V(4,118)),new ce(28,new V(40,47),new V(7,48)),new ce(30,new V(43,24),new V(22,25)),new ce(30,new V(10,15),new V(67,16))),new qe(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new V(19,118),new V(6,119)),new ce(28,new V(18,47),new V(31,48)),new ce(30,new V(34,24),new V(34,25)),new ce(30,new V(20,15),new V(61,16)))];var Sn;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(Sn||(Sn={}));class pi{constructor(r,o){this.value=r,this.isMasked=o}unmaskBitMatrix(r,o){for(let c=0;c<o;c++)for(let h=0;h<o;h++)this.isMasked(c,h)&&r.flip(h,c)}}pi.values=new Map([[Sn.DATA_MASK_000,new pi(Sn.DATA_MASK_000,(I,r)=>(I+r&1)===0)],[Sn.DATA_MASK_001,new pi(Sn.DATA_MASK_001,(I,r)=>(I&1)===0)],[Sn.DATA_MASK_010,new pi(Sn.DATA_MASK_010,(I,r)=>r%3===0)],[Sn.DATA_MASK_011,new pi(Sn.DATA_MASK_011,(I,r)=>(I+r)%3===0)],[Sn.DATA_MASK_100,new pi(Sn.DATA_MASK_100,(I,r)=>(Math.floor(I/2)+Math.floor(r/3)&1)===0)],[Sn.DATA_MASK_101,new pi(Sn.DATA_MASK_101,(I,r)=>I*r%6===0)],[Sn.DATA_MASK_110,new pi(Sn.DATA_MASK_110,(I,r)=>I*r%6<3)],[Sn.DATA_MASK_111,new pi(Sn.DATA_MASK_111,(I,r)=>(I+r+I*r%3&1)===0)]]);class Gs{constructor(r){const o=r.getHeight();if(o<21||(o&3)!==1)throw new X;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let x=0;x<6;x++)r=this.copyBit(x,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let x=5;x>=0;x--)r=this.copyBit(8,x,r);const o=this.bitMatrix.getHeight();let c=0;const h=o-7;for(let x=o-1;x>=h;x--)c=this.copyBit(8,x,c);for(let x=o-8;x<o;x++)c=this.copyBit(x,8,c);if(this.parsedFormatInfo=jn.decodeFormatInformation(r,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),o=Math.floor((r-17)/4);if(o<=6)return qe.getVersionForNumber(o);let c=0;const h=r-11;for(let v=5;v>=0;v--)for(let _=r-9;_>=h;_--)c=this.copyBit(_,v,c);let x=qe.decodeVersionInformation(c);if(x!==null&&x.getDimensionForVersion()===r)return this.parsedVersion=x,x;c=0;for(let v=5;v>=0;v--)for(let _=r-9;_>=h;_--)c=this.copyBit(v,_,c);if(x=qe.decodeVersionInformation(c),x!==null&&x.getDimensionForVersion()===r)return this.parsedVersion=x,x;throw new X}copyBit(r,o,c){return(this.isMirror?this.bitMatrix.get(o,r):this.bitMatrix.get(r,o))?c<<1|1:c<<1}readCodewords(){const r=this.readFormatInformation(),o=this.readVersion(),c=pi.values.get(r.getDataMask()),h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h);const x=o.buildFunctionPattern();let v=!0;const _=new Uint8Array(o.getTotalCodewords());let C=0,T=0,R=0;for(let B=h-1;B>0;B-=2){B===6&&B--;for(let L=0;L<h;L++){const q=v?h-1-L:L;for(let Q=0;Q<2;Q++)x.get(B-Q,q)||(R++,T<<=1,this.bitMatrix.get(B-Q,q)&&(T|=1),R===8&&(_[C++]=T,R=0,T=0))}v=!v}if(C!==o.getTotalCodewords())throw new X;return _}remask(){if(this.parsedFormatInfo===null)return;const r=pi.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let o=0,c=r.getWidth();o<c;o++)for(let h=o+1,x=r.getHeight();h<x;h++)r.get(o,h)!==r.get(h,o)&&(r.flip(h,o),r.flip(o,h))}}class Ul{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o,c){if(r.length!==o.getTotalCodewords())throw new E;const h=o.getECBlocksForLevel(c);let x=0;const v=h.getECBlocks();for(const Q of v)x+=Q.getCount();const _=new Array(x);let C=0;for(const Q of v)for(let ee=0;ee<Q.getCount();ee++){const le=Q.getDataCodewords(),pe=h.getECCodewordsPerBlock()+le;_[C++]=new Ul(le,new Uint8Array(pe))}const T=_[0].codewords.length;let R=_.length-1;for(;R>=0&&_[R].codewords.length!==T;)R--;R++;const B=T-h.getECCodewordsPerBlock();let L=0;for(let Q=0;Q<B;Q++)for(let ee=0;ee<C;ee++)_[ee].codewords[Q]=r[L++];for(let Q=R;Q<C;Q++)_[Q].codewords[B]=r[L++];const q=_[0].codewords.length;for(let Q=B;Q<q;Q++)for(let ee=0;ee<C;ee++){const le=ee<R?Q:Q+1;_[ee].codewords[le]=r[L++]}return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bi;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(bi||(bi={}));class Ze{constructor(r,o,c,h){this.value=r,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=h,Ze.FOR_BITS.set(h,this),Ze.FOR_VALUE.set(r,this)}static forBits(r){const o=Ze.FOR_BITS.get(r);if(o===void 0)throw new E;return o}getCharacterCountBits(r){const o=r.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Ze))return!1;const o=r;return this.value===o.value}toString(){return this.stringValue}}Ze.FOR_BITS=new Map,Ze.FOR_VALUE=new Map,Ze.TERMINATOR=new Ze(bi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ze.NUMERIC=new Ze(bi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ze.ALPHANUMERIC=new Ze(bi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ze.STRUCTURED_APPEND=new Ze(bi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ze.BYTE=new Ze(bi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ze.ECI=new Ze(bi.ECI,"ECI",Int32Array.from([0,0,0]),7),Ze.KANJI=new Ze(bi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ze.FNC1_FIRST_POSITION=new Ze(bi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ze.FNC1_SECOND_POSITION=new Ze(bi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ze.HANZI=new Ze(bi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Wt{static decode(r,o,c,h){const x=new Gi(r);let v=new me;const _=new Array;let C=-1,T=-1;try{let R=null,B=!1,L;do{if(x.available()<4)L=Ze.TERMINATOR;else{const q=x.readBits(4);L=Ze.forBits(q)}switch(L){case Ze.TERMINATOR:break;case Ze.FNC1_FIRST_POSITION:case Ze.FNC1_SECOND_POSITION:B=!0;break;case Ze.STRUCTURED_APPEND:if(x.available()<16)throw new X;C=x.readBits(8),T=x.readBits(8);break;case Ze.ECI:const q=Wt.parseECIValue(x);if(R=J.getCharacterSetECIByValue(q),R===null)throw new X;break;case Ze.HANZI:const Q=x.readBits(4),ee=x.readBits(L.getCharacterCountBits(o));Q===Wt.GB2312_SUBSET&&Wt.decodeHanziSegment(x,v,ee);break;default:const le=x.readBits(L.getCharacterCountBits(o));switch(L){case Ze.NUMERIC:Wt.decodeNumericSegment(x,v,le);break;case Ze.ALPHANUMERIC:Wt.decodeAlphanumericSegment(x,v,le,B);break;case Ze.BYTE:Wt.decodeByteSegment(x,v,le,R,_,h);break;case Ze.KANJI:Wt.decodeKanjiSegment(x,v,le);break;default:throw new X}break}}while(L!==Ze.TERMINATOR)}catch{throw new X}return new Pe(r,v.toString(),_.length===0?null:_,c===null?null:c.toString(),C,T)}static decodeHanziSegment(r,o,c){if(c*13>r.available())throw new X;const h=new Uint8Array(2*c);let x=0;for(;c>0;){const v=r.readBits(13);let _=v/96<<8&4294967295|v%96;_<959?_+=41377:_+=42657,h[x]=_>>8&255,h[x+1]=_&255,x+=2,c--}try{o.append(Ee.decode(h,xe.GB2312))}catch(v){throw new X(v)}}static decodeKanjiSegment(r,o,c){if(c*13>r.available())throw new X;const h=new Uint8Array(2*c);let x=0;for(;c>0;){const v=r.readBits(13);let _=v/192<<8&4294967295|v%192;_<7936?_+=33088:_+=49472,h[x]=_>>8,h[x+1]=_,x+=2,c--}try{o.append(Ee.decode(h,xe.SHIFT_JIS))}catch(v){throw new X(v)}}static decodeByteSegment(r,o,c,h,x,v){if(8*c>r.available())throw new X;const _=new Uint8Array(c);for(let T=0;T<c;T++)_[T]=r.readBits(8);let C;h===null?C=xe.guessEncoding(_,v):C=h.getName();try{o.append(Ee.decode(_,C))}catch(T){throw new X(T)}x.push(_)}static toAlphaNumericChar(r){if(r>=Wt.ALPHANUMERIC_CHARS.length)throw new X;return Wt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,o,c,h){const x=o.length();for(;c>1;){if(r.available()<11)throw new X;const v=r.readBits(11);o.append(Wt.toAlphaNumericChar(Math.floor(v/45))),o.append(Wt.toAlphaNumericChar(v%45)),c-=2}if(c===1){if(r.available()<6)throw new X;o.append(Wt.toAlphaNumericChar(r.readBits(6)))}if(h)for(let v=x;v<o.length();v++)o.charAt(v)==="%"&&(v<o.length()-1&&o.charAt(v+1)==="%"?o.deleteCharAt(v+1):o.setCharAt(v,""))}static decodeNumericSegment(r,o,c){for(;c>=3;){if(r.available()<10)throw new X;const h=r.readBits(10);if(h>=1e3)throw new X;o.append(Wt.toAlphaNumericChar(Math.floor(h/100))),o.append(Wt.toAlphaNumericChar(Math.floor(h/10)%10)),o.append(Wt.toAlphaNumericChar(h%10)),c-=3}if(c===2){if(r.available()<7)throw new X;const h=r.readBits(7);if(h>=100)throw new X;o.append(Wt.toAlphaNumericChar(Math.floor(h/10))),o.append(Wt.toAlphaNumericChar(h%10))}else if(c===1){if(r.available()<4)throw new X;const h=r.readBits(4);if(h>=10)throw new X;o.append(Wt.toAlphaNumericChar(h))}}static parseECIValue(r){const o=r.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const c=r.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=r.readBits(16);return(o&31)<<16&4294967295|c}throw new X}}Wt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Wt.GB2312_SUBSET=1;class Mu{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const o=r[0];r[0]=r[2],r[2]=o}}class Yf{constructor(){this.rsDecoder=new Cr(ht.QR_CODE_FIELD_256)}decodeBooleanArray(r,o){return this.decodeBitMatrix(ke.parseFromBooleanArray(r),o)}decodeBitMatrix(r,o){const c=new Gs(r);let h=null;try{return this.decodeBitMatrixParser(c,o)}catch(x){h=x}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const x=this.decodeBitMatrixParser(c,o);return x.setOther(new Mu(!0)),x}catch(x){throw h!==null?h:x}}decodeBitMatrixParser(r,o){const c=r.readVersion(),h=r.readFormatInformation().getErrorCorrectionLevel(),x=r.readCodewords(),v=Ul.getDataBlocks(x,c,h);let _=0;for(const R of v)_+=R.getNumDataCodewords();const C=new Uint8Array(_);let T=0;for(const R of v){const B=R.getCodewords(),L=R.getNumDataCodewords();this.correctErrors(B,L);for(let q=0;q<L;q++)C[T++]=B[q]}return Wt.decode(C,c,h,o)}correctErrors(r,o){const c=new Int32Array(r);try{this.rsDecoder.decode(c,r.length-o)}catch{throw new O}for(let h=0;h<o;h++)r[h]=c[h]}}class qs extends He{constructor(r,o,c){super(r,o),this.estimatedModuleSize=c}aboutEquals(r,o,c){if(Math.abs(o-this.getY())<=r&&Math.abs(c-this.getX())<=r){const h=Math.abs(r-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(r,o,c){const h=(this.getX()+o)/2,x=(this.getY()+r)/2,v=(this.estimatedModuleSize+c)/2;return new qs(h,x,v)}}class Ni{constructor(r,o,c,h,x,v,_){this.image=r,this.startX=o,this.startY=c,this.width=h,this.height=x,this.moduleSize=v,this.resultPointCallback=_,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,o=this.height,c=this.width,h=r+c,x=this.startY+o/2,v=new Int32Array(3),_=this.image;for(let C=0;C<o;C++){const T=x+((C&1)===0?Math.floor((C+1)/2):-Math.floor((C+1)/2));v[0]=0,v[1]=0,v[2]=0;let R=r;for(;R<h&&!_.get(R,T);)R++;let B=0;for(;R<h;){if(_.get(R,T))if(B===1)v[1]++;else if(B===2){if(this.foundPatternCross(v)){const L=this.handlePossibleCenter(v,T,R);if(L!==null)return L}v[0]=v[2],v[1]=1,v[2]=0,B=1}else v[++B]++;else B===1&&B++,v[B]++;R++}if(this.foundPatternCross(v)){const L=this.handlePossibleCenter(v,T,h);if(L!==null)return L}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K}static centerFromEnd(r,o){return o-r[2]-r[1]/2}foundPatternCross(r){const o=this.moduleSize,c=o/2;for(let h=0;h<3;h++)if(Math.abs(o-r[h])>=c)return!1;return!0}crossCheckVertical(r,o,c,h){const x=this.image,v=x.getHeight(),_=this.crossCheckStateCount;_[0]=0,_[1]=0,_[2]=0;let C=r;for(;C>=0&&x.get(o,C)&&_[1]<=c;)_[1]++,C--;if(C<0||_[1]>c)return NaN;for(;C>=0&&!x.get(o,C)&&_[0]<=c;)_[0]++,C--;if(_[0]>c)return NaN;for(C=r+1;C<v&&x.get(o,C)&&_[1]<=c;)_[1]++,C++;if(C===v||_[1]>c)return NaN;for(;C<v&&!x.get(o,C)&&_[2]<=c;)_[2]++,C++;if(_[2]>c)return NaN;const T=_[0]+_[1]+_[2];return 5*Math.abs(T-h)>=2*h?NaN:this.foundPatternCross(_)?Ni.centerFromEnd(_,C):NaN}handlePossibleCenter(r,o,c){const h=r[0]+r[1]+r[2],x=Ni.centerFromEnd(r,c),v=this.crossCheckVertical(o,x,2*r[1],h);if(!isNaN(v)){const _=(r[0]+r[1]+r[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(_,v,x))return T.combineEstimate(v,x,_);const C=new qs(x,v,_);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Ia extends He{constructor(r,o,c,h){super(r,o),this.estimatedModuleSize=c,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,o,c){if(Math.abs(o-this.getY())<=r&&Math.abs(c-this.getX())<=r){const h=Math.abs(r-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(r,o,c){const h=this.count+1,x=(this.count*this.getX()+o)/h,v=(this.count*this.getY()+r)/h,_=(this.count*this.estimatedModuleSize+c)/h;return new Ia(x,v,_,h)}}class Hl{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class rn{constructor(r,o){this.image=r,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const o=r!=null&&r.get($.TRY_HARDER)!==void 0,c=r!=null&&r.get($.PURE_BARCODE)!==void 0,h=this.image,x=h.getHeight(),v=h.getWidth();let _=Math.floor(3*x/(4*rn.MAX_MODULES));(_<rn.MIN_SKIP||o)&&(_=rn.MIN_SKIP);let C=!1;const T=new Int32Array(5);for(let B=_-1;B<x&&!C;B+=_){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let L=0;for(let q=0;q<v;q++)if(h.get(q,B))(L&1)===1&&L++,T[L]++;else if((L&1)===0)if(L===4)if(rn.foundPatternCross(T)){if(this.handlePossibleCenter(T,B,q,c)===!0)if(_=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const ee=this.findRowSkip();ee>T[2]&&(B+=ee-T[2]-_,q=v-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,L=3;continue}L=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,L=3;else T[++L]++;else T[L]++;rn.foundPatternCross(T)&&this.handlePossibleCenter(T,B,v,c)===!0&&(_=T[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return He.orderBestPatterns(R),new Hl(R)}static centerFromEnd(r,o){return o-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let o=0;for(let x=0;x<5;x++){const v=r[x];if(v===0)return!1;o+=v}if(o<7)return!1;const c=o/7,h=c/2;return Math.abs(c-r[0])<h&&Math.abs(c-r[1])<h&&Math.abs(3*c-r[2])<3*h&&Math.abs(c-r[3])<h&&Math.abs(c-r[4])<h}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,o,c,h){const x=this.getCrossCheckStateCount();let v=0;const _=this.image;for(;r>=v&&o>=v&&_.get(o-v,r-v);)x[2]++,v++;if(r<v||o<v)return!1;for(;r>=v&&o>=v&&!_.get(o-v,r-v)&&x[1]<=c;)x[1]++,v++;if(r<v||o<v||x[1]>c)return!1;for(;r>=v&&o>=v&&_.get(o-v,r-v)&&x[0]<=c;)x[0]++,v++;if(x[0]>c)return!1;const C=_.getHeight(),T=_.getWidth();for(v=1;r+v<C&&o+v<T&&_.get(o+v,r+v);)x[2]++,v++;if(r+v>=C||o+v>=T)return!1;for(;r+v<C&&o+v<T&&!_.get(o+v,r+v)&&x[3]<c;)x[3]++,v++;if(r+v>=C||o+v>=T||x[3]>=c)return!1;for(;r+v<C&&o+v<T&&_.get(o+v,r+v)&&x[4]<c;)x[4]++,v++;if(x[4]>=c)return!1;const R=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(R-h)<2*h&&rn.foundPatternCross(x)}crossCheckVertical(r,o,c,h){const x=this.image,v=x.getHeight(),_=this.getCrossCheckStateCount();let C=r;for(;C>=0&&x.get(o,C);)_[2]++,C--;if(C<0)return NaN;for(;C>=0&&!x.get(o,C)&&_[1]<=c;)_[1]++,C--;if(C<0||_[1]>c)return NaN;for(;C>=0&&x.get(o,C)&&_[0]<=c;)_[0]++,C--;if(_[0]>c)return NaN;for(C=r+1;C<v&&x.get(o,C);)_[2]++,C++;if(C===v)return NaN;for(;C<v&&!x.get(o,C)&&_[3]<c;)_[3]++,C++;if(C===v||_[3]>=c)return NaN;for(;C<v&&x.get(o,C)&&_[4]<c;)_[4]++,C++;if(_[4]>=c)return NaN;const T=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(T-h)>=2*h?NaN:rn.foundPatternCross(_)?rn.centerFromEnd(_,C):NaN}crossCheckHorizontal(r,o,c,h){const x=this.image,v=x.getWidth(),_=this.getCrossCheckStateCount();let C=r;for(;C>=0&&x.get(C,o);)_[2]++,C--;if(C<0)return NaN;for(;C>=0&&!x.get(C,o)&&_[1]<=c;)_[1]++,C--;if(C<0||_[1]>c)return NaN;for(;C>=0&&x.get(C,o)&&_[0]<=c;)_[0]++,C--;if(_[0]>c)return NaN;for(C=r+1;C<v&&x.get(C,o);)_[2]++,C++;if(C===v)return NaN;for(;C<v&&!x.get(C,o)&&_[3]<c;)_[3]++,C++;if(C===v||_[3]>=c)return NaN;for(;C<v&&x.get(C,o)&&_[4]<c;)_[4]++,C++;if(_[4]>=c)return NaN;const T=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(T-h)>=h?NaN:rn.foundPatternCross(_)?rn.centerFromEnd(_,C):NaN}handlePossibleCenter(r,o,c,h){const x=r[0]+r[1]+r[2]+r[3]+r[4];let v=rn.centerFromEnd(r,c),_=this.crossCheckVertical(o,Math.floor(v),r[2],x);if(!isNaN(_)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(_),r[2],x),!isNaN(v)&&(!h||this.crossCheckDiagonal(Math.floor(_),Math.floor(v),r[2],x)))){const C=x/7;let T=!1;const R=this.possibleCenters;for(let B=0,L=R.length;B<L;B++){const q=R[B];if(q.aboutEquals(C,_,v)){R[B]=q.combineEstimate(_,v,C),T=!0;break}}if(!T){const B=new Ia(v,_,C);R.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=rn.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,o=0;const c=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=rn.CENTER_QUORUM&&(r++,o+=v.getEstimatedModuleSize());if(r<3)return!1;const h=o/c;let x=0;for(const v of this.possibleCenters)x+=Math.abs(v.getEstimatedModuleSize()-h);return x<=.05*o}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new K;const o=this.possibleCenters;let c;if(r>3){let h=0,x=0;for(const C of this.possibleCenters){const T=C.getEstimatedModuleSize();h+=T,x+=T*T}c=h/r;let v=Math.sqrt(x/r-c*c);o.sort((C,T)=>{const R=Math.abs(T.getEstimatedModuleSize()-c),B=Math.abs(C.getEstimatedModuleSize()-c);return R<B?-1:R>B?1:0});const _=Math.max(.2*c,v);for(let C=0;C<o.length&&o.length>3;C++){const T=o[C];Math.abs(T.getEstimatedModuleSize()-c)>_&&(o.splice(C,1),C--)}}if(o.length>3){let h=0;for(const x of o)h+=x.getEstimatedModuleSize();c=h/o.length,o.sort((x,v)=>{if(v.getCount()===x.getCount()){const _=Math.abs(v.getEstimatedModuleSize()-c),C=Math.abs(x.getEstimatedModuleSize()-c);return _<C?1:_>C?-1:0}else return v.getCount()-x.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}rn.CENTER_QUORUM=2,rn.MIN_SKIP=3,rn.MAX_MODULES=57;class dr{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get($.NEED_RESULT_POINT_CALLBACK);const c=new rn(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(c)}processFinderPatternInfo(r){const o=r.getTopLeft(),c=r.getTopRight(),h=r.getBottomLeft(),x=this.calculateModuleSize(o,c,h);if(x<1)throw new K("No pattern found in proccess finder.");const v=dr.computeDimension(o,c,h,x),_=qe.getProvisionalVersionForDimension(v),C=_.getDimensionForVersion()-7;let T=null;if(_.getAlignmentPatternCenters().length>0){const q=c.getX()-o.getX()+h.getX(),Q=c.getY()-o.getY()+h.getY(),ee=1-3/C,le=Math.floor(o.getX()+ee*(q-o.getX())),pe=Math.floor(o.getY()+ee*(Q-o.getY()));for(let De=4;De<=16;De<<=1)try{T=this.findAlignmentInRegion(x,le,pe,De);break}catch(Re){if(!(Re instanceof K))throw Re}}const R=dr.createTransform(o,c,h,T,v),B=dr.sampleGrid(this.image,R,v);let L;return T===null?L=[h,o,c]:L=[h,o,c,T],new Ls(B,L)}static createTransform(r,o,c,h,x){const v=x-3.5;let _,C,T,R;return h!==null?(_=h.getX(),C=h.getY(),T=v-3,R=T):(_=o.getX()-r.getX()+c.getX(),C=o.getY()-r.getY()+c.getY(),T=v,R=v),Zn.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,T,R,3.5,v,r.getX(),r.getY(),o.getX(),o.getY(),_,C,c.getX(),c.getY())}static sampleGrid(r,o,c){return hi.getInstance().sampleGridWithTransform(r,c,c,o)}static computeDimension(r,o,c,h){const x=st.round(He.distance(r,o)/h),v=st.round(He.distance(r,c)/h);let _=Math.floor((x+v)/2)+7;switch(_&3){case 0:_++;break;case 2:_--;break;case 3:throw new K("Dimensions could be not found.")}return _}calculateModuleSize(r,o,c){return(this.calculateModuleSizeOneWay(r,o)+this.calculateModuleSizeOneWay(r,c))/2}calculateModuleSizeOneWay(r,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(o.getX()),Math.floor(o.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(c)?h/7:isNaN(h)?c/7:(c+h)/14}sizeOfBlackWhiteBlackRunBothWays(r,o,c,h){let x=this.sizeOfBlackWhiteBlackRun(r,o,c,h),v=1,_=r-(c-r);_<0?(v=r/(r-_),_=0):_>=this.image.getWidth()&&(v=(this.image.getWidth()-1-r)/(_-r),_=this.image.getWidth()-1);let C=Math.floor(o-(h-o)*v);return v=1,C<0?(v=o/(o-C),C=0):C>=this.image.getHeight()&&(v=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),_=Math.floor(r+(_-r)*v),x+=this.sizeOfBlackWhiteBlackRun(r,o,_,C),x-1}sizeOfBlackWhiteBlackRun(r,o,c,h){const x=Math.abs(h-o)>Math.abs(c-r);if(x){let q=r;r=o,o=q,q=c,c=h,h=q}const v=Math.abs(c-r),_=Math.abs(h-o);let C=-v/2;const T=r<c?1:-1,R=o<h?1:-1;let B=0;const L=c+T;for(let q=r,Q=o;q!==L;q+=T){const ee=x?Q:q,le=x?q:Q;if(B===1===this.image.get(ee,le)){if(B===2)return st.distance(q,Q,r,o);B++}if(C+=_,C>0){if(Q===h)break;Q+=R,C-=v}}return B===2?st.distance(c+T,h,r,o):NaN}findAlignmentInRegion(r,o,c,h){const x=Math.floor(h*r),v=Math.max(0,o-x),_=Math.min(this.image.getWidth()-1,o+x);if(_-v<r*3)throw new K("Alignment top exceeds estimated module size.");const C=Math.max(0,c-x),T=Math.min(this.image.getHeight()-1,c+x);if(T-C<r*3)throw new K("Alignment bottom exceeds estimated module size.");return new Ni(this.image,v,C,_-v,T-C,r,this.resultPointCallback).find()}}class kr{constructor(){this.decoder=new Yf}getDecoder(){return this.decoder}decode(r,o){let c,h;if(o!=null&&o.get($.PURE_BARCODE)!==void 0){const C=kr.extractPureBits(r.getBlackMatrix());c=this.decoder.decodeBitMatrix(C,o),h=kr.NO_POINTS}else{const C=new dr(r.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(C.getBits(),o),h=C.getPoints()}c.getOther()instanceof Mu&&c.getOther().applyMirroredCorrection(h);const x=new he(c.getText(),c.getRawBytes(),void 0,h,Se.QR_CODE,void 0),v=c.getByteSegments();v!==null&&x.putMetadata(Ye.BYTE_SEGMENTS,v);const _=c.getECLevel();return _!==null&&x.putMetadata(Ye.ERROR_CORRECTION_LEVEL,_),c.hasStructuredAppend()&&(x.putMetadata(Ye.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),x.putMetadata(Ye.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),x}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),c=r.getBottomRightOnBit();if(o===null||c===null)throw new K;const h=this.moduleSize(o,r);let x=o[1],v=c[1],_=o[0],C=c[0];if(_>=C||x>=v)throw new K;if(v-x!==C-_&&(C=_+(v-x),C>=r.getWidth()))throw new K;const T=Math.round((C-_+1)/h),R=Math.round((v-x+1)/h);if(T<=0||R<=0)throw new K;if(R!==T)throw new K;const B=Math.floor(h/2);x+=B,_+=B;const L=_+Math.floor((T-1)*h)-C;if(L>0){if(L>B)throw new K;_-=L}const q=x+Math.floor((R-1)*h)-v;if(q>0){if(q>B)throw new K;x-=q}const Q=new ke(T,R);for(let ee=0;ee<R;ee++){const le=x+Math.floor(ee*h);for(let pe=0;pe<T;pe++)r.get(_+Math.floor(pe*h),le)&&Q.set(pe,ee)}return Q}static moduleSize(r,o){const c=o.getHeight(),h=o.getWidth();let x=r[0],v=r[1],_=!0,C=0;for(;x<h&&v<c;){if(_!==o.get(x,v)){if(++C===5)break;_=!_}x++,v++}if(x===h||v===c)throw new K;return(x-r[0])/7}}kr.NO_POINTS=new Array;class $e{PDF417Common(){}static getBitCountSum(r){return st.sum(r)}static toIntArray(r){if(r==null||!r.length)return $e.EMPTY_INT_ARRAY;const o=new Int32Array(r.length);let c=0;for(const h of r)o[c++]=h;return o}static getCodeword(r){const o=H.binarySearch($e.SYMBOL_TABLE,r&262143);return o<0?-1:($e.CODEWORD_TABLE[o]-1)%$e.NUMBER_OF_CODEWORDS}}$e.NUMBER_OF_CODEWORDS=929,$e.MAX_CODEWORDS_IN_BARCODE=$e.NUMBER_OF_CODEWORDS-1,$e.MIN_ROWS_IN_BARCODE=3,$e.MAX_ROWS_IN_BARCODE=90,$e.MODULES_IN_CODEWORD=17,$e.MODULES_IN_STOP_PATTERN=18,$e.BARS_IN_MODULE=8,$e.EMPTY_INT_ARRAY=new Int32Array([]),$e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),$e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ru{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class nt{static detectMultiple(r,o,c){let h=r.getBlackMatrix(),x=nt.detect(c,h);return x.length||(h=h.clone(),h.rotate180(),x=nt.detect(c,h)),new Ru(h,x)}static detect(r,o){const c=new Array;let h=0,x=0,v=!1;for(;h<o.getHeight();){const _=nt.findVertices(o,h,x);if(_[0]==null&&_[3]==null){if(!v)break;v=!1,x=0;for(const C of c)C[1]!=null&&(h=Math.trunc(Math.max(h,C[1].getY()))),C[3]!=null&&(h=Math.max(h,Math.trunc(C[3].getY())));h+=nt.ROW_STEP;continue}if(v=!0,c.push(_),!r)break;_[2]!=null?(x=Math.trunc(_[2].getX()),h=Math.trunc(_[2].getY())):(x=Math.trunc(_[4].getX()),h=Math.trunc(_[4].getY()))}return c}static findVertices(r,o,c){const h=r.getHeight(),x=r.getWidth(),v=new Array(8);return nt.copyToResult(v,nt.findRowsWithPattern(r,h,x,o,c,nt.START_PATTERN),nt.INDEXES_START_PATTERN),v[4]!=null&&(c=Math.trunc(v[4].getX()),o=Math.trunc(v[4].getY())),nt.copyToResult(v,nt.findRowsWithPattern(r,h,x,o,c,nt.STOP_PATTERN),nt.INDEXES_STOP_PATTERN),v}static copyToResult(r,o,c){for(let h=0;h<c.length;h++)r[c[h]]=o[h]}static findRowsWithPattern(r,o,c,h,x,v){const _=new Array(4);let C=!1;const T=new Int32Array(v.length);for(;h<o;h+=nt.ROW_STEP){let B=nt.findGuardPattern(r,x,h,c,!1,v,T);if(B!=null){for(;h>0;){const L=nt.findGuardPattern(r,x,--h,c,!1,v,T);if(L!=null)B=L;else{h++;break}}_[0]=new He(B[0],h),_[1]=new He(B[1],h),C=!0;break}}let R=h+1;if(C){let B=0,L=Int32Array.from([Math.trunc(_[0].getX()),Math.trunc(_[1].getX())]);for(;R<o;R++){const q=nt.findGuardPattern(r,L[0],R,c,!1,v,T);if(q!=null&&Math.abs(L[0]-q[0])<nt.MAX_PATTERN_DRIFT&&Math.abs(L[1]-q[1])<nt.MAX_PATTERN_DRIFT)L=q,B=0;else{if(B>nt.SKIPPED_ROW_COUNT_MAX)break;B++}}R-=B+1,_[2]=new He(L[0],R),_[3]=new He(L[1],R)}return R-h<nt.BARCODE_MIN_HEIGHT&&H.fill(_,null),_}static findGuardPattern(r,o,c,h,x,v,_){H.fillWithin(_,0,_.length,0);let C=o,T=0;for(;r.get(C,c)&&C>0&&T++<nt.MAX_PIXEL_DRIFT;)C--;let R=C,B=0,L=v.length;for(let q=x;R<h;R++)if(r.get(R,c)!==q)_[B]++;else{if(B===L-1){if(nt.patternMatchVariance(_,v,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return new Int32Array([C,R]);C+=_[0]+_[1],M.arraycopy(_,2,_,0,B-1),_[B-1]=0,_[B]=0,B--}else B++;_[B]=1,q=!q}return B===L-1&&nt.patternMatchVariance(_,v,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE?new Int32Array([C,R-1]):null}static patternMatchVariance(r,o,c){let h=r.length,x=0,v=0;for(let T=0;T<h;T++)x+=r[T],v+=o[T];if(x<v)return 1/0;let _=x/v;c*=_;let C=0;for(let T=0;T<h;T++){let R=r[T],B=o[T]*_,L=R>B?R-B:B-R;if(L>c)return 1/0;C+=L}return C/x}}nt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),nt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),nt.MAX_AVG_VARIANCE=.42,nt.MAX_INDIVIDUAL_VARIANCE=.8,nt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),nt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),nt.MAX_PIXEL_DRIFT=3,nt.MAX_PATTERN_DRIFT=5,nt.SKIPPED_ROW_COUNT_MAX=25,nt.ROW_STEP=5,nt.BARCODE_MIN_HEIGHT=10;class Zt{constructor(r,o){if(o.length===0)throw new E;this.field=r;let c=o.length;if(c>1&&o[0]===0){let h=1;for(;h<c&&o[h]===0;)h++;h===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-h),M.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let h=0;for(let x of this.coefficients)h=this.field.add(h,x);return h}let o=this.coefficients[0],c=this.coefficients.length;for(let h=1;h<c;h++)o=this.field.add(this.field.multiply(r,o),this.coefficients[h]);return o}add(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,c=r.coefficients;if(o.length>c.length){let v=o;o=c,c=v}let h=new Int32Array(c.length),x=c.length-o.length;M.arraycopy(c,0,h,0,x);for(let v=x;v<c.length;v++)h[v]=this.field.add(o[v-x],c[v]);return new Zt(this.field,h)}subtract(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Zt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Zt(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,h=r.coefficients,x=h.length,v=new Int32Array(c+x-1);for(let _=0;_<c;_++){let C=o[_];for(let T=0;T<x;T++)v[_+T]=this.field.add(v[_+T],this.field.multiply(C,h[T]))}return new Zt(this.field,v)}negative(){let r=this.coefficients.length,o=new Int32Array(r);for(let c=0;c<r;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new Zt(this.field,o)}multiplyScalar(r){if(r===0)return new Zt(this.field,new Int32Array([0]));if(r===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let h=0;h<o;h++)c[h]=this.field.multiply(this.coefficients[h],r);return new Zt(this.field,c)}multiplyByMonomial(r,o){if(r<0)throw new E;if(o===0)return new Zt(this.field,new Int32Array([0]));let c=this.coefficients.length,h=new Int32Array(c+r);for(let x=0;x<c;x++)h[x]=this.field.multiply(this.coefficients[x],o);return new Zt(this.field,h)}toString(){let r=new me;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(r.append(" - "),c=-c):r.length()>0&&r.append(" + "),(o===0||c!==1)&&r.append(c),o!==0&&(o===1?r.append("x"):(r.append("x^"),r.append(o))))}return r.toString()}}class Vl{add(r,o){return(r+o)%this.modulus}subtract(r,o){return(this.modulus+r-o)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new E;return this.logTable[r]}inverse(r){if(r===0)throw new Ur;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class os extends Vl{constructor(r,o){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let c=1;for(let h=0;h<r;h++)this.expTable[h]=c,c=c*o%r;for(let h=0;h<r-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Zt(this,new Int32Array([0])),this.one=new Zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new E;if(o===0)return this.zero;let c=new Int32Array(r+1);return c[0]=o,new Zt(this,c)}}os.PDF417_GF=new os($e.NUMBER_OF_CODEWORDS,3);class Mr{constructor(){this.field=os.PDF417_GF}decode(r,o,c){let h=new Zt(this.field,r),x=new Int32Array(o),v=!1;for(let Q=o;Q>0;Q--){let ee=h.evaluateAt(this.field.exp(Q));x[o-Q]=ee,ee!==0&&(v=!0)}if(!v)return 0;let _=this.field.getOne();if(c!=null)for(const Q of c){let ee=this.field.exp(r.length-1-Q),le=new Zt(this.field,new Int32Array([this.field.subtract(0,ee),1]));_=_.multiply(le)}let C=new Zt(this.field,x),T=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),R=T[0],B=T[1],L=this.findErrorLocations(R),q=this.findErrorMagnitudes(B,R,L);for(let Q=0;Q<L.length;Q++){let ee=r.length-1-this.field.log(L[Q]);if(ee<0)throw O.getChecksumInstance();r[ee]=this.field.subtract(r[ee],q[Q])}return L.length}runEuclideanAlgorithm(r,o,c){if(r.getDegree()<o.getDegree()){let L=r;r=o,o=L}let h=r,x=o,v=this.field.getZero(),_=this.field.getOne();for(;x.getDegree()>=Math.round(c/2);){let L=h,q=v;if(h=x,v=_,h.isZero())throw O.getChecksumInstance();x=L;let Q=this.field.getZero(),ee=h.getCoefficient(h.getDegree()),le=this.field.inverse(ee);for(;x.getDegree()>=h.getDegree()&&!x.isZero();){let pe=x.getDegree()-h.getDegree(),De=this.field.multiply(x.getCoefficient(x.getDegree()),le);Q=Q.add(this.field.buildMonomial(pe,De)),x=x.subtract(h.multiplyByMonomial(pe,De))}_=Q.multiply(v).subtract(q).negative()}let C=_.getCoefficient(0);if(C===0)throw O.getChecksumInstance();let T=this.field.inverse(C),R=_.multiply(T),B=x.multiply(T);return[R,B]}findErrorLocations(r){let o=r.getDegree(),c=new Int32Array(o),h=0;for(let x=1;x<this.field.getSize()&&h<o;x++)r.evaluateAt(x)===0&&(c[h]=this.field.inverse(x),h++);if(h!==o)throw O.getChecksumInstance();return c}findErrorMagnitudes(r,o,c){let h=o.getDegree(),x=new Int32Array(h);for(let T=1;T<=h;T++)x[h-T]=this.field.multiply(T,o.getCoefficient(T));let v=new Zt(this.field,x),_=c.length,C=new Int32Array(_);for(let T=0;T<_;T++){let R=this.field.inverse(c[T]),B=this.field.subtract(0,r.evaluateAt(R)),L=this.field.inverse(v.evaluateAt(R));C[T]=this.field.multiply(B,L)}return C}}class Rr{constructor(r,o,c,h,x){r instanceof Rr?this.constructor_2(r):this.constructor_1(r,o,c,h,x)}constructor_1(r,o,c,h,x){const v=o==null||c==null,_=h==null||x==null;if(v&&_)throw new K;v?(o=new He(0,h.getY()),c=new He(0,x.getY())):_&&(h=new He(r.getWidth()-1,o.getY()),x=new He(r.getWidth()-1,c.getY())),this.image=r,this.topLeft=o,this.bottomLeft=c,this.topRight=h,this.bottomRight=x,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(h.getX(),x.getX())),this.minY=Math.trunc(Math.min(o.getY(),h.getY())),this.maxY=Math.trunc(Math.max(c.getY(),x.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,o){return r==null?o:o==null?r:new Rr(r.image,r.topLeft,r.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(r,o,c){let h=this.topLeft,x=this.bottomLeft,v=this.topRight,_=this.bottomRight;if(r>0){let C=c?this.topLeft:this.topRight,T=Math.trunc(C.getY()-r);T<0&&(T=0);let R=new He(C.getX(),T);c?h=R:v=R}if(o>0){let C=c?this.bottomLeft:this.bottomRight,T=Math.trunc(C.getY()+o);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let R=new He(C.getX(),T);c?x=R:_=R}return new Rr(this.image,h,x,v,_)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ko{constructor(r,o,c,h){this.columnCount=r,this.errorCorrectionLevel=h,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xs{constructor(){this.buffer=""}static form(r,o){let c=-1;function h(v,_,C,T,R,B){if(v==="%%")return"%";if(o[++c]===void 0)return;v=T?parseInt(T.substr(1)):void 0;let L=R?parseInt(R.substr(1)):void 0,q;switch(B){case"s":q=o[c];break;case"c":q=o[c][0];break;case"f":q=parseFloat(o[c]).toFixed(v);break;case"p":q=parseFloat(o[c]).toPrecision(v);break;case"e":q=parseFloat(o[c]).toExponential(v);break;case"x":q=parseInt(o[c]).toString(L||16);break;case"d":q=parseFloat(parseInt(o[c],L||10).toPrecision(v)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString(L);let Q=parseInt(C),ee=C&&C[0]+""=="0"?"0":" ";for(;q.length<Q;)q=_!==void 0?q+ee:ee+q;return q}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(x,h)}format(r,...o){this.buffer+=Xs.form(r,o)}toString(){return this.buffer}}class Yr{constructor(r){this.boundingBox=new Rr(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let o=this.getCodeword(r);if(o!=null)return o;for(let c=1;c<Yr.MAX_NEARBY_DISTANCE;c++){let h=this.imageRowToCodewordIndex(r)-c;if(h>=0&&(o=this.codewords[h],o!=null)||(h=this.imageRowToCodewordIndex(r)+c,h<this.codewords.length&&(o=this.codewords[h],o!=null)))return o}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,o){this.codewords[this.imageRowToCodewordIndex(r)]=o}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Xs;let o=0;for(const c of this.codewords){if(c==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return r.toString()}}Yr.MAX_NEARBY_DISTANCE=5;class Wr{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let o=this.values.get(r);o==null&&(o=0),o++,this.values.set(r,o)}getValue(){let r=-1,o=new Array;for(const[c,h]of this.values.entries()){const x={getKey:()=>c,getValue:()=>h};x.getValue()>r?(r=x.getValue(),o=[],o.push(x.getKey())):x.getValue()===r&&o.push(x.getKey())}return $e.toIntArray(o)}getConfidence(r){return this.values.get(r)}}class Gl extends Yr{constructor(r,o){super(r),this._isLeft=o}setRowNumbers(){for(let r of this.getCodewords())r?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,r);let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),x=this._isLeft?c.getBottomLeft():c.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(h.getY())),_=this.imageRowToCodewordIndex(Math.trunc(x.getY())),C=-1,T=1,R=0;for(let B=v;B<_;B++){if(o[B]==null)continue;let L=o[B],q=L.getRowNumber()-C;if(q===0)R++;else if(q===1)T=Math.max(T,R),R=1,C=L.getRowNumber();else if(q<0||L.getRowNumber()>=r.getRowCount()||q>B)o[B]=null;else{let Q;T>2?Q=(T-2)*q:Q=q;let ee=Q>=B;for(let le=1;le<=Q&&!ee;le++)ee=o[B-le]!=null;ee?o[B]=null:(C=L.getRowNumber(),R=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let o=new Int32Array(r.getRowCount());for(let c of this.getCodewords())if(c!=null){let h=c.getRowNumber();if(h>=o.length)continue;o[h]++}return o}adjustIncompleteIndicatorColumnRowNumbers(r){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(c.getY())),v=this.imageRowToCodewordIndex(Math.trunc(h.getY())),_=this.getCodewords(),C=-1;for(let T=x;T<v;T++){if(_[T]==null)continue;let R=_[T];R.setRowNumberAsRowIndicatorColumn();let B=R.getRowNumber()-C;B===0||(B===1?C=R.getRowNumber():R.getRowNumber()>=r.getRowCount()?_[T]=null:C=R.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),o=new Wr,c=new Wr,h=new Wr,x=new Wr;for(let _ of r){if(_==null)continue;_.setRowNumberAsRowIndicatorColumn();let C=_.getValue()%30,T=_.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:c.setValue(C*3+1);break;case 1:x.setValue(C/3),h.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||c.getValue().length===0||h.getValue().length===0||x.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+h.getValue()[0]<$e.MIN_ROWS_IN_BARCODE||c.getValue()[0]+h.getValue()[0]>$e.MAX_ROWS_IN_BARCODE)return null;let v=new ko(o.getValue()[0],c.getValue()[0],h.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(r,v),v}removeIncorrectCodewords(r,o){for(let c=0;c<r.length;c++){let h=r[c];if(r[c]==null)continue;let x=h.getValue()%30,v=h.getRowNumber();if(v>o.getRowCount()){r[c]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:x*3+1!==o.getRowCountUpperPart()&&(r[c]=null);break;case 1:(Math.trunc(x/3)!==o.getErrorCorrectionLevel()||x%3!==o.getRowCountLowerPart())&&(r[c]=null);break;case 2:x+1!==o.getColumnCount()&&(r[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class In{constructor(r,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=$e.MAX_CODEWORDS_IN_BARCODE,o;do o=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let h=0;h<c.length;h++)c[h]!=null&&(c[h].hasValidRowNumber()||this.adjustRowNumbers(o,h,c))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<r.length;c++)if(r[c]!=null&&o[c]!=null&&r[c].getRowNumber()===o[c].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let x=this.detectionResultColumns[h].getCodewords()[c];x!=null&&(x.setRowNumber(r[c].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let h=o[c].getRowNumber(),x=0;for(let v=this.barcodeColumnCount+1;v>0&&x<this.ADJUST_ROW_NUMBER_SKIP;v--){let _=this.detectionResultColumns[v].getCodewords()[c];_!=null&&(x=In.adjustRowNumberIfValid(h,x,_),_.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let h=o[c].getRowNumber(),x=0;for(let v=1;v<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;v++){let _=this.detectionResultColumns[v].getCodewords()[c];_!=null&&(x=In.adjustRowNumberIfValid(h,x,_),_.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(r)?(c.setRowNumber(r),o=0):++o),o}adjustRowNumbers(r,o,c){if(!this.detectionResultColumns[r-1])return;let h=c[o],x=this.detectionResultColumns[r-1].getCodewords(),v=x;this.detectionResultColumns[r+1]!=null&&(v=this.detectionResultColumns[r+1].getCodewords());let _=new Array(14);_[2]=x[o],_[3]=v[o],o>0&&(_[0]=c[o-1],_[4]=x[o-1],_[5]=v[o-1]),o>1&&(_[8]=c[o-2],_[10]=x[o-2],_[11]=v[o-2]),o<c.length-1&&(_[1]=c[o+1],_[6]=x[o+1],_[7]=v[o+1]),o<c.length-2&&(_[9]=c[o+2],_[12]=x[o+2],_[13]=v[o+2]);for(let C of _)if(In.adjustRowNumber(h,C))return}static adjustRowNumber(r,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===r.getBucket()?(r.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,o){this.detectionResultColumns[r]=o}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Xs;for(let c=0;c<r.getCodewords().length;c++){o.format("CW %3d:",c);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){o.format("    |   ");continue}let x=this.detectionResultColumns[h].getCodewords()[c];if(x==null){o.format("    |   ");continue}o.format(" %3d|%3d",x.getRowNumber(),x.getValue())}o.format("%n")}return o.toString()}}class qi{constructor(r,o,c,h){this.rowNumber=qi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==qi.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}qi.BARCODE_ROW_UNKNOWN=-1;class Hn{static initialize(){for(let r=0;r<$e.SYMBOL_TABLE.length;r++){let o=$e.SYMBOL_TABLE[r],c=o&1;for(let h=0;h<$e.BARS_IN_MODULE;h++){let x=0;for(;(o&1)===c;)x+=1,o>>=1;c=o&1,Hn.RATIOS_TABLE[r]||(Hn.RATIOS_TABLE[r]=new Array($e.BARS_IN_MODULE)),Hn.RATIOS_TABLE[r][$e.BARS_IN_MODULE-h-1]=Math.fround(x/$e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let o=Hn.getDecodedCodewordValue(Hn.sampleBitCounts(r));return o!==-1?o:Hn.getClosestDecodedValue(r)}static sampleBitCounts(r){let o=st.sum(r),c=new Int32Array($e.BARS_IN_MODULE),h=0,x=0;for(let v=0;v<$e.MODULES_IN_CODEWORD;v++){let _=o/(2*$e.MODULES_IN_CODEWORD)+v*o/$e.MODULES_IN_CODEWORD;x+r[h]<=_&&(x+=r[h],h++),c[h]++}return c}static getDecodedCodewordValue(r){let o=Hn.getBitValue(r);return $e.getCodeword(o)===-1?-1:o}static getBitValue(r){let o=0;for(let c=0;c<r.length;c++)for(let h=0;h<r[c];h++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(r){let o=st.sum(r),c=new Array($e.BARS_IN_MODULE);if(o>1)for(let v=0;v<c.length;v++)c[v]=Math.fround(r[v]/o);let h=Hr.MAX_VALUE,x=-1;this.bSymbolTableReady||Hn.initialize();for(let v=0;v<Hn.RATIOS_TABLE.length;v++){let _=0,C=Hn.RATIOS_TABLE[v];for(let T=0;T<$e.BARS_IN_MODULE;T++){let R=Math.fround(C[T]-c[T]);if(_+=Math.fround(R*R),_>=h)break}_<h&&(h=_,x=$e.SYMBOL_TABLE[v])}return x}}Hn.bSymbolTableReady=!1,Hn.RATIOS_TABLE=new Array($e.SYMBOL_TABLE.length).map(I=>new Array($e.BARS_IN_MODULE));class Ys{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Du{static parseLong(r,o=void 0){return parseInt(r,o)}}class Mo extends f{}Mo.kind="NullPointerException";class ql{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,o,c){if(r==null)throw new Mo;if(o<0||o>r.length||c<0||o+c>r.length||o+c<0)throw new j;if(c===0)return;for(let h=0;h<c;h++)this.write(r[o+h])}flush(){}close(){}}class Ba extends f{}class Ro extends ql{constructor(r=32){if(super(),this.count=0,r<0)throw new E("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let c=this.buf.length<<1;if(c-r<0&&(c=r),c<0){if(r<0)throw new Ba;c=z.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,c)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,o,c){if(o<0||o>r.length||c<0||o+c-r.length>0)throw new j;this.ensureCapacity(this.count+c),M.arraycopy(r,o,this.buf,this.count,c),this.count+=c}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Rt;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Rt||(Rt={}));function ju(){if(typeof window<"u")return window.BigInt||null;if(typeof qd<"u")return qd.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Do;function Zr(I){if(typeof Do>"u"&&(Do=ju()),Do===null)throw new Error("BigInt is not supported!");return Do(I)}function Xl(){let I=[];I[0]=Zr(1);let r=Zr(900);I[1]=r;for(let o=2;o<16;o++)I[o]=I[o-1]*r;return I}class be{static decode(r,o){let c=new me(""),h=J.ISO8859_1;c.enableDecoding(h);let x=1,v=r[x++],_=new Ys;for(;x<r[0];){switch(v){case be.TEXT_COMPACTION_MODE_LATCH:x=be.textCompaction(r,x,c);break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:x=be.byteCompaction(v,r,h,x,c);break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[x++]);break;case be.NUMERIC_COMPACTION_MODE_LATCH:x=be.numericCompaction(r,x,c);break;case be.ECI_CHARSET:J.getCharacterSetECIByValue(r[x++]);break;case be.ECI_GENERAL_PURPOSE:x+=2;break;case be.ECI_USER_DEFINED:x++;break;case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=be.decodeMacroBlock(r,x,_);break;case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:throw new X;default:x--,x=be.textCompaction(r,x,c);break}if(x<r.length)v=r[x++];else throw X.getFormatInstance()}if(c.length()===0)throw X.getFormatInstance();let C=new Pe(null,c.toString(),null,o);return C.setOther(_),C}static decodeMacroBlock(r,o,c){if(o+be.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw X.getFormatInstance();let h=new Int32Array(be.NUMBER_OF_SEQUENCE_CODEWORDS);for(let _=0;_<be.NUMBER_OF_SEQUENCE_CODEWORDS;_++,o++)h[_]=r[o];c.setSegmentIndex(z.parseInt(be.decodeBase900toBase10(h,be.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new me;o=be.textCompaction(r,o,x),c.setFileId(x.toString());let v=-1;for(r[o]===be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=o+1);o<r[0];)switch(r[o]){case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,r[o]){case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let _=new me;o=be.textCompaction(r,o+1,_),c.setFileName(_.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new me;o=be.textCompaction(r,o+1,C),c.setSender(C.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new me;o=be.textCompaction(r,o+1,T),c.setAddressee(T.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new me;o=be.numericCompaction(r,o+1,R),c.setSegmentCount(z.parseInt(R.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new me;o=be.numericCompaction(r,o+1,B),c.setTimestamp(Du.parseLong(B.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let L=new me;o=be.numericCompaction(r,o+1,L),c.setChecksum(z.parseInt(L.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let q=new me;o=be.numericCompaction(r,o+1,q),c.setFileSize(Du.parseLong(q.toString()));break;default:throw X.getFormatInstance()}break;case be.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(v!==-1){let _=o-v;c.isLastSegment()&&_--,c.setOptionalData(H.copyOfRange(r,v,v+_))}return o}static textCompaction(r,o,c){let h=new Int32Array((r[0]-o)*2),x=new Int32Array((r[0]-o)*2),v=0,_=!1;for(;o<r[0]&&!_;){let C=r[o++];if(C<be.TEXT_COMPACTION_MODE_LATCH)h[v]=C/30,h[v+1]=C%30,v+=2;else switch(C){case be.TEXT_COMPACTION_MODE_LATCH:h[v++]=be.TEXT_COMPACTION_MODE_LATCH;break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:o--,_=!0;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[v]=be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=r[o++],x[v]=C,v++;break}}return be.decodeTextCompaction(h,x,v,c),o}static decodeTextCompaction(r,o,c,h){let x=Rt.ALPHA,v=Rt.ALPHA,_=0;for(;_<c;){let C=r[_],T="";switch(x){case Rt.ALPHA:if(C<26)T=String.fromCharCode(65+C);else switch(C){case 26:T=" ";break;case be.LL:x=Rt.LOWER;break;case be.ML:x=Rt.MIXED;break;case be.PS:v=x,x=Rt.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[_]);break;case be.TEXT_COMPACTION_MODE_LATCH:x=Rt.ALPHA;break}break;case Rt.LOWER:if(C<26)T=String.fromCharCode(97+C);else switch(C){case 26:T=" ";break;case be.AS:v=x,x=Rt.ALPHA_SHIFT;break;case be.ML:x=Rt.MIXED;break;case be.PS:v=x,x=Rt.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[_]);break;case be.TEXT_COMPACTION_MODE_LATCH:x=Rt.ALPHA;break}break;case Rt.MIXED:if(C<be.PL)T=be.MIXED_CHARS[C];else switch(C){case be.PL:x=Rt.PUNCT;break;case 26:T=" ";break;case be.LL:x=Rt.LOWER;break;case be.AL:x=Rt.ALPHA;break;case be.PS:v=x,x=Rt.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[_]);break;case be.TEXT_COMPACTION_MODE_LATCH:x=Rt.ALPHA;break}break;case Rt.PUNCT:if(C<be.PAL)T=be.PUNCT_CHARS[C];else switch(C){case be.PAL:x=Rt.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[_]);break;case be.TEXT_COMPACTION_MODE_LATCH:x=Rt.ALPHA;break}break;case Rt.ALPHA_SHIFT:if(x=v,C<26)T=String.fromCharCode(65+C);else switch(C){case 26:T=" ";break;case be.TEXT_COMPACTION_MODE_LATCH:x=Rt.ALPHA;break}break;case Rt.PUNCT_SHIFT:if(x=v,C<be.PAL)T=be.PUNCT_CHARS[C];else switch(C){case be.PAL:x=Rt.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[_]);break;case be.TEXT_COMPACTION_MODE_LATCH:x=Rt.ALPHA;break}break}T!==""&&h.append(T),_++}}static byteCompaction(r,o,c,h,x){let v=new Ro,_=0,C=0,T=!1;switch(r){case be.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),B=o[h++];for(;h<o[0]&&!T;)switch(R[_++]=B,C=900*C+B,B=o[h++],B){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:h--,T=!0;break;default:if(_%5===0&&_>0){for(let L=0;L<6;++L)v.write(Number(Zr(C)>>Zr(8*(5-L))));C=0,_=0}break}h===o[0]&&B<be.TEXT_COMPACTION_MODE_LATCH&&(R[_++]=B);for(let L=0;L<_;L++)v.write(R[L]);break;case be.BYTE_COMPACTION_MODE_LATCH_6:for(;h<o[0]&&!T;){let L=o[h++];if(L<be.TEXT_COMPACTION_MODE_LATCH)_++,C=900*C+L;else switch(L){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:h--,T=!0;break}if(_%5===0&&_>0){for(let q=0;q<6;++q)v.write(Number(Zr(C)>>Zr(8*(5-q))));C=0,_=0}}break}return x.append(Ee.decode(v.toByteArray(),c)),h}static numericCompaction(r,o,c){let h=0,x=!1,v=new Int32Array(be.MAX_NUMERIC_CODEWORDS);for(;o<r[0]&&!x;){let _=r[o++];if(o===r[0]&&(x=!0),_<be.TEXT_COMPACTION_MODE_LATCH)v[h]=_,h++;else switch(_){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:o--,x=!0;break}(h%be.MAX_NUMERIC_CODEWORDS===0||_===be.NUMERIC_COMPACTION_MODE_LATCH||x)&&h>0&&(c.append(be.decodeBase900toBase10(v,h)),h=0)}return o}static decodeBase900toBase10(r,o){let c=Zr(0);for(let x=0;x<o;x++)c+=be.EXP900[o-x-1]*Zr(r[x]);let h=c.toString();if(h.charAt(0)!=="1")throw new X;return h.substring(1)}}be.TEXT_COMPACTION_MODE_LATCH=900,be.BYTE_COMPACTION_MODE_LATCH=901,be.NUMERIC_COMPACTION_MODE_LATCH=902,be.BYTE_COMPACTION_MODE_LATCH_6=924,be.ECI_USER_DEFINED=925,be.ECI_GENERAL_PURPOSE=926,be.ECI_CHARSET=927,be.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,be.MACRO_PDF417_TERMINATOR=922,be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,be.MAX_NUMERIC_CODEWORDS=15,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,be.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,be.PL=25,be.LL=27,be.AS=27,be.ML=28,be.AL=28,be.PS=29,be.PAL=29,be.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,be.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",be.EXP900=ju()?Xl():[],be.NUMBER_OF_SEQUENCE_CODEWORDS=2;class lt{constructor(){}static decode(r,o,c,h,x,v,_){let C=new Rr(r,o,c,h,x),T=null,R=null,B;for(let Q=!0;;Q=!1){if(o!=null&&(T=lt.getRowIndicatorColumn(r,C,o,!0,v,_)),h!=null&&(R=lt.getRowIndicatorColumn(r,C,h,!1,v,_)),B=lt.merge(T,R),B==null)throw K.getNotFoundInstance();let ee=B.getBoundingBox();if(Q&&ee!=null&&(ee.getMinY()<C.getMinY()||ee.getMaxY()>C.getMaxY()))C=ee;else break}B.setBoundingBox(C);let L=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,T),B.setDetectionResultColumn(L,R);let q=T!=null;for(let Q=1;Q<=L;Q++){let ee=q?Q:L-Q;if(B.getDetectionResultColumn(ee)!==void 0)continue;let le;ee===0||ee===L?le=new Gl(C,ee===0):le=new Yr(C),B.setDetectionResultColumn(ee,le);let pe=-1,De=pe;for(let Re=C.getMinY();Re<=C.getMaxY();Re++){if(pe=lt.getStartColumn(B,ee,Re,q),pe<0||pe>C.getMaxX()){if(De===-1)continue;pe=De}let Te=lt.detectCodeword(r,C.getMinX(),C.getMaxX(),q,pe,Re,v,_);Te!=null&&(le.setCodeword(Re,Te),De=pe,v=Math.min(v,Te.getWidth()),_=Math.max(_,Te.getWidth()))}}return lt.createDecoderResult(B)}static merge(r,o){if(r==null&&o==null)return null;let c=lt.getBarcodeMetadata(r,o);if(c==null)return null;let h=Rr.merge(lt.adjustBoundingBox(r),lt.adjustBoundingBox(o));return new In(c,h)}static adjustBoundingBox(r){if(r==null)return null;let o=r.getRowHeights();if(o==null)return null;let c=lt.getMax(o),h=0;for(let _ of o)if(h+=c-_,_>0)break;let x=r.getCodewords();for(let _=0;h>0&&x[_]==null;_++)h--;let v=0;for(let _=o.length-1;_>=0&&(v+=c-o[_],!(o[_]>0));_--);for(let _=x.length-1;v>0&&x[_]==null;_--)v--;return r.getBoundingBox().addMissingRows(h,v,r.isLeft())}static getMax(r){let o=-1;for(let c of r)o=Math.max(o,c);return o}static getBarcodeMetadata(r,o){let c;if(r==null||(c=r.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let h;return o==null||(h=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==h.getColumnCount()&&c.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&c.getRowCount()!==h.getRowCount()?null:c}static getRowIndicatorColumn(r,o,c,h,x,v){let _=new Gl(o,h);for(let C=0;C<2;C++){let T=C===0?1:-1,R=Math.trunc(Math.trunc(c.getX()));for(let B=Math.trunc(Math.trunc(c.getY()));B<=o.getMaxY()&&B>=o.getMinY();B+=T){let L=lt.detectCodeword(r,0,r.getWidth(),h,R,B,x,v);L!=null&&(_.setCodeword(B,L),h?R=L.getStartX():R=L.getEndX())}}return _}static adjustCodewordCount(r,o){let c=o[0][1],h=c.getValue(),x=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-lt.getNumberOfECCodeWords(r.getBarcodeECLevel());if(h.length===0){if(x<1||x>$e.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();c.setValue(x)}else h[0]!==x&&c.setValue(x)}static createDecoderResult(r){let o=lt.createBarcodeMatrix(r);lt.adjustCodewordCount(r,o);let c=new Array,h=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),x=[],v=new Array;for(let C=0;C<r.getBarcodeRowCount();C++)for(let T=0;T<r.getBarcodeColumnCount();T++){let R=o[C][T+1].getValue(),B=C*r.getBarcodeColumnCount()+T;R.length===0?c.push(B):R.length===1?h[B]=R[0]:(v.push(B),x.push(R))}let _=new Array(x.length);for(let C=0;C<_.length;C++)_[C]=x[C];return lt.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),h,$e.toIntArray(c),$e.toIntArray(v),_)}static createDecoderResultFromAmbiguousValues(r,o,c,h,x){let v=new Int32Array(h.length),_=100;for(;_-- >0;){for(let C=0;C<v.length;C++)o[h[C]]=x[C][v[C]];try{return lt.decodeCodewords(o,r,c)}catch(C){if(!(C instanceof O))throw C}if(v.length===0)throw O.getChecksumInstance();for(let C=0;C<v.length;C++)if(v[C]<x[C].length-1){v[C]++;break}else if(v[C]=0,C===v.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(r){let o=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let h=0;h<o.length;h++)for(let x=0;x<o[h].length;x++)o[h][x]=new Wr;let c=0;for(let h of r.getDetectionResultColumns()){if(h!=null){for(let x of h.getCodewords())if(x!=null){let v=x.getRowNumber();if(v>=0){if(v>=o.length)continue;o[v][c].setValue(x.getValue())}}}c++}return o}static isValidBarcodeColumn(r,o){return o>=0&&o<=r.getBarcodeColumnCount()+1}static getStartColumn(r,o,c,h){let x=h?1:-1,v=null;if(lt.isValidBarcodeColumn(r,o-x)&&(v=r.getDetectionResultColumn(o-x).getCodeword(c)),v!=null)return h?v.getEndX():v.getStartX();if(v=r.getDetectionResultColumn(o).getCodewordNearby(c),v!=null)return h?v.getStartX():v.getEndX();if(lt.isValidBarcodeColumn(r,o-x)&&(v=r.getDetectionResultColumn(o-x).getCodewordNearby(c)),v!=null)return h?v.getEndX():v.getStartX();let _=0;for(;lt.isValidBarcodeColumn(r,o-x);){o-=x;for(let C of r.getDetectionResultColumn(o).getCodewords())if(C!=null)return(h?C.getEndX():C.getStartX())+x*_*(C.getEndX()-C.getStartX());_++}return h?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,o,c,h,x,v,_,C){x=lt.adjustCodewordStartColumn(r,o,c,h,x,v);let T=lt.getModuleBitCount(r,o,c,h,x,v);if(T==null)return null;let R,B=st.sum(T);if(h)R=x+B;else{for(let Q=0;Q<T.length/2;Q++){let ee=T[Q];T[Q]=T[T.length-1-Q],T[T.length-1-Q]=ee}R=x,x=R-B}if(!lt.checkCodewordSkew(B,_,C))return null;let L=Hn.getDecodedValue(T),q=$e.getCodeword(L);return q===-1?null:new qi(x,R,lt.getCodewordBucketNumber(L),q)}static getModuleBitCount(r,o,c,h,x,v){let _=x,C=new Int32Array(8),T=0,R=h?1:-1,B=h;for(;(h?_<c:_>=o)&&T<C.length;)r.get(_,v)===B?(C[T]++,_+=R):(T++,B=!B);return T===C.length||_===(h?c:o)&&T===C.length-1?C:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,o,c,h,x,v){let _=x,C=h?-1:1;for(let T=0;T<2;T++){for(;(h?_>=o:_<c)&&h===r.get(_,v);){if(Math.abs(x-_)>lt.CODEWORD_SKEW_SIZE)return x;_+=C}C=-C,h=!h}return _}static checkCodewordSkew(r,o,c){return o-lt.CODEWORD_SKEW_SIZE<=r&&r<=c+lt.CODEWORD_SKEW_SIZE}static decodeCodewords(r,o,c){if(r.length===0)throw X.getFormatInstance();let h=1<<o+1,x=lt.correctErrors(r,c,h);lt.verifyCodewordCount(r,h);let v=be.decode(r,""+o);return v.setErrorsCorrected(x),v.setErasures(c.length),v}static correctErrors(r,o,c){if(o!=null&&o.length>c/2+lt.MAX_ERRORS||c<0||c>lt.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return lt.errorCorrection.decode(r,c,o)}static verifyCodewordCount(r,o){if(r.length<4)throw X.getFormatInstance();let c=r[0];if(c>r.length)throw X.getFormatInstance();if(c===0)if(o<r.length)r[0]=r.length-o;else throw X.getFormatInstance()}static getBitCountForCodeword(r){let o=new Int32Array(8),c=0,h=o.length-1;for(;!((r&1)!==c&&(c=r&1,h--,h<0));)o[h]++,r>>=1;return o}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return lt.getCodewordBucketNumber(lt.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let o=new Xs;for(let c=0;c<r.length;c++){o.format("Row %2d: ",c);for(let h=0;h<r[c].length;h++){let x=r[c][h];x.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}o.format("%n")}return o.toString()}}lt.CODEWORD_SKEW_SIZE=2,lt.MAX_ERRORS=3,lt.MAX_EC_CODEWORDS=512,lt.errorCorrection=new Mr;class Vn{decode(r,o=null){let c=Vn.decode(r,o,!1);if(c==null||c.length===0||c[0]==null)throw K.getNotFoundInstance();return c[0]}decodeMultiple(r,o=null){try{return Vn.decode(r,o,!0)}catch(c){throw c instanceof X||c instanceof O?K.getNotFoundInstance():c}}static decode(r,o,c){const h=new Array,x=nt.detectMultiple(r,o,c);for(const v of x.getPoints()){const _=lt.decode(x.getBits(),v[4],v[5],v[6],v[7],Vn.getMinCodewordWidth(v),Vn.getMaxCodewordWidth(v)),C=new he(_.getText(),_.getRawBytes(),void 0,v,Se.PDF_417);C.putMetadata(Ye.ERROR_CORRECTION_LEVEL,_.getECLevel());const T=_.getOther();T!=null&&C.putMetadata(Ye.PDF417_EXTRA_METADATA,T),h.push(C)}return h.map(v=>v)}static getMaxWidth(r,o){return r==null||o==null?0:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMinWidth(r,o){return r==null||o==null?z.MAX_VALUE:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Vn.getMaxWidth(r[0],r[4]),Vn.getMaxWidth(r[6],r[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.max(Vn.getMaxWidth(r[1],r[5]),Vn.getMaxWidth(r[7],r[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Vn.getMinWidth(r[0],r[4]),Vn.getMinWidth(r[6],r[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.min(Vn.getMinWidth(r[1],r[5]),Vn.getMinWidth(r[7],r[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}reset(){}}class jo extends f{}jo.kind="ReaderException";class Iu{constructor(r,o){this.verbose=r===!0,o&&this.setHints(o)}decode(r,o){return o&&this.setHints(o),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const o=!s(r)&&r.get($.TRY_HARDER)===!0,c=s(r)?null:r.get($.POSSIBLE_FORMATS),h=new Array;if(!s(c)){const x=c.some(v=>v===Se.UPC_A||v===Se.UPC_E||v===Se.EAN_13||v===Se.EAN_8||v===Se.CODABAR||v===Se.CODE_39||v===Se.CODE_93||v===Se.CODE_128||v===Se.ITF||v===Se.RSS_14||v===Se.RSS_EXPANDED);x&&!o&&h.push(new Vi(r,this.verbose)),c.includes(Se.QR_CODE)&&h.push(new kr),c.includes(Se.DATA_MATRIX)&&h.push(new Or),c.includes(Se.AZTEC)&&h.push(new Ps),c.includes(Se.PDF_417)&&h.push(new Vn),x&&o&&h.push(new Vi(r,this.verbose))}h.length===0&&(o||h.push(new Vi(r,this.verbose)),h.push(new kr),h.push(new Or),h.push(new Ps),h.push(new Vn),o&&h.push(new Vi(r,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new jo("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(r,this.hints)}catch(c){if(c instanceof jo)continue}throw new K("No MultiFormat Readers were able to detect the code.")}}class Bu extends se{constructor(r=null,o=500){const c=new Iu;c.setHints(r),super(c,o)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Wf extends se{constructor(r=500){super(new Vn,r)}}class Zf extends se{constructor(r=500){super(new kr,r)}}var Yl;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(Yl||(Yl={}));var Cn=Yl;class La{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new fn(r,Int32Array.from([1])))}buildGenerator(r){const o=this.cachedGenerators;if(r>=o.length){let c=o[o.length-1];const h=this.field;for(let x=o.length;x<=r;x++){const v=c.multiply(new fn(h,Int32Array.from([1,h.exp(x-1+h.getGeneratorBase())])));o.push(v),c=v}}return o[r]}encode(r,o){if(o===0)throw new E("No error correction bytes");const c=r.length-o;if(c<=0)throw new E("No data bytes provided");const h=this.buildGenerator(o),x=new Int32Array(c);M.arraycopy(r,0,x,0,c);let v=new fn(this.field,x);v=v.multiplyByMonomial(o,1);const C=v.divide(h)[1].getCoefficients(),T=o-C.length;for(let R=0;R<T;R++)r[c+R]=0;M.arraycopy(C,0,r,c+T,C.length)}}class un{constructor(){}static applyMaskPenaltyRule1(r){return un.applyMaskPenaltyRule1Internal(r,!0)+un.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let o=0;const c=r.getArray(),h=r.getWidth(),x=r.getHeight();for(let v=0;v<x-1;v++){const _=c[v];for(let C=0;C<h-1;C++){const T=_[C];T===_[C+1]&&T===c[v+1][C]&&T===c[v+1][C+1]&&o++}}return un.N2*o}static applyMaskPenaltyRule3(r){let o=0;const c=r.getArray(),h=r.getWidth(),x=r.getHeight();for(let v=0;v<x;v++)for(let _=0;_<h;_++){const C=c[v];_+6<h&&C[_]===1&&C[_+1]===0&&C[_+2]===1&&C[_+3]===1&&C[_+4]===1&&C[_+5]===0&&C[_+6]===1&&(un.isWhiteHorizontal(C,_-4,_)||un.isWhiteHorizontal(C,_+7,_+11))&&o++,v+6<x&&c[v][_]===1&&c[v+1][_]===0&&c[v+2][_]===1&&c[v+3][_]===1&&c[v+4][_]===1&&c[v+5][_]===0&&c[v+6][_]===1&&(un.isWhiteVertical(c,_,v-4,v)||un.isWhiteVertical(c,_,v+7,v+11))&&o++}return o*un.N3}static isWhiteHorizontal(r,o,c){o=Math.max(o,0),c=Math.min(c,r.length);for(let h=o;h<c;h++)if(r[h]===1)return!1;return!0}static isWhiteVertical(r,o,c,h){c=Math.max(c,0),h=Math.min(h,r.length);for(let x=c;x<h;x++)if(r[x][o]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let o=0;const c=r.getArray(),h=r.getWidth(),x=r.getHeight();for(let C=0;C<x;C++){const T=c[C];for(let R=0;R<h;R++)T[R]===1&&o++}const v=r.getHeight()*r.getWidth();return Math.floor(Math.abs(o*2-v)*10/v)*un.N4}static getDataMaskBit(r,o,c){let h,x;switch(r){case 0:h=c+o&1;break;case 1:h=c&1;break;case 2:h=o%3;break;case 3:h=(c+o)%3;break;case 4:h=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:x=c*o,h=(x&1)+x%3;break;case 6:x=c*o,h=(x&1)+x%3&1;break;case 7:x=c*o,h=x%3+(c+o&1)&1;break;default:throw new E("Invalid mask pattern: "+r)}return h===0}static applyMaskPenaltyRule1Internal(r,o){let c=0;const h=o?r.getHeight():r.getWidth(),x=o?r.getWidth():r.getHeight(),v=r.getArray();for(let _=0;_<h;_++){let C=0,T=-1;for(let R=0;R<x;R++){const B=o?v[_][R]:v[R][_];B===T?C++:(C>=5&&(c+=un.N1+(C-5)),C=1,T=B)}C>=5&&(c+=un.N1+(C-5))}return c}}un.N1=3,un.N2=3,un.N3=40,un.N4=10;class Io{constructor(r,o){this.width=r,this.height=o;const c=new Array(o);for(let h=0;h!==o;h++)c[h]=new Uint8Array(r);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(r,o){return this.bytes[o][r]}getArray(){return this.bytes}setNumber(r,o,c){this.bytes[o][r]=c}setBoolean(r,o,c){this.bytes[o][r]=c?1:0}clear(r){for(const o of this.bytes)H.fill(o,r)}equals(r){if(!(r instanceof Io))return!1;const o=r;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,h=this.height;c<h;++c){const x=this.bytes[c],v=o.bytes[c];for(let _=0,C=this.width;_<C;++_)if(x[_]!==v[_])return!1}return!0}toString(){const r=new me;for(let o=0,c=this.height;o<c;++o){const h=this.bytes[o];for(let x=0,v=this.width;x<v;++x)switch(h[x]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class ls{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new me;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<ls.NUM_MASK_PATTERNS}}ls.NUM_MASK_PATTERNS=8;class Lt extends f{}Lt.kind="WriterException";class Je{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,o,c,h,x){Je.clearMatrix(x),Je.embedBasicPatterns(c,x),Je.embedTypeInfo(o,h,x),Je.maybeEmbedVersionInfo(c,x),Je.embedDataBits(r,h,x)}static embedBasicPatterns(r,o){Je.embedPositionDetectionPatternsAndSeparators(o),Je.embedDarkDotAtLeftBottomCorner(o),Je.maybeEmbedPositionAdjustmentPatterns(r,o),Je.embedTimingPatterns(o)}static embedTypeInfo(r,o,c){const h=new U;Je.makeTypeInfoBits(r,o,h);for(let x=0,v=h.getSize();x<v;++x){const _=h.get(h.getSize()-1-x),C=Je.TYPE_INFO_COORDINATES[x],T=C[0],R=C[1];if(c.setBoolean(T,R,_),x<8){const B=c.getWidth()-x-1;c.setBoolean(B,8,_)}else{const L=c.getHeight()-7+(x-8);c.setBoolean(8,L,_)}}}static maybeEmbedVersionInfo(r,o){if(r.getVersionNumber()<7)return;const c=new U;Je.makeVersionInfoBits(r,c);let h=17;for(let x=0;x<6;++x)for(let v=0;v<3;++v){const _=c.get(h);h--,o.setBoolean(x,o.getHeight()-11+v,_),o.setBoolean(o.getHeight()-11+v,x,_)}}static embedDataBits(r,o,c){let h=0,x=-1,v=c.getWidth()-1,_=c.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);_>=0&&_<c.getHeight();){for(let C=0;C<2;++C){const T=v-C;if(!Je.isEmpty(c.get(T,_)))continue;let R;h<r.getSize()?(R=r.get(h),++h):R=!1,o!==255&&un.getDataMaskBit(o,T,_)&&(R=!R),c.setBoolean(T,_,R)}_+=x}x=-x,_+=x,v-=2}if(h!==r.getSize())throw new Lt("Not all bits consumed: "+h+"/"+r.getSize())}static findMSBSet(r){return 32-z.numberOfLeadingZeros(r)}static calculateBCHCode(r,o){if(o===0)throw new E("0 polynomial");const c=Je.findMSBSet(o);for(r<<=c-1;Je.findMSBSet(r)>=c;)r^=o<<Je.findMSBSet(r)-c;return r}static makeTypeInfoBits(r,o,c){if(!ls.isValidMaskPattern(o))throw new Lt("Invalid mask pattern");const h=r.getBits()<<3|o;c.appendBits(h,5);const x=Je.calculateBCHCode(h,Je.TYPE_INFO_POLY);c.appendBits(x,10);const v=new U;if(v.appendBits(Je.TYPE_INFO_MASK_PATTERN,15),c.xor(v),c.getSize()!==15)throw new Lt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(r,o){o.appendBits(r.getVersionNumber(),6);const c=Je.calculateBCHCode(r.getVersionNumber(),Je.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new Lt("should not happen but we got: "+o.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let o=8;o<r.getWidth()-8;++o){const c=(o+1)%2;Je.isEmpty(r.get(o,6))&&r.setNumber(o,6,c),Je.isEmpty(r.get(6,o))&&r.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Lt;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,o,c){for(let h=0;h<8;++h){if(!Je.isEmpty(c.get(r+h,o)))throw new Lt;c.setNumber(r+h,o,0)}}static embedVerticalSeparationPattern(r,o,c){for(let h=0;h<7;++h){if(!Je.isEmpty(c.get(r,o+h)))throw new Lt;c.setNumber(r,o+h,0)}}static embedPositionAdjustmentPattern(r,o,c){for(let h=0;h<5;++h){const x=Je.POSITION_ADJUSTMENT_PATTERN[h];for(let v=0;v<5;++v)c.setNumber(r+v,o+h,x[v])}}static embedPositionDetectionPattern(r,o,c){for(let h=0;h<7;++h){const x=Je.POSITION_DETECTION_PATTERN[h];for(let v=0;v<7;++v)c.setNumber(r+v,o+h,x[v])}}static embedPositionDetectionPatternsAndSeparators(r){const o=Je.POSITION_DETECTION_PATTERN[0].length;Je.embedPositionDetectionPattern(0,0,r),Je.embedPositionDetectionPattern(r.getWidth()-o,0,r),Je.embedPositionDetectionPattern(0,r.getWidth()-o,r);const c=8;Je.embedHorizontalSeparationPattern(0,c-1,r),Je.embedHorizontalSeparationPattern(r.getWidth()-c,c-1,r),Je.embedHorizontalSeparationPattern(0,r.getWidth()-c,r);const h=7;Je.embedVerticalSeparationPattern(h,0,r),Je.embedVerticalSeparationPattern(r.getHeight()-h-1,0,r),Je.embedVerticalSeparationPattern(h,r.getHeight()-h,r)}static maybeEmbedPositionAdjustmentPatterns(r,o){if(r.getVersionNumber()<2)return;const c=r.getVersionNumber()-1,h=Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let x=0,v=h.length;x!==v;x++){const _=h[x];if(_>=0)for(let C=0;C!==v;C++){const T=h[C];T>=0&&Je.isEmpty(o.get(T,_))&&Je.embedPositionAdjustmentPattern(T-2,_-2,o)}}}}Je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Je.VERSION_INFO_POLY=7973,Je.TYPE_INFO_POLY=1335,Je.TYPE_INFO_MASK_PATTERN=21522;class Kf{constructor(r,o){this.dataBytes=r,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Kt{constructor(){}static calculateMaskPenalty(r){return un.applyMaskPenaltyRule1(r)+un.applyMaskPenaltyRule2(r)+un.applyMaskPenaltyRule3(r)+un.applyMaskPenaltyRule4(r)}static encode(r,o,c=null){let h=Kt.DEFAULT_BYTE_MODE_ENCODING;const x=c!==null&&c.get(Cn.CHARACTER_SET)!==void 0;x&&(h=c.get(Cn.CHARACTER_SET).toString());const v=this.chooseMode(r,h),_=new U;if(v===Ze.BYTE&&(x||Kt.DEFAULT_BYTE_MODE_ENCODING!==h)){const Re=J.getCharacterSetECIByName(h);Re!==void 0&&this.appendECI(Re,_)}this.appendModeInfo(v,_);const C=new U;this.appendBytes(r,v,C,h);let T;if(c!==null&&c.get(Cn.QR_VERSION)!==void 0){const Re=Number.parseInt(c.get(Cn.QR_VERSION).toString(),10);T=qe.getVersionForNumber(Re);const Te=this.calculateBitsNeeded(v,_,C,T);if(!this.willFit(Te,T,o))throw new Lt("Data too big for requested version")}else T=this.recommendVersion(o,v,_,C);const R=new U;R.appendBitArray(_);const B=v===Ze.BYTE?C.getSizeInBytes():r.length;this.appendLengthInfo(B,T,v,R),R.appendBitArray(C);const L=T.getECBlocksForLevel(o),q=T.getTotalCodewords()-L.getTotalECCodewords();this.terminateBits(q,R);const Q=this.interleaveWithECBytes(R,T.getTotalCodewords(),q,L.getNumBlocks()),ee=new ls;ee.setECLevel(o),ee.setMode(v),ee.setVersion(T);const le=T.getDimensionForVersion(),pe=new Io(le,le),De=this.chooseMaskPattern(Q,o,T,pe);return ee.setMaskPattern(De),Je.buildMatrix(Q,o,T,De,pe),ee.setMatrix(pe),ee}static recommendVersion(r,o,c,h){const x=this.calculateBitsNeeded(o,c,h,qe.getVersionForNumber(1)),v=this.chooseVersion(x,r),_=this.calculateBitsNeeded(o,c,h,v);return this.chooseVersion(_,r)}static calculateBitsNeeded(r,o,c,h){return o.getSize()+r.getCharacterCountBits(h)+c.getSize()}static getAlphanumericCode(r){return r<Kt.ALPHANUMERIC_TABLE.length?Kt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,o=null){if(J.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(r))return Ze.KANJI;let c=!1,h=!1;for(let x=0,v=r.length;x<v;++x){const _=r.charAt(x);if(Kt.isDigit(_))c=!0;else if(this.getAlphanumericCode(_.charCodeAt(0))!==-1)h=!0;else return Ze.BYTE}return h?Ze.ALPHANUMERIC:c?Ze.NUMERIC:Ze.BYTE}static isOnlyDoubleByteKanji(r){let o;try{o=Ee.encode(r,J.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let h=0;h<c;h+=2){const x=o[h]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(r,o,c,h){let x=Number.MAX_SAFE_INTEGER,v=-1;for(let _=0;_<ls.NUM_MASK_PATTERNS;_++){Je.buildMatrix(r,o,c,_,h);let C=this.calculateMaskPenalty(h);C<x&&(x=C,v=_)}return v}static chooseVersion(r,o){for(let c=1;c<=40;c++){const h=qe.getVersionForNumber(c);if(Kt.willFit(r,h,o))return h}throw new Lt("Data too big")}static willFit(r,o,c){const h=o.getTotalCodewords(),v=o.getECBlocksForLevel(c).getTotalECCodewords(),_=h-v,C=(r+7)/8;return _>=C}static terminateBits(r,o){const c=r*8;if(o.getSize()>c)throw new Lt("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let v=0;v<4&&o.getSize()<c;++v)o.appendBit(!1);const h=o.getSize()&7;if(h>0)for(let v=h;v<8;v++)o.appendBit(!1);const x=r-o.getSizeInBytes();for(let v=0;v<x;++v)o.appendBits((v&1)===0?236:17,8);if(o.getSize()!==c)throw new Lt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,o,c,h,x,v){if(h>=c)throw new Lt("Block ID too large");const _=r%c,C=c-_,T=Math.floor(r/c),R=T+1,B=Math.floor(o/c),L=B+1,q=T-B,Q=R-L;if(q!==Q)throw new Lt("EC bytes mismatch");if(c!==C+_)throw new Lt("RS blocks mismatch");if(r!==(B+q)*C+(L+Q)*_)throw new Lt("Total bytes mismatch");h<C?(x[0]=B,v[0]=q):(x[0]=L,v[0]=Q)}static interleaveWithECBytes(r,o,c,h){if(r.getSizeInBytes()!==c)throw new Lt("Number of bits and data bytes does not match");let x=0,v=0,_=0;const C=new Array;for(let R=0;R<h;++R){const B=new Int32Array(1),L=new Int32Array(1);Kt.getNumDataBytesAndNumECBytesForBlockID(o,c,h,R,B,L);const q=B[0],Q=new Uint8Array(q);r.toBytes(8*x,Q,0,q);const ee=Kt.generateECBytes(Q,L[0]);C.push(new Kf(Q,ee)),v=Math.max(v,q),_=Math.max(_,ee.length),x+=B[0]}if(c!==x)throw new Lt("Data bytes does not match offset");const T=new U;for(let R=0;R<v;++R)for(const B of C){const L=B.getDataBytes();R<L.length&&T.appendBits(L[R],8)}for(let R=0;R<_;++R)for(const B of C){const L=B.getErrorCorrectionBytes();R<L.length&&T.appendBits(L[R],8)}if(o!==T.getSizeInBytes())throw new Lt("Interleaving error: "+o+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(r,o){const c=r.length,h=new Int32Array(c+o);for(let v=0;v<c;v++)h[v]=r[v]&255;new La(ht.QR_CODE_FIELD_256).encode(h,o);const x=new Uint8Array(o);for(let v=0;v<o;v++)x[v]=h[c+v];return x}static appendModeInfo(r,o){o.appendBits(r.getBits(),4)}static appendLengthInfo(r,o,c,h){const x=c.getCharacterCountBits(o);if(r>=1<<x)throw new Lt(r+" is bigger than "+((1<<x)-1));h.appendBits(r,x)}static appendBytes(r,o,c,h){switch(o){case Ze.NUMERIC:Kt.appendNumericBytes(r,c);break;case Ze.ALPHANUMERIC:Kt.appendAlphanumericBytes(r,c);break;case Ze.BYTE:Kt.append8BitBytes(r,c,h);break;case Ze.KANJI:Kt.appendKanjiBytes(r,c);break;default:throw new Lt("Invalid mode: "+o)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const o=Kt.getDigit(r);return o>=0&&o<=9}static appendNumericBytes(r,o){const c=r.length;let h=0;for(;h<c;){const x=Kt.getDigit(r.charAt(h));if(h+2<c){const v=Kt.getDigit(r.charAt(h+1)),_=Kt.getDigit(r.charAt(h+2));o.appendBits(x*100+v*10+_,10),h+=3}else if(h+1<c){const v=Kt.getDigit(r.charAt(h+1));o.appendBits(x*10+v,7),h+=2}else o.appendBits(x,4),h++}}static appendAlphanumericBytes(r,o){const c=r.length;let h=0;for(;h<c;){const x=Kt.getAlphanumericCode(r.charCodeAt(h));if(x===-1)throw new Lt;if(h+1<c){const v=Kt.getAlphanumericCode(r.charCodeAt(h+1));if(v===-1)throw new Lt;o.appendBits(x*45+v,11),h+=2}else o.appendBits(x,6),h++}}static append8BitBytes(r,o,c){let h;try{h=Ee.encode(r,c)}catch(x){throw new Lt(x)}for(let x=0,v=h.length;x!==v;x++){const _=h[x];o.appendBits(_,8)}}static appendKanjiBytes(r,o){let c;try{c=Ee.encode(r,J.SJIS)}catch(x){throw new Lt(x)}const h=c.length;for(let x=0;x<h;x+=2){const v=c[x]&255,_=c[x+1]&255,C=v<<8&4294967295|_;let T=-1;if(C>=33088&&C<=40956?T=C-33088:C>=57408&&C<=60351&&(T=C-49472),T===-1)throw new Lt("Invalid byte sequence");const R=(T>>8)*192+(T&255);o.appendBits(R,13)}}static appendECI(r,o){o.appendBits(Ze.ECI.getBits(),4),o.appendBits(r.getValue(),8)}}Kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Kt.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class cs{write(r,o,c,h=null){if(r.length===0)throw new E("Found empty contents");if(o<0||c<0)throw new E("Requested dimensions are too small: "+o+"x"+c);let x=ft.L,v=cs.QUIET_ZONE_SIZE;h!==null&&(h.get(Cn.ERROR_CORRECTION)!==void 0&&(x=ft.fromString(h.get(Cn.ERROR_CORRECTION).toString())),h.get(Cn.MARGIN)!==void 0&&(v=Number.parseInt(h.get(Cn.MARGIN).toString(),10)));const _=Kt.encode(r,x,h);return this.renderResult(_,o,c,v)}writeToDom(r,o,c,h,x=null){typeof r=="string"&&(r=document.querySelector(r));const v=this.write(o,c,h,x);r&&r.appendChild(v)}renderResult(r,o,c,h){const x=r.getMatrix();if(x===null)throw new Dn;const v=x.getWidth(),_=x.getHeight(),C=v+h*2,T=_+h*2,R=Math.max(o,C),B=Math.max(c,T),L=Math.min(Math.floor(R/C),Math.floor(B/T)),q=Math.floor((R-v*L)/2),Q=Math.floor((B-_*L)/2),ee=this.createSVGElement(R,B);for(let le=0,pe=Q;le<_;le++,pe+=L)for(let De=0,Re=q;De<v;De++,Re+=L)if(x.get(De,le)===1){const Te=this.createSvgRectElement(Re,pe,L,L);ee.appendChild(Te)}return ee}createSVGElement(r,o){const c=document.createElementNS(cs.SVG_NS,"svg");return c.setAttributeNS(null,"height",r.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(r,o,c,h){const x=document.createElementNS(cs.SVG_NS,"rect");return x.setAttributeNS(null,"x",r.toString()),x.setAttributeNS(null,"y",o.toString()),x.setAttributeNS(null,"height",c.toString()),x.setAttributeNS(null,"width",h.toString()),x.setAttributeNS(null,"fill","#000000"),x}}cs.QUIET_ZONE_SIZE=4,cs.SVG_NS="http://www.w3.org/2000/svg";class Ws{encode(r,o,c,h,x){if(r.length===0)throw new E("Found empty contents");if(o!==Se.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(c<0||h<0)throw new E(`Requested dimensions are too small: ${c}x${h}`);let v=ft.L,_=Ws.QUIET_ZONE_SIZE;x!==null&&(x.get(Cn.ERROR_CORRECTION)!==void 0&&(v=ft.fromString(x.get(Cn.ERROR_CORRECTION).toString())),x.get(Cn.MARGIN)!==void 0&&(_=Number.parseInt(x.get(Cn.MARGIN).toString(),10)));const C=Kt.encode(r,v,x);return Ws.renderResult(C,c,h,_)}static renderResult(r,o,c,h){const x=r.getMatrix();if(x===null)throw new Dn;const v=x.getWidth(),_=x.getHeight(),C=v+h*2,T=_+h*2,R=Math.max(o,C),B=Math.max(c,T),L=Math.min(Math.floor(R/C),Math.floor(B/T)),q=Math.floor((R-v*L)/2),Q=Math.floor((B-_*L)/2),ee=new ke(R,B);for(let le=0,pe=Q;le<_;le++,pe+=L)for(let De=0,Re=q;De<v;De++,Re+=L)x.get(De,le)===1&&ee.setRegion(Re,pe,L,L);return ee}}Ws.QUIET_ZONE_SIZE=4;class Qf{encode(r,o,c,h,x){let v;if(o===Se.QR_CODE)v=new Ws;else throw new E("No encoder available for format "+o);return v.encode(r,o,c,h,x)}}class fr extends Me{constructor(r,o,c,h,x,v,_,C){if(super(v,_),this.yuvData=r,this.dataWidth=o,this.dataHeight=c,this.left=h,this.top=x,h+v>o||x+_>c)throw new E("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(v,_)}getRow(r,o){if(r<0||r>=this.getHeight())throw new E("Requested row is outside the image: "+r);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const h=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,h,o,0,c),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=r*o,h=new Uint8ClampedArray(c);let x=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.yuvData,x,h,0,c),h;for(let v=0;v<o;v++){const _=v*r;M.arraycopy(this.yuvData,x,h,_,r),x+=this.dataWidth}return h}isCropSupported(){return!0}crop(r,o,c,h){return new fr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+o,c,h,!1)}renderThumbnail(){const r=this.getWidth()/fr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/fr.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(r*o),h=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let v=0;v<o;v++){const _=v*r;for(let C=0;C<r;C++){const T=h[x+C*fr.THUMBNAIL_SCALE_FACTOR]&255;c[_+C]=4278190080|T*65793}x+=this.dataWidth*fr.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/fr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/fr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,o){const c=this.yuvData;for(let h=0,x=this.top*this.dataWidth+this.left;h<o;h++,x+=this.dataWidth){const v=x+r/2;for(let _=x,C=x+r-1;_<v;_++,C--){const T=c[_];c[_]=c[C],c[C]=T}}}invert(){return new Be(this)}}fr.THUMBNAIL_SCALE_FACTOR=2;class Wl extends Me{constructor(r,o,c,h,x,v,_){if(super(o,c),this.dataWidth=h,this.dataHeight=x,this.left=v,this.top=_,r.BYTES_PER_ELEMENT===4){const C=o*c,T=new Uint8ClampedArray(C);for(let R=0;R<C;R++){const B=r[R],L=B>>16&255,q=B>>7&510,Q=B&255;T[R]=(L+q+Q)/4&255}this.luminances=T}else this.luminances=r;if(h===void 0&&(this.dataWidth=o),x===void 0&&(this.dataHeight=c),v===void 0&&(this.left=0),_===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(r,o){if(r<0||r>=this.getHeight())throw new E("Requested row is outside the image: "+r);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const h=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,h,o,0,c),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=r*o,h=new Uint8ClampedArray(c);let x=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.luminances,x,h,0,c),h;for(let v=0;v<o;v++){const _=v*r;M.arraycopy(this.luminances,x,h,_,r),x+=this.dataWidth}return h}isCropSupported(){return!0}crop(r,o,c,h){return new Wl(this.luminances,c,h,this.dataWidth,this.dataHeight,this.left+r,this.top+o)}invert(){return new Be(this)}}class Lu extends J{static forName(r){return this.getCharacterSetECIByName(r)}}class Pa{}Pa.ISO_8859_1=J.ISO8859_1;class Zs{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class Pu{static singletonList(r){return[r]}static min(r,o){return r.sort(o)[0]}}class zu{constructor(r){this.previous=r}getPrevious(){return this.previous}}class us extends zu{constructor(r,o,c){super(r),this.value=o,this.bitCount=c}appendTo(r,o){r.appendBits(this.value,this.bitCount)}add(r,o){return new us(this,r,o)}addBinaryShift(r,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new us(this,r,o)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+z.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Bo extends us{constructor(r,o,c){super(r,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(r,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):c===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(r,o){return new Bo(this,r,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Fu(I,r,o){return new Bo(I,r,o)}function Ks(I,r,o){return new us(I,r,o)}const Qs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Kr=0,Lo=1,Ti=2,Zl=3,Xi=4,za=new us(null,0,0),ds=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function $f(I){for(let r of I)H.fill(r,-1);return I[Kr][Xi]=0,I[Lo][Xi]=0,I[Lo][Kr]=28,I[Zl][Xi]=0,I[Ti][Xi]=0,I[Ti][Kr]=15,I}const Fa=$f(H.createInt32Array(6,6));class Yi{constructor(r,o,c,h){this.token=r,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,o){let c=this.bitCount,h=this.token;if(r!==this.mode){let v=ds[this.mode][r];h=Ks(h,v&65535,v>>16),c+=v>>16}let x=r===Ti?4:5;return h=Ks(h,o,x),new Yi(h,r,0,c+x)}shiftAndAppend(r,o){let c=this.token,h=this.mode===Ti?4:5;return c=Ks(c,Fa[this.mode][r],h),c=Ks(c,o,5),new Yi(c,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(r){let o=this.token,c=this.mode,h=this.bitCount;if(this.mode===Xi||this.mode===Ti){let _=ds[c][Kr];o=Ks(o,_&65535,_>>16),h+=_>>16,c=Kr}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new Yi(o,c,this.binaryShiftByteCount+1,h+x);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(r+1)),v}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Fu(o,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Yi(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let o=this.bitCount+(ds[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?o+=Yi.calculateBinaryShiftCost(r)-Yi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(o+=10),o<=r.bitCount}toBitArray(r){let o=[];for(let h=this.endBinaryShift(r.length).token;h!==null;h=h.getPrevious())o.unshift(h);let c=new U;for(const h of o)h.appendTo(c,r);return c}toString(){return xe.format("%s bits=%d bytes=%d",Qs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Yi.INITIAL_STATE=new Yi(za,Kr,0,0);function Uu(I){const r=xe.getCharCode(" "),o=xe.getCharCode("."),c=xe.getCharCode(",");I[Kr][r]=1;const h=xe.getCharCode("Z"),x=xe.getCharCode("A");for(let L=x;L<=h;L++)I[Kr][L]=L-x+2;I[Lo][r]=1;const v=xe.getCharCode("z"),_=xe.getCharCode("a");for(let L=_;L<=v;L++)I[Lo][L]=L-_+2;I[Ti][r]=1;const C=xe.getCharCode("9"),T=xe.getCharCode("0");for(let L=T;L<=C;L++)I[Ti][L]=L-T+2;I[Ti][c]=12,I[Ti][o]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let L=0;L<R.length;L++)I[Zl][xe.getCharCode(R[L])]=L;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let L=0;L<B.length;L++)xe.getCharCode(B[L])>0&&(I[Xi][xe.getCharCode(B[L])]=L);return I}const Ua=Uu(H.createInt32Array(5,256));class fs{constructor(r){this.text=r}encode(){const r=xe.getCharCode(" "),o=xe.getCharCode(`
`);let c=Pu.singletonList(Yi.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let v,_=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case xe.getCharCode("\r"):v=_===o?2:0;break;case xe.getCharCode("."):v=_===r?3:0;break;case xe.getCharCode(","):v=_===r?4:0;break;case xe.getCharCode(":"):v=_===r?5:0;break;default:v=0}v>0?(c=fs.updateStateListForPair(c,x,v),x++):c=this.updateStateListForChar(c,x)}return Pu.min(c,(x,v)=>x.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,o){const c=[];for(let h of r)this.updateStateForChar(h,o,c);return fs.simplifyStates(c)}updateStateForChar(r,o,c){let h=this.text[o]&255,x=Ua[r.getMode()][h]>0,v=null;for(let _=0;_<=Xi;_++){let C=Ua[_][h];if(C>0){if(v==null&&(v=r.endBinaryShift(o)),!x||_===r.getMode()||_===Ti){const T=v.latchAndAppend(_,C);c.push(T)}if(!x&&Fa[r.getMode()][_]>=0){const T=v.shiftAndAppend(_,C);c.push(T)}}}if(r.getBinaryShiftByteCount()>0||Ua[r.getMode()][h]===0){let _=r.addBinaryShiftChar(o);c.push(_)}}static updateStateListForPair(r,o,c){const h=[];for(let x of r)this.updateStateForPair(x,o,c,h);return this.simplifyStates(h)}static updateStateForPair(r,o,c,h){let x=r.endBinaryShift(o);if(h.push(x.latchAndAppend(Xi,c)),r.getMode()!==Xi&&h.push(x.shiftAndAppend(Xi,c)),c===3||c===4){let v=x.latchAndAppend(Ti,16-c).latchAndAppend(Ti,1);h.push(v)}if(r.getBinaryShiftByteCount()>0){let v=r.addBinaryShiftChar(o).addBinaryShiftChar(o+1);h.push(v)}}static simplifyStates(r){let o=[];for(const c of r){let h=!0;for(const x of o){if(x.isBetterThanOrEqualTo(c)){h=!1;break}c.isBetterThanOrEqualTo(x)&&(o=o.filter(v=>v!==x))}h&&o.push(c)}return o}}class yt{constructor(){}static encodeBytes(r){return yt.encode(r,yt.DEFAULT_EC_PERCENT,yt.DEFAULT_AZTEC_LAYERS)}static encode(r,o,c){let h=new fs(r).encode(),x=z.truncDivision(h.getSize()*o,100)+11,v=h.getSize()+x,_,C,T,R,B;if(c!==yt.DEFAULT_AZTEC_LAYERS){if(_=c<0,C=Math.abs(c),C>(_?yt.MAX_NB_BITS_COMPACT:yt.MAX_NB_BITS))throw new E(xe.format("Illegal value %s for layers",c));T=yt.totalBitsInLayer(C,_),R=yt.WORD_SIZE[C];let Te=T-T%R;if(B=yt.stuffBits(h,R),B.getSize()+x>Te)throw new E("Data to large for user specified layer");if(_&&B.getSize()>R*64)throw new E("Data to large for user specified layer")}else{R=0,B=null;for(let Te=0;;Te++){if(Te>yt.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(_=Te<=3,C=_?Te+1:Te,T=yt.totalBitsInLayer(C,_),v>T)continue;(B==null||R!==yt.WORD_SIZE[C])&&(R=yt.WORD_SIZE[C],B=yt.stuffBits(h,R));let ut=T-T%R;if(!(_&&B.getSize()>R*64)&&B.getSize()+x<=ut)break}}let L=yt.generateCheckWords(B,T,R),q=B.getSize()/R,Q=yt.generateModeMessage(_,C,q),ee=(_?11:14)+C*4,le=new Int32Array(ee),pe;if(_){pe=ee;for(let Te=0;Te<le.length;Te++)le[Te]=Te}else{pe=ee+1+2*z.truncDivision(z.truncDivision(ee,2)-1,15);let Te=z.truncDivision(ee,2),ut=z.truncDivision(pe,2);for(let it=0;it<Te;it++){let bn=it+z.truncDivision(it,15);le[Te-it-1]=ut-bn-1,le[Te+it]=ut+bn+1}}let De=new ke(pe);for(let Te=0,ut=0;Te<C;Te++){let it=(C-Te)*4+(_?9:12);for(let bn=0;bn<it;bn++){let Oi=bn*2;for(let ti=0;ti<2;ti++)L.get(ut+Oi+ti)&&De.set(le[Te*2+ti],le[Te*2+bn]),L.get(ut+it*2+Oi+ti)&&De.set(le[Te*2+bn],le[ee-1-Te*2-ti]),L.get(ut+it*4+Oi+ti)&&De.set(le[ee-1-Te*2-ti],le[ee-1-Te*2-bn]),L.get(ut+it*6+Oi+ti)&&De.set(le[ee-1-Te*2-bn],le[Te*2+ti])}ut+=it*8}if(yt.drawModeMessage(De,_,pe,Q),_)yt.drawBullsEye(De,z.truncDivision(pe,2),5);else{yt.drawBullsEye(De,z.truncDivision(pe,2),7);for(let Te=0,ut=0;Te<z.truncDivision(ee,2)-1;Te+=15,ut+=16)for(let it=z.truncDivision(pe,2)&1;it<pe;it+=2)De.set(z.truncDivision(pe,2)-ut,it),De.set(z.truncDivision(pe,2)+ut,it),De.set(it,z.truncDivision(pe,2)-ut),De.set(it,z.truncDivision(pe,2)+ut)}let Re=new Zs;return Re.setCompact(_),Re.setSize(pe),Re.setLayers(C),Re.setCodeWords(q),Re.setMatrix(De),Re}static drawBullsEye(r,o,c){for(let h=0;h<c;h+=2)for(let x=o-h;x<=o+h;x++)r.set(x,o-h),r.set(x,o+h),r.set(o-h,x),r.set(o+h,x);r.set(o-c,o-c),r.set(o-c+1,o-c),r.set(o-c,o-c+1),r.set(o+c,o-c),r.set(o+c,o-c+1),r.set(o+c,o+c-1)}static generateModeMessage(r,o,c){let h=new U;return r?(h.appendBits(o-1,2),h.appendBits(c-1,6),h=yt.generateCheckWords(h,28,4)):(h.appendBits(o-1,5),h.appendBits(c-1,11),h=yt.generateCheckWords(h,40,4)),h}static drawModeMessage(r,o,c,h){let x=z.truncDivision(c,2);if(o)for(let v=0;v<7;v++){let _=x-3+v;h.get(v)&&r.set(_,x-5),h.get(v+7)&&r.set(x+5,_),h.get(20-v)&&r.set(_,x+5),h.get(27-v)&&r.set(x-5,_)}else for(let v=0;v<10;v++){let _=x-5+v+z.truncDivision(v,5);h.get(v)&&r.set(_,x-7),h.get(v+10)&&r.set(x+7,_),h.get(29-v)&&r.set(_,x+7),h.get(39-v)&&r.set(x-7,_)}}static generateCheckWords(r,o,c){let h=r.getSize()/c,x=new La(yt.getGF(c)),v=z.truncDivision(o,c),_=yt.bitsToWords(r,c,v);x.encode(_,v-h);let C=o%c,T=new U;T.appendBits(0,C);for(const R of Array.from(_))T.appendBits(R,c);return T}static bitsToWords(r,o,c){let h=new Int32Array(c),x,v;for(x=0,v=r.getSize()/o;x<v;x++){let _=0;for(let C=0;C<o;C++)_|=r.get(x*o+C)?1<<o-C-1:0;h[x]=_}return h}static getGF(r){switch(r){case 4:return ht.AZTEC_PARAM;case 6:return ht.AZTEC_DATA_6;case 8:return ht.AZTEC_DATA_8;case 10:return ht.AZTEC_DATA_10;case 12:return ht.AZTEC_DATA_12;default:throw new E("Unsupported word size "+r)}}static stuffBits(r,o){let c=new U,h=r.getSize(),x=(1<<o)-2;for(let v=0;v<h;v+=o){let _=0;for(let C=0;C<o;C++)(v+C>=h||r.get(v+C))&&(_|=1<<o-1-C);(_&x)===x?(c.appendBits(_&x,o),v--):(_&x)===0?(c.appendBits(_|1,o),v--):c.appendBits(_,o)}return c}static totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}yt.DEFAULT_EC_PERCENT=33,yt.DEFAULT_AZTEC_LAYERS=0,yt.MAX_NB_BITS=32,yt.MAX_NB_BITS_COMPACT=4,yt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ha{encode(r,o,c,h){return this.encodeWithHints(r,o,c,h,null)}encodeWithHints(r,o,c,h,x){let v=Pa.ISO_8859_1,_=yt.DEFAULT_EC_PERCENT,C=yt.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Cn.CHARACTER_SET)&&(v=Lu.forName(x.get(Cn.CHARACTER_SET).toString())),x.has(Cn.ERROR_CORRECTION)&&(_=z.parseInt(x.get(Cn.ERROR_CORRECTION).toString())),x.has(Cn.AZTEC_LAYERS)&&(C=z.parseInt(x.get(Cn.AZTEC_LAYERS).toString()))),Ha.encodeLayers(r,o,c,h,v,_,C)}static encodeLayers(r,o,c,h,x,v,_){if(o!==Se.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let C=yt.encode(xe.getBytes(r,x),v,_);return Ha.renderResult(C,c,h)}static renderResult(r,o,c){let h=r.getMatrix();if(h==null)throw new Dn;let x=h.getWidth(),v=h.getHeight(),_=Math.max(o,x),C=Math.max(c,v),T=Math.min(_/x,C/v),R=(_-x*T)/2,B=(C-v*T)/2,L=new ke(_,C);for(let q=0,Q=B;q<v;q++,Q+=T)for(let ee=0,le=R;ee<x;ee++,le+=T)h.get(ee,q)&&L.setRegion(le,Q,T,T);return L}}n.AbstractExpandedDecoder=An,n.ArgumentException=w,n.ArithmeticException=Ur,n.AztecCode=Zs,n.AztecCodeReader=Ps,n.AztecCodeWriter=Ha,n.AztecDecoder=_t,n.AztecDetector=Ra,n.AztecDetectorResult=So,n.AztecEncoder=yt,n.AztecHighLevelEncoder=fs,n.AztecPoint=Fn,n.BarcodeFormat=Se,n.Binarizer=k,n.BinaryBitmap=S,n.BitArray=U,n.BitMatrix=ke,n.BitSource=Gi,n.BrowserAztecCodeReader=Co,n.BrowserBarcodeReader=qf,n.BrowserCodeReader=se,n.BrowserDatamatrixCodeReader=Oo,n.BrowserMultiFormatReader=Bu,n.BrowserPDF417Reader=Wf,n.BrowserQRCodeReader=Zf,n.BrowserQRCodeSvgWriter=cs,n.CharacterSetECI=J,n.ChecksumException=O,n.Code128Reader=te,n.Code39Reader=Ke,n.DataMatrixDecodedBitStreamParser=Tr,n.DataMatrixReader=Or,n.DecodeHintType=$,n.DecoderResult=Pe,n.DefaultGridSampler=Ma,n.DetectorResult=Ls,n.EAN13Reader=lr,n.EncodeHintType=Cn,n.Exception=f,n.FormatException=X,n.GenericGF=ht,n.GenericGFPoly=fn,n.GlobalHistogramBinarizer=Z,n.GridSampler=ka,n.GridSamplerInstance=hi,n.HTMLCanvasElementLuminanceSource=Le,n.HybridBinarizer=oe,n.ITFReader=ze,n.IllegalArgumentException=E,n.IllegalStateException=Dn,n.InvertedLuminanceSource=Be,n.LuminanceSource=Me,n.MathUtils=st,n.MultiFormatOneDReader=Vi,n.MultiFormatReader=Iu,n.MultiFormatWriter=Qf,n.NotFoundException=K,n.OneDReader=Gt,n.PDF417DecodedBitStreamParser=be,n.PDF417DecoderErrorCorrection=Mr,n.PDF417Reader=Vn,n.PDF417ResultMetadata=Ys,n.PerspectiveTransform=Zn,n.PlanarYUVLuminanceSource=fr,n.QRCodeByteMatrix=Io,n.QRCodeDataMask=pi,n.QRCodeDecodedBitStreamParser=Wt,n.QRCodeDecoderErrorCorrectionLevel=ft,n.QRCodeDecoderFormatInformation=jn,n.QRCodeEncoder=Kt,n.QRCodeEncoderQRCode=ls,n.QRCodeMaskUtil=un,n.QRCodeMatrixUtil=Je,n.QRCodeMode=Ze,n.QRCodeReader=kr,n.QRCodeVersion=qe,n.QRCodeWriter=Ws,n.RGBLuminanceSource=Wl,n.RSS14Reader=Bt,n.RSSExpandedReader=Ne,n.ReaderException=jo,n.ReedSolomonDecoder=Cr,n.ReedSolomonEncoder=La,n.ReedSolomonException=ai,n.Result=he,n.ResultMetadataType=Ye,n.ResultPoint=He,n.StringUtils=xe,n.UnsupportedOperationException=Oe,n.VideoInputDevice=G,n.WhiteRectangleDetector=tn,n.WriterException=Lt,n.ZXingArrays=H,n.ZXingCharset=Lu,n.ZXingInteger=z,n.ZXingStandardCharsets=Pa,n.ZXingStringBuilder=me,n.ZXingStringEncoding=Ee,n.ZXingSystem=M,n.createAbstractExpandedDecoder=Fs,Object.defineProperty(n,"__esModule",{value:!0})}))})(Gc,Gc.exports)),Gc.exports}var on=TT();const OT=$w(on),kT=EE({__proto__:null,default:OT},[on]);var Sy=(function(){function t(e,n,s){if(this.formatMap=new Map([[Ve.QR_CODE,on.BarcodeFormat.QR_CODE],[Ve.AZTEC,on.BarcodeFormat.AZTEC],[Ve.CODABAR,on.BarcodeFormat.CODABAR],[Ve.CODE_39,on.BarcodeFormat.CODE_39],[Ve.CODE_93,on.BarcodeFormat.CODE_93],[Ve.CODE_128,on.BarcodeFormat.CODE_128],[Ve.DATA_MATRIX,on.BarcodeFormat.DATA_MATRIX],[Ve.MAXICODE,on.BarcodeFormat.MAXICODE],[Ve.ITF,on.BarcodeFormat.ITF],[Ve.EAN_13,on.BarcodeFormat.EAN_13],[Ve.EAN_8,on.BarcodeFormat.EAN_8],[Ve.PDF_417,on.BarcodeFormat.PDF_417],[Ve.RSS_14,on.BarcodeFormat.RSS_14],[Ve.RSS_EXPANDED,on.BarcodeFormat.RSS_EXPANDED],[Ve.UPC_A,on.BarcodeFormat.UPC_A],[Ve.UPC_E,on.BarcodeFormat.UPC_E],[Ve.UPC_EAN_EXTENSION,on.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!kT)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var l=this.createZXingFormats(e),u=new Map;u.set(on.DecodeHintType.POSSIBLE_FORMATS,l),u.set(on.DecodeHintType.TRY_HARDER,!1),this.hints=u}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(s,l){try{s(n.decode(e))}catch(u){l(u)}})},t.prototype.decode=function(e){var n=new on.MultiFormatReader(this.verbose,this.hints),s=new on.HTMLCanvasElementLuminanceSource(e),l=new on.BinaryBitmap(new on.HybridBinarizer(s)),u=n.decode(l);return{text:u.text,format:l_.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,s,l){e.set(n,s)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],s=0,l=e;s<l.length;s++){var u=l[s];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),MT=function(t,e,n,s){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(w){try{f(s.next(w))}catch(E){g(E)}}function b(w){try{f(s.throw(w))}catch(E){g(E)}}function f(w){w.done?u(w.value):l(w.value).then(y,b)}f((s=s.apply(t,e||[])).next())})},RT=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(f){return function(w){return b([f,w])}}function b(f){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(n=0)),n;)try{if(s=1,l&&(u=f[0]&2?l.return:f[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,f[1])).done)return u;switch(l=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,l=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){n.label=f[1];break}if(f[0]===6&&n.label<u[1]){n.label=u[1],u=f;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(f);break}u[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],l=0}finally{s=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Cy=(function(){function t(e,n,s){if(this.formatMap=new Map([[Ve.QR_CODE,"qr_code"],[Ve.AZTEC,"aztec"],[Ve.CODABAR,"codabar"],[Ve.CODE_39,"code_39"],[Ve.CODE_93,"code_93"],[Ve.CODE_128,"code_128"],[Ve.DATA_MATRIX,"data_matrix"],[Ve.ITF,"itf"],[Ve.EAN_13,"ean_13"],[Ve.EAN_8,"ean_8"],[Ve.PDF_417,"pdf417"],[Ve.UPC_A,"upc_a"],[Ve.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return MT(this,void 0,void 0,function(){var n,s;return RT(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(n),[2,{text:s.rawValue,format:l_.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,s=0,l=0,u=e;l<u.length;l++){var g=u[l],y=g.boundingBox.width*g.boundingBox.height;y>s&&(s=y,n=g)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],s=0,l=e;s<l.length;s++){var u=l[s];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,s,l){e.set(n,s)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),Ny=function(t,e,n,s){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(w){try{f(s.next(w))}catch(E){g(E)}}function b(w){try{f(s.throw(w))}catch(E){g(E)}}function f(w){w.done?u(w.value):l(w.value).then(y,b)}f((s=s.apply(t,e||[])).next())})},Ty=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(f){return function(w){return b([f,w])}}function b(f){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(n=0)),n;)try{if(s=1,l&&(u=f[0]&2?l.return:f[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,f[1])).done)return u;switch(l=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,l=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){n.label=f[1];break}if(f[0]===6&&n.label<u[1]){n.label=u[1],u=f;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(f);break}u[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],l=0}finally{s=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},DT=(function(){function t(e,n,s,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&Cy.isSupported()?(this.primaryDecoder=new Cy(e,s,l),this.secondaryDecoder=new Sy(e,s,l)):this.primaryDecoder=new Sy(e,s,l)}return t.prototype.decodeAsync=function(e){return Ny(this,void 0,void 0,function(){var n;return Ty(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Ny(this,void 0,void 0,function(){var n,s;return Ty(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(s=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,s=this.executionResults;n<s.length;n++){var l=s[n];e+=l}var u=e/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),sm=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}})(),gf=function(t,e,n,s){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(w){try{f(s.next(w))}catch(E){g(E)}}function b(w){try{f(s.throw(w))}catch(E){g(E)}}function f(w){w.done?u(w.value):l(w.value).then(y,b)}f((s=s.apply(t,e||[])).next())})},mf=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(f){return function(w){return b([f,w])}}function b(f){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(n=0)),n;)try{if(s=1,l&&(u=f[0]&2?l.return:f[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,f[1])).done)return u;switch(l=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,l=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){n.label=f[1];break}if(f[0]===6&&n.label<u[1]){n.label=u[1],u=f;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(f);break}u[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],l=0}finally{s=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},u_=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var s={advanced:[n]};return this.track.applyConstraints(s)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),jT=(function(t){sm(e,t);function e(n,s){return t.call(this,n,s)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var s={};s[this.name]=n;var l={advanced:[s]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(u_),IT=(function(t){sm(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(jT),BT=(function(t){sm(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(u_),LT=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new IT(this.track)},t.prototype.torchFeature=function(){return new BT(this.track)},t})(),PT=(function(){function t(e,n,s){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var s=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(s,l),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,s,l){return gf(this,void 0,void 0,function(){var u,g;return mf(this,function(y){switch(y.label){case 0:return u=new t(e,n,l),s.aspectRatio?(g={aspectRatio:s.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:y.sent(),y.label=2;case 2:return u.setupSurface(),[2,u]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,s=function(){setTimeout(e,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return gf(this,void 0,void 0,function(){return mf(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,s){var l=e.mediaStream.getVideoTracks(),u=l.length,g=0;e.mediaStream.getVideoTracks().forEach(function(y){e.mediaStream.removeTrack(y),y.stop(),++g,g>=u&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new LT(this.getFirstTrackOrFail())},t})(),zT=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,s){return gf(this,void 0,void 0,function(){return mf(this,function(l){return[2,PT.create(e,this.mediaStream,n,s)]})})},t.create=function(e){return gf(this,void 0,void 0,function(){var n,s;return mf(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=l.sent(),[2,new t(s)]}})})},t})(),Oy=function(t,e,n,s){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(w){try{f(s.next(w))}catch(E){g(E)}}function b(w){try{f(s.throw(w))}catch(E){g(E)}}function f(w){w.done?u(w.value):l(w.value).then(y,b)}f((s=s.apply(t,e||[])).next())})},ky=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(f){return function(w){return b([f,w])}}function b(f){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(n=0)),n;)try{if(s=1,l&&(u=f[0]&2?l.return:f[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,f[1])).done)return u;switch(l=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,l=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){n.label=f[1];break}if(f[0]===6&&n.label<u[1]){n.label=u[1],u=f;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(f);break}u[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],l=0}finally{s=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},FT=(function(){function t(){}return t.failIfNotSupported=function(){return Oy(this,void 0,void 0,function(){return ky(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Oy(this,void 0,void 0,function(){return ky(this,function(n){return[2,zT.create(e)]})})},t})(),UT=function(t,e,n,s){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(w){try{f(s.next(w))}catch(E){g(E)}}function b(w){try{f(s.throw(w))}catch(E){g(E)}}function f(w){w.done?u(w.value):l(w.value).then(y,b)}f((s=s.apply(t,e||[])).next())})},HT=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(f){return function(w){return b([f,w])}}function b(f){if(s)throw new TypeError("Generator is already executing.");for(;g&&(g=0,f[0]&&(n=0)),n;)try{if(s=1,l&&(u=f[0]&2?l.return:f[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,f[1])).done)return u;switch(l=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,l=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){n.label=f[1];break}if(f[0]===6&&n.label<u[1]){n.label=u[1],u=f;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(f);break}u[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],l=0}finally{s=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},VT=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=pl.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=pl.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return UT(this,void 0,void 0,function(){var e,n,s,l,u,g,y;return HT(this,function(b){switch(b.label){case 0:return e=function(f){for(var w=f.getVideoTracks(),E=0,S=w;E<S.length;E++){var O=S[E];O.enabled=!1,O.stop(),f.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=b.sent(),l=[],u=0,g=s;u<g.length;u++)y=g[u],y.kind==="videoinput"&&l.push({id:y.deviceId,label:y.label});return e(n),[2,l]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var s=function(u){for(var g=[],y=0,b=u;y<b.length;y++){var f=b[y];f.kind==="video"&&g.push({id:f.id,label:f.label})}e(g)},l=MediaStreamTrack;l.getSources(s)})},t})(),En;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(En||(En={}));var GT=(function(){function t(){this.state=En.NOT_STARTED,this.onGoingTransactionNewState=En.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===En.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=En.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===En.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=En.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==En.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case En.UNKNOWN:throw"Transition from unknown is not allowed";case En.NOT_STARTED:this.failIfNewStateIs(e,[En.PAUSED]);break;case En.SCANNING:break;case En.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var s=0,l=n;s<l.length;s++){var u=l[s];if(e===u)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),qT=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===En.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==En.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===En.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===En.PAUSED},t})(),XT=(function(){function t(){}return t.create=function(){return new qT(new GT)},t})(),YT=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}})(),nr=(function(t){YT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(AT),WT=(function(){function t(e,n){this.logger=n,this.fps=nr.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=nr.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?c_.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Ms(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),ZT=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new CT(this.verbose),this.qrcode=new DT(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=XT.create()}return t.prototype.start=function(e,n,s,l){var u=this;if(!e)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;l?g=l:g=this.verbose?this.logger.log:function(){};var y=WT.create(n,this.logger);this.clearElement();var b=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=b,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:nr.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var E=this,S=this.stateManagerProxy.startTransition(En.SCANNING);return new Promise(function(O,k){var M=f?y.videoConstraints:E.createVideoConstraints(e);if(!M){S.cancel(),k("videoConstraints should be defined");return}var j={};(!f||y.aspectRatio)&&(j.aspectRatio=y.aspectRatio);var F={onRenderSurfaceReady:function(H,z){E.setupUi(H,z,y),E.isScanning=!0,E.foreverScan(y,s,g)}};FT.failIfNotSupported().then(function(H){H.create(M).then(function(z){return z.render(u.element,j,F).then(function(U){E.renderedCamera=U,S.execute(),O(null)}).catch(function(U){S.cancel(),k(U)})}).catch(function(z){S.cancel(),k(pl.errorGettingUserMedia(z))})}).catch(function(H){S.cancel(),k(pl.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(En.PAUSED),this.showPausedState(),(Ms(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(En.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(En.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(e.element){var u=document.getElementById(nr.SHADED_REGION_ELEMENT_ID);u&&e.element.removeChild(u)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),s(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(s){return s.decodedText})},t.prototype.scanFileV2=function(e,n){var s=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ms(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,u){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(e);var g=new Image;g.onload=function(){var y=g.width,b=g.height,f=document.getElementById(s.elementId),w=f.clientWidth?f.clientWidth:nr.DEFAULT_WIDTH,E=Math.max(f.clientHeight?f.clientHeight:b,nr.FILE_SCAN_MIN_HEIGHT),S=s.computeCanvasDrawConfig(y,b,w,E);if(n){var O=s.createCanvasElement(w,E,"qr-canvas-visible");O.style.display="inline-block",f.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=w,k.canvas.height=E,k.drawImage(g,0,0,y,b,S.x,S.y,S.width,S.height)}var M=nr.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(g.width,S.width),F=Math.max(g.height,S.height),H=j+2*M,z=F+2*M,U=s.createCanvasElement(H,z);f.appendChild(U);var Y=U.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=H,Y.canvas.height=z,Y.drawImage(g,0,0,y,b,M,M,j,F);try{s.qrcode.decodeRobustlyAsync(U).then(function($){l(Ey.createFromQrcodeResult($))}).catch(u)}catch($){u("QR code parse error, error = ".concat($))}},g.onerror=u,g.onabort=u,g.onstalled=u,g.onsuspend=u,g.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return VT.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!c_.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Ve.QR_CODE,Ve.AZTEC,Ve.CODABAR,Ve.CODE_39,Ve.CODE_93,Ve.CODE_128,Ve.DATA_MATRIX,Ve.MAXICODE,Ve.ITF,Ve.EAN_13,Ve.EAN_8,Ve.PDF_417,Ve.RSS_14,Ve.RSS_EXPANDED,Ve.UPC_A,Ve.UPC_E,Ve.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],l=0,u=e.formatsToSupport;l<u.length;l++){var g=u[l];ET(g)?s.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ms(e))return!0;if(!Ms(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ms(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Ms(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,s){var l=this,u=s.qrbox;this.validateQrboxConfig(u);var g=this.toQrdimensions(e,n,u),y=function(f){if(f<nr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(nr.MIN_QR_BOX_SIZE,"px.")},b=function(f){return f>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=e),f};y(g.width),y(g.height),g.width=b(g.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(e,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return s},t.prototype.setupUi=function(e,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,s);var l=Ms(s.qrbox)?{width:e,height:n}:s.qrbox;this.validateQrboxConfig(l);var u=this.toQrdimensions(e,n,l);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=s.isShadedBoxEnabled()&&u.height<=n,y={x:0,y:0,width:e,height:n},b=g?this.getShadedRegionBounds(e,n,u):y,f=this.createCanvasElement(b.width,b.height),w={willReadFrequently:!0},E=f.getContext("2d",w);E.canvas.width=b.width,E.canvas.height=b.height,this.element.append(f),g&&this.possiblyInsertShadingElement(this.element,e,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=E,this.canvasElement=f},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=pl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,Ey.createFromQrcodeResult(l)),s.possiblyUpdateShaders(!0),!0}).catch(function(l){s.possiblyUpdateShaders(!1);var u=pl.codeParseError(l);return n(u,ST.createFrom(u)),!1})},t.prototype.foreverScan=function(e,n,s){var l=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),g=u.videoWidth/u.clientWidth,y=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*g,f=this.qrRegion.height*y,w=this.qrRegion.x*g,E=this.qrRegion.y*y;this.context.drawImage(u,w,E,b,f,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,n,s)},l.getTimeoutFps(e.fps))};this.scanContext(n,s).then(function(O){!O&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,s).finally(function(){S()})):S()}).catch(function(O){l.logger.logError("Error happend while scanning context",O),S()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",s="deviceId",l={user:!0,environment:!0},u="exact",g=function(k){if(k in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},y=Object.keys(e);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var b=Object.keys(e)[0];if(b!==n&&b!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(b===n){var f=e.facingMode;if(typeof f=="string"){if(g(f))return{facingMode:f}}else if(typeof f=="object")if(u in f){if(g(f["".concat(u)]))return{facingMode:{exact:f["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var w=typeof f;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var E=e.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(u in E)return{deviceId:{exact:E["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var S=typeof E;throw"Invalid type of 'deviceId' = ".concat(S)}}}var O=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},t.prototype.computeCanvasDrawConfig=function(e,n,s,l){if(e<=s&&n<=l){var u=(s-e)/2,g=(l-n)/2;return{x:u,y:g,width:e,height:n}}else{var y=e,b=n;return e>s&&(n=s/e*n,e=s),n>l&&(e=l/n*e,n=l),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(b)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,s,l)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?nr.BORDER_SHADER_MATCH_COLOR:nr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,s){var l=e,u=n,g=document.createElement("canvas");return g.style.width="".concat(l,"px"),g.style.height="".concat(u,"px"),g.style.display="none",g.id=Ms(s)?"qr-canvas":s,g},t.prototype.getShadedRegionBounds=function(e,n,s){if(s.width>e||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},t.prototype.possiblyInsertShadingElement=function(e,n,s,l){if(!(n-l.width<1||s-l.height<1)){var u=document.createElement("div");u.style.position="absolute";var g=(n-l.width)/2,y=(s-l.height)/2;if(u.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(nr.SHADED_REGION_ELEMENT_ID),n-l.width<11||s-l.height<11)this.hasBorderShaders=!1;else{var b=5,f=40;this.insertShaderBorders(u,f,b,-b,null,0,!0),this.insertShaderBorders(u,f,b,-b,null,0,!1),this.insertShaderBorders(u,f,b,null,-b,0,!0),this.insertShaderBorders(u,f,b,null,-b,0,!1),this.insertShaderBorders(u,b,f+b,-b,null,-b,!0),this.insertShaderBorders(u,b,f+b,null,-b,-b,!0),this.insertShaderBorders(u,b,f+b,-b,null,-b,!1),this.insertShaderBorders(u,b,f+b,null,-b,-b,!1),this.hasBorderShaders=!0}e.append(u)}},t.prototype.insertShaderBorders=function(e,n,s,l,u,g,y){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=nr.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(n,"px"),b.style.height="".concat(s,"px"),l!==null&&(b.style.top="".concat(l,"px")),u!==null&&(b.style.bottom="".concat(u,"px")),y?b.style.left="".concat(g,"px"):b.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),e.appendChild(b)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),My;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(My||(My={}));function KT({onResult:t,onClose:e}){const[n,s]=ne.useState(!1),[l,u]=ne.useState(!1),[g,y]=ne.useState(null),[b,f]=ne.useState(null),w=ne.useRef(null),E=ne.useRef(null),S=ne.useRef(!0),O=ne.useRef(null);ne.useEffect(()=>{S.current=!0;const z=Y=>{if(Y&&Y.message&&(Y.message.includes("RenderedCameraImpl")||Y.message.includes("onabort")))return Y.preventDefault(),Y.stopPropagation(),!0};window.addEventListener("error",z),k();const U=setInterval(()=>{const Y=document.querySelector("#camera-scanner-region video");Y&&(O.current=Y)},500);return()=>{S.current=!1,clearInterval(U),window.removeEventListener("error",z),M()}},[]);const k=async()=>{if(S.current){y(null),u(!0);try{try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach($=>$.stop())}catch(Y){if(Y.name==="NotAllowedError"||Y.name==="PermissionDeniedError")throw new Error("permission_denied")}E.current&&await M();const z=new ZT("camera-scanner-region");E.current=z;const U={fps:10,qrbox:{width:250,height:250},aspectRatio:1};try{await z.start({facingMode:"environment"},U,j,F)}catch(Y){console.warn("Retrying with default camera...",Y),await z.start({facingMode:"user"},U,j,F)}S.current?(s(!0),u(!1),setTimeout(()=>{const Y=document.querySelector("#camera-scanner-region video");Y&&(O.current=Y)},100)):M()}catch(z){if(!S.current)return;console.error("Camera error:",z);let U="Failed to start camera.";const Y=z.toString().toLowerCase();if(z.message==="permission_denied"||Y.includes("notallowed")||Y.includes("permission"))U=" Camera permission denied. Please click the lock icon in the address bar and allow camera access.";else if(Y.includes("notreadable")||Y.includes("device in use")){if(!window.cameraRetryAttempted){window.cameraRetryAttempted=!0,console.log("Camera busy, retrying in 1s..."),setTimeout(()=>k(),1e3);return}U=" Camera is being used by another app. Please close other apps using the camera and try again."}else Y.includes("notfound")||Y.includes("no camera")?U=" No camera found. Please connect a camera and try again.":z.message&&(U=z.message);window.cameraRetryAttempted=!1,y(U),u(!1)}}},M=async()=>{try{if(E.current){const z=E.current;try{try{z.getState()>=2&&await z.stop()}catch{await z.stop()}}catch{}try{await z.clear()}catch{}}}catch(z){console.error("Error stopping scanner instances:",z)}},j=async(z,U)=>{if(S.current&&(window.cameraRetryAttempted=!1,b!==z)){if(f(z),navigator.vibrate&&navigator.vibrate(200),E.current)try{E.current.getState()===2&&await E.current.pause(!0)}catch(Y){Y.toString().includes("not scanning")||console.warn("Pause warning:",Y)}S.current&&u(!0);try{const $=(await tt.get(`/books/lookup/${encodeURIComponent(z)}`)).data;S.current&&t&&t($),await M(),S.current&&e&&e()}catch(Y){const $=Y.response?.data||{found:!1,message:"Book not found"};S.current&&t&&t($),S.current&&setTimeout(async()=>{if(S.current&&(f(null),E.current))try{await E.current.resume()}catch(X){console.error("Resume error:",X)}},2e3)}finally{S.current&&u(!1)}}},F=z=>{},H=()=>{y(null),f(null),k()};return m.jsxs("div",{className:"fixed inset-0 bg-black/90 flex flex-col items-center justify-center z-50",children:[m.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center",children:[m.jsxs("div",{className:"text-white",children:[m.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[m.jsx(w3,{size:24}),"Camera Scanner"]}),m.jsx("p",{className:"text-sm text-white/70",children:"Point camera at QR code or barcode"})]}),m.jsx("button",{onClick:async()=>{await M(),e&&e()},className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition",children:m.jsx(y5,{className:"text-white",size:24})})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{id:"camera-scanner-region",ref:w,className:"w-80 h-80 bg-black rounded-lg overflow-hidden"}),n&&!l&&m.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[m.jsxs("div",{className:"absolute inset-4 border-2 border-white/50 rounded-lg",children:[m.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-green-400 rounded-tl-lg"}),m.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-green-400 rounded-tr-lg"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-green-400 rounded-bl-lg"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-green-400 rounded-br-lg"})]}),m.jsx("div",{className:"absolute inset-x-4 top-4 h-0.5 bg-green-400 animate-pulse",style:{animation:"scanLine 2s ease-in-out infinite"}})]}),l&&m.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-lg",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(k3,{className:"w-10 h-10 animate-spin mx-auto mb-2"}),m.jsx("p",{children:"Looking up book..."})]})}),g&&m.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center rounded-lg p-4",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(iu,{className:"w-12 h-12 text-yellow-400 mx-auto mb-3"}),m.jsx("p",{className:"text-sm mb-4",children:g}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("button",{onClick:H,className:"flex items-center justify-center gap-2 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition w-full",children:[m.jsx(nm,{size:18}),"Try Again"]}),m.jsxs("button",{onClick:()=>{e&&e()},className:"flex items-center justify-center gap-2 px-6 py-2 bg-white/20 text-white rounded-lg hover:bg-white/30 transition w-full",children:[m.jsx(n6,{size:18}),"Enter Code Manually"]})]})]})})]}),m.jsxs("div",{className:"mt-6 text-center",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 text-white mb-2",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${n?"bg-green-500 animate-pulse":"bg-gray-500"}`}),m.jsx("span",{children:n?"Camera Active":"Starting..."})]}),m.jsx("p",{className:"text-white/60 text-sm",children:"Supports QR codes, Code128, EAN-13, and other barcode formats"})]}),m.jsx("style",{children:`
                @keyframes scanLine {
                    0%, 100% { transform: translateY(0); opacity: 1; }
                    50% { transform: translateY(280px); opacity: 0.5; }
                }
            `})]})}function QT({onSelectMode:t,onClose:e}){const n=[{id:"borrow",label:"Borrow Book",description:"Scan a book to issue it to a student",icon:gn,bgColor:"bg-gradient-to-br from-emerald-500 to-emerald-600",hoverColor:"hover:from-emerald-600 hover:to-emerald-700",shadowColor:"shadow-emerald-200",iconBg:"bg-white/20"},{id:"register",label:"Register Book",description:"Scan a new book to add it to inventory",icon:y3,bgColor:"bg-gradient-to-br from-primary-600 to-primary-700",hoverColor:"hover:from-primary-700 hover:to-primary-800",shadowColor:"shadow-primary-200",iconBg:"bg-white/20"},{id:"return",label:"Return Book",description:"Scan a borrowed book to return it",icon:nm,bgColor:"bg-gradient-to-br from-amber-500 to-orange-500",hoverColor:"hover:from-amber-600 hover:to-orange-600",shadowColor:"shadow-amber-200",iconBg:"bg-white/20"}];return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden animate-scaleIn",children:[m.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-5 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-white",children:"Select Action"}),m.jsx("p",{className:"text-white/70 text-sm",children:"What would you like to do?"})]}),m.jsx("button",{onClick:e,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-all",children:m.jsx(zr,{className:"text-white",size:20})})]}),m.jsx("div",{className:"p-6 space-y-4",children:n.map(s=>{const l=s.icon;return m.jsxs("button",{onClick:()=>t(s.id),className:`
                                    w-full p-5 rounded-2xl text-left text-white 
                                    ${s.bgColor} ${s.hoverColor}
                                    shadow-lg ${s.shadowColor}
                                    transform transition-all duration-200
                                    hover:scale-[1.02] hover:shadow-xl
                                    active:scale-[0.98]
                                    flex items-center gap-4
                                `,children:[m.jsx("div",{className:`p-3 ${s.iconBg} rounded-xl`,children:m.jsx(l,{size:28})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-lg",children:s.label}),m.jsx("div",{className:"text-white/80 text-sm",children:s.description})]})]},s.id)})}),m.jsx("div",{className:"px-6 pb-6",children:m.jsx("p",{className:"text-center text-gray-400 text-xs",children:"The camera will open after you select an action"})})]})})}function $T({onNavigateToBooks:t}){const[e,n]=ne.useState(""),[s,l]=ne.useState(""),[u,g]=ne.useState([]),[y,b]=ne.useState([]),[f,w]=ne.useState(!1),[E,S]=ne.useState(""),[O,k]=ne.useState([]),[M,j]=ne.useState([]),[F,H]=ne.useState(!1),[z,U]=ne.useState(""),[Y,$]=ne.useState(""),[X,ue]=ne.useState([]),[J,Oe]=ne.useState([]),[Ee,xe]=ne.useState(!1),[me,ke]=ne.useState(""),K=Pl(),[Z,oe]=ne.useState(!1),[Me,Be]=ne.useState(null),[Le,G]=ne.useState(null),[re,se]=ne.useState(""),[he,je]=ne.useState(null),[Se,Ue]=ne.useState(!1),[Ye,Pe]=ne.useState(!1),[cn,fn]=ne.useState(!1),[Ur,ht]=ne.useState(null),[ai,Dn]=ne.useState(!1),[Cr,en]=ne.useState("");ne.useEffect(()=>{_t(),st(),Hr()},[]),ne.useEffect(()=>{if(E){const te=E.toLowerCase(),Ke=u.filter(ze=>ze.asset_code.toLowerCase().includes(te)||ze.title.toLowerCase().includes(te)||ze.author.toLowerCase().includes(te));b(Ke)}else b(u)},[E,u]),ne.useEffect(()=>{if(z){const te=z.toLowerCase(),Ke=O.filter(ze=>ze.name.toLowerCase().includes(te)||ze.student_id.toLowerCase().includes(te));j(Ke)}else j(O)},[z,O]),ne.useEffect(()=>{if(me){const te=me.toLowerCase(),Ke=X.filter(ze=>ze.asset_code.toLowerCase().includes(te)||ze.title.toLowerCase().includes(te)||ze.borrower.toLowerCase().includes(te)||ze.student_id.toLowerCase().includes(te));Oe(Ke)}else Oe(X)},[me,X]);const _t=(te="")=>{tt.get("/books/available",{params:{course:te}}).then(({data:Ke})=>{g(Ke),b(Ke)}).catch(Ke=>{console.error("Failed to fetch available books:",Ke),setError("Failed to load available books.")})},st=()=>{tt.get("/books/borrowed").then(({data:te})=>{ue(te),Oe(te)}).catch(()=>{})},Hr=()=>{tt.get("/students").then(({data:te})=>{k(te),j(te)}).catch(()=>{})},He=te=>{l(te),S(""),w(!1)},Ls=(te,Ke="")=>{n(te),se(Ke),U(""),H(!1),G(null),tt.get(`/students/${te}/clearance`).then(({data:ze})=>{G(ze),_t(ze.course)}).catch(()=>G(null))},So=te=>{$(te),ke(""),xe(!1)},tn=te=>{te.preventDefault(),tt.post("/borrow",{student_id:e,asset_code:s}).then(({data:Ke})=>{K.success(`Success! Book borrowed until ${new Date(Ke.data.due_date).toLocaleDateString()}`),n(""),l(""),S(""),U(""),_t(),st()}).catch(Ke=>{const ze=Ke.response;ze&&ze.status===422?K.error(ze.data.message):K.error("Error processing loan. Check Student ID.")})},ka=te=>{te.preventDefault();const ze=X.find(Kn=>Kn.asset_code===Y)?.title||"Unknown",kt=Y;tt.post("/return",{asset_code:Y}).then(({data:Kn})=>{$(""),ke(""),Kn.penalty>0?(tt.get("/transactions").then(({data:Si})=>{const Ui=Si.find(dt=>dt.penalty_amount==Kn.penalty&&dt.payment_status==="pending");Ui&&(Be(Ui),oe(!0))}),K.warning(`Book "${ze}" (${kt}) returned with Late Fee: ${Kn.penalty}.00 (${Kn.days_late} days late)`)):K.success(`Success! Book "${ze}" (${kt}) has been returned and is now available.`),_t(),st(),e&&Zn()}).catch(Kn=>{const Si=Kn.response;Si&&Si.status===422?K.error(Si.data.message):K.error(`Error returning book ${kt}. Check the barcode.`)})},Zn=(te=e)=>{te&&tt.get(`/students/${te}/clearance`).then(({data:Ke})=>{G(Ke)}).catch(()=>{})},Ma=te=>{K.success(te),oe(!1),Be(null),e&&Zn()},hi=te=>{ht(te),fn(!1),Pe(!0)},Fn=te=>{const Ke=te.asset_code||te.scanned_code||"";switch(Ur){case"borrow":te.found?te.status==="available"?(Pe(!1),l(te.asset_code),je(te),K.info(`Book "${te.title}" selected. Select a student to complete loan.`)):te.status==="borrowed"?(K.error(`Cannot borrow. "${te.title}" is currently borrowed.`),Pe(!1)):(K.error(`Cannot borrow. Book status: ${te.status||"unknown"}`),Pe(!1)):(en(Ke),Dn(!0),Pe(!1));break;case"return":te.found?te.status==="borrowed"?(Pe(!1),Co(te.asset_code,te.title)):te.status==="available"?(K.error(`Book "${te.title}" is not borrowed.`),Pe(!1)):(K.error(`Cannot return. Book status: ${te.status||"unknown"}`),Pe(!1)):(en(Ke),Dn(!0),Pe(!1));break;case"register":te.found?(K.error(`Book already registered: "${te.title}"`),Pe(!1)):(Pe(!1),t&&t(Ke));break;default:Pe(!1),te.found?(je(te),Ue(!0)):(en(Ke),Dn(!0));break}ht(null)},Ra=te=>{Dn(!1),en(""),t&&t(te)},Ps=te=>{Ue(!1),l(te),K.info(`Book selected: ${he.title}. Select a student.`)},Co=(te,Ke=null)=>{Ue(!1),tt.post("/return",{asset_code:te}).then(({data:ze})=>{const kt=Ke||ze.title||te;ze.penalty>0?(tt.get("/transactions").then(({data:Kn})=>{const Si=Kn.find(Ui=>Ui.penalty_amount==ze.penalty&&Ui.payment_status==="pending");Si&&(Be(Si),oe(!0))}),K.warning(`Book "${kt}" returned with Late Fee: ${ze.penalty}.00`)):K.success(`Success! "${kt}" has been returned.`),_t(),st(),je(null),e&&Zn()}).catch(ze=>{K.error(ze.response?.data?.message||`Error returning book ${te}.`)})},Gt=te=>{Ue(!1),je(null),K.info(`"${te.title}" needs a physical copy. Click "+ Copy" in Inventory.`)};return m.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900 p-8 min-h-screen transition-colors duration-300",children:[m.jsx("div",{className:"bg-gradient-to-r from-primary-700 via-primary-600 to-primary-700 text-white p-6 rounded-2xl shadow-xl border border-primary-500/20",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:m.jsx(im,{size:32,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Quick Scan Mode"}),m.jsx("p",{className:"text-sm text-white/70",children:"Scan book barcode or QR code for instant lookup"})]})]}),m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs("button",{onClick:()=>fn(!0),className:"flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all bg-white text-primary-600 hover:bg-white/90 hover:scale-105 shadow-lg",children:[m.jsx(w3,{size:20}),"Camera Scan"]})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 flex-1 mt-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100 dark:border-slate-700 flex flex-col",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-3 bg-primary-50 dark:bg-primary-900/30 rounded-xl",children:m.jsx(Vc,{size:24,className:"text-primary-600 dark:text-primary-400"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Borrow Book"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Issue a book to a student"})]})]}),m.jsxs("form",{onSubmit:tn,className:"space-y-5 flex-1 flex flex-col",children:[m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Select Student"}),m.jsxs("div",{className:"relative",children:[m.jsx(Lr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-primary-400",size:18}),m.jsx("input",{type:"text",value:e||z,onChange:te=>{U(te.target.value),n(""),H(!0)},onFocus:()=>H(!0),className:"w-full pl-12 pr-12 border-2 border-gray-200 dark:border-slate-600 p-3 rounded-xl focus:ring-4 focus:ring-primary-100 dark:focus:ring-primary-900 focus:border-primary-600 outline-none transition-all bg-gray-50 dark:bg-slate-900 dark:text-white hover:bg-white dark:hover:bg-slate-800",placeholder:"Search by name or student ID...",required:!0}),m.jsx(yl,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer hover:text-primary-600 transition",size:18,onClick:()=>H(!F)})]}),F&&m.jsx("div",{className:"absolute z-20 w-full mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:M.length===0?m.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-slate-400",children:O.length===0?"No students registered":"No matches found"}):M.map(te=>m.jsx("div",{onClick:()=>Ls(te.student_id,te.course),className:"p-3 hover:bg-blue-50 dark:hover:bg-slate-700 cursor-pointer border-b dark:border-slate-700 last:border-b-0 transition",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-gray-800 dark:text-white",children:te.name}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:[te.course||"No course"," - Year ",te.year_level||"?"]})]}),m.jsx("div",{className:"font-mono text-xs bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:te.student_id})]})},te.id))})]}),Le&&m.jsxs("div",{className:`p-3 rounded-lg border ${Le.is_cleared?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:`font-bold ${Le.is_cleared?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:Le.is_cleared?" CLEARED":" BLOCKED"}),m.jsxs("span",{className:"text-gray-600 dark:text-slate-300 text-sm ml-2",children:[Le.course," | Loan Period: ",Le.loan_days," day(s)"]})]}),m.jsxs("div",{className:"text-right text-sm dark:text-slate-300",children:[m.jsxs("div",{children:["Active Loans: ",m.jsxs("span",{className:"font-bold",children:[Le.active_loans,"/3"]})]}),Le.pending_fines>0&&m.jsxs("div",{className:"text-red-600 dark:text-red-400 font-bold",children:["Pending: ",parseFloat(Le.pending_fines).toFixed(2)]})]})]}),Le.block_reason&&m.jsxs("div",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:[" ",Le.block_reason]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Select Available Book"}),m.jsxs("div",{className:"relative",children:[m.jsx(Nl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-primary-400",size:18}),m.jsx("input",{type:"text",value:s||E,onChange:te=>{S(te.target.value),l(""),w(!0)},onFocus:()=>w(!0),className:"w-full pl-12 pr-12 border-2 border-gray-200 dark:border-slate-600 p-3 rounded-xl focus:ring-4 focus:ring-primary-100 dark:focus:ring-primary-900 focus:border-primary-600 outline-none transition-all bg-gray-50 dark:bg-slate-900 dark:text-white hover:bg-white dark:hover:bg-slate-800",placeholder:"Search by barcode, title, or author...",required:!0}),m.jsx(yl,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer hover:text-primary-600 transition",size:18,onClick:()=>w(!f)})]}),f&&m.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:y.length===0?m.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-slate-400",children:u.length===0?"No books available":"No matches found"}):y.map(te=>m.jsx("div",{onClick:()=>He(te.asset_code),className:`p-3 hover:bg-blue-50 dark:hover:bg-slate-700 cursor-pointer border-b dark:border-slate-700 last:border-b-0 transition ${te.is_recommended?"bg-green-50 dark:bg-green-900/20":""}`,children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"font-bold text-blue-600 dark:text-blue-400 flex items-center gap-2",children:[te.title,te.is_recommended&&m.jsx("span",{className:"text-xs bg-green-500 text-white px-1.5 py-0.5 rounded",children:" Recommended"})]}),m.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:["by ",te.author]}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[" ",te.location," |  ",te.category]})]}),m.jsx("div",{className:"font-mono text-xs bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded",children:te.asset_code})]})},te.asset_code))})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-slate-400 bg-gray-50 dark:bg-slate-900 p-3 rounded-xl border border-gray-100 dark:border-slate-700 mt-auto",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Lr,{size:14})," ",M.length," students"]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Vc,{size:14})," ",y.length," available"]})]}),m.jsx("button",{disabled:Le&&!Le.is_cleared,className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-200 transform ${Le&&!Le.is_cleared?"bg-gray-200 dark:bg-slate-700 text-gray-400 dark:text-slate-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 hover:scale-[1.02] hover:shadow-lg active:scale-[0.98] shadow-md shadow-primary-200"}`,children:Le&&!Le.is_cleared?" Borrowing Blocked":" Confirm Loan"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100 dark:border-slate-700 flex flex-col",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/30 rounded-xl",children:m.jsx(Vc,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Return Book"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Process a book return"})]})]}),m.jsxs("form",{onSubmit:ka,className:"space-y-5 flex-1 flex flex-col",children:[m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Select Borrowed Book"}),m.jsxs("div",{className:"relative",children:[m.jsx(Vc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-emerald-400",size:18}),m.jsx("input",{type:"text",value:Y||me,onChange:te=>{ke(te.target.value),$(""),xe(!0)},onFocus:()=>xe(!0),className:"w-full pl-12 pr-12 border-2 border-gray-200 dark:border-slate-600 p-3 rounded-xl focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900 focus:border-emerald-500 outline-none transition-all bg-gray-50 dark:bg-slate-900 dark:text-white hover:bg-white dark:hover:bg-slate-800",placeholder:"Search by barcode, title, or borrower...",required:!0}),m.jsx(yl,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer hover:text-emerald-600 transition",size:18,onClick:()=>xe(!Ee)})]}),Ee&&m.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:J.length===0?m.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-slate-400",children:X.length===0?"No books currently borrowed":"No matches found"}):J.map(te=>m.jsx("div",{onClick:()=>So(te.asset_code),className:`p-3 hover:bg-green-50 dark:hover:bg-slate-700 cursor-pointer border-b dark:border-slate-700 last:border-b-0 transition ${te.is_overdue?"bg-red-50 dark:bg-red-900/20":""}`,children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-gray-800 dark:text-white",children:te.title}),m.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:["by ",te.author]}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[" ",te.borrower," (",te.student_id,")"]}),m.jsxs("div",{className:`text-xs mt-1 ${te.is_overdue?"text-red-600 dark:text-red-400 font-bold":"text-gray-500 dark:text-slate-400"}`,children:[" Due: ",te.due_date?new Date(te.due_date).toLocaleDateString():"N/A",te.is_overdue&&"  OVERDUE"]})]}),m.jsx("div",{className:"font-mono text-xs bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded",children:te.asset_code})]})},te.asset_code))})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-50 dark:bg-slate-900 p-3 rounded-xl border border-gray-100 dark:border-slate-700 mt-auto",children:[m.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:[" ",X.length," book",X.length!==1?"s":""," borrowed"]}),X.filter(te=>te.is_overdue).length>0&&m.jsxs("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full font-bold border border-red-200 dark:border-red-800",children:[X.filter(te=>te.is_overdue).length," Overdue"]})]}),m.jsx("button",{className:"w-full bg-emerald-600 text-white py-4 rounded-xl hover:bg-emerald-700 hover:scale-[1.02] hover:shadow-lg active:scale-[0.98] font-bold text-lg transition-all duration-200 transform shadow-md shadow-emerald-200",children:" Mark as Returned"})]})]}),Z&&Me&&m.jsx(wT,{transaction:Me,onClose:()=>{oe(!1),Be(null)},onSuccess:Ma})]}),Se&&he&&m.jsx(vT,{book:he,onBorrow:Ps,onReturn:Co,onAddCopy:Gt,onClose:()=>{Ue(!1),je(null)}}),cn&&m.jsx(QT,{onSelectMode:hi,onClose:()=>fn(!1)}),Ye&&m.jsx(KT,{onResult:Fn,onClose:()=>{Pe(!1),ht(null)}}),ai&&m.jsx(_T,{scannedCode:Cr,onRegister:Ra,onClose:()=>{Dn(!1),en("")}})]})}function d_({currentPage:t,totalItems:e,itemsPerPage:n,onPageChange:s}){const l=Math.ceil(e/n);if(l<=1)return null;let u=Math.max(1,t-2),g=Math.min(l,u+4);g-u<4&&(u=Math.max(1,g-4));const y=[];for(let b=u;b<=g;b++)y.push(b);return m.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 sm:px-6",children:m.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[m.jsx("div",{children:m.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",m.jsx("span",{className:"font-bold",children:(t-1)*n+1})," to ",m.jsx("span",{className:"font-bold",children:Math.min(t*n,e)})," of ",m.jsx("span",{className:"font-bold",children:e})," results"]})}),m.jsx("div",{children:m.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[m.jsxs("button",{onClick:()=>s(t-1),disabled:t===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${t===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[m.jsx("span",{className:"sr-only",children:"Previous"}),m.jsx(_3,{size:16})]}),u>1&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>s(1),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),u>2&&m.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."})]}),y.map(b=>m.jsx("button",{onClick:()=>s(b),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${t===b?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:b},b)),g<l&&m.jsxs(m.Fragment,{children:[g<l-1&&m.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),m.jsx("button",{onClick:()=>s(l),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:l})]}),m.jsxs("button",{onClick:()=>s(t+1),disabled:t===l,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${t===l?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[m.jsx("span",{className:"sr-only",children:"Next"}),m.jsx(Ll,{size:16})]})]})})]})})}function JT(){const t=Pl(),[e,n]=ne.useState([]),[s,l]=ne.useState(!1),[u,g]=ne.useState(null),[y,b]=ne.useState(""),[f,w]=ne.useState(1),E=10,[S,O]=ne.useState("all"),k=()=>{l(!0),tt.get("/transactions").then(({data:$})=>{n($),l(!1)}).catch(()=>{l(!1)})};ne.useEffect(()=>{k()},[]);const M=$=>{g($),tt.post(`/transactions/${$}/pay`).then(()=>{t.success("Payment processed successfully"),k(),g(null)}).catch(()=>{t.error("Failed to process payment"),g(null)})},j=$=>{if(!$.penalty_amount||parseFloat($.penalty_amount)===0)return null;switch($.payment_status){case"paid":return m.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-xs font-bold border border-emerald-200",children:"Paid"});case"waived":return m.jsx("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-bold border border-gray-200",children:"Waived"});default:return m.jsx("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-bold border border-red-200",children:"Unpaid"})}},F=$=>$?$.startsWith("http")?$:`${"http://127.0.0.1:8000/api".replace("/api","")||""}/${$}`:null,H=e.filter($=>{let X=!0;switch(S){case"active":X=!$.returned_at;break;case"returned":X=!!$.returned_at;break;case"unpaid":X=$.penalty_amount>0&&$.payment_status==="pending";break;case"deleted":X=!$.book_asset;break;default:X=!0}if(!X)return!1;const ue=y.toLowerCase(),J=$.user?.name?.toLowerCase()||"",Oe=$.book_asset?.book_title?.title?.toLowerCase()||"",Ee=$.book_asset?.asset_code?.toLowerCase()||"";return J.includes(ue)||Oe.includes(ue)||Ee.includes(ue)});ne.useEffect(()=>{w(1)},[y,S]);const z=f*E,U=z-E,Y=H.slice(U,z);return m.jsxs("div",{className:"space-y-8 bg-gray-50 dark:bg-slate-900 p-8 min-h-screen transition-colors duration-300",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-primary-600 rounded-xl shadow-lg",children:m.jsx(wl,{size:28,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Transaction Logs"}),m.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"View borrowing and return history"})]})]}),m.jsx("div",{className:"flex items-center gap-4",children:m.jsxs("div",{className:"relative",children:[m.jsx(Nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),m.jsx("input",{type:"text",placeholder:"Search student, book, code...",value:y,onChange:$=>b($.target.value),className:"pl-10 pr-4 py-2.5 border-2 border-gray-200 dark:border-slate-600 rounded-xl focus:border-primary-500 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900 outline-none text-sm w-64 bg-white dark:bg-slate-800 dark:text-white"})]})})]}),m.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[{id:"all",label:"All Records"},{id:"active",label:"Active Loans"},{id:"returned",label:"Returned Books"},{id:"unpaid",label:"Unpaid Fines"},{id:"deleted",label:"Deleted Books"}].map($=>m.jsx("button",{onClick:()=>O($.id),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all
              ${S===$.id?"bg-primary-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 border border-gray-200 dark:border-slate-700"}`,children:$.label},$.id))}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden border border-gray-100 dark:border-slate-700",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-slate-300 uppercase text-xs font-bold border-b border-gray-100 dark:border-slate-600",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4",children:"Date Borrowed"}),m.jsx("th",{className:"p-4",children:"Student"}),m.jsx("th",{className:"p-4",children:"Book"}),m.jsx("th",{className:"p-4",children:"Date Returned"}),m.jsx("th",{className:"p-4",children:"Fine"}),m.jsx("th",{className:"p-4",children:"Payment"}),m.jsx("th",{className:"p-4",children:"Status"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[s&&m.jsx("tr",{children:m.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-500 dark:text-slate-400",children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"}),"Loading logs..."]})})}),!s&&H.length===0&&m.jsx("tr",{children:m.jsxs("td",{colSpan:"7",className:"p-12 text-center text-gray-500 dark:text-slate-400",children:[m.jsx(wl,{size:48,className:"mx-auto mb-3 opacity-20"}),m.jsx("p",{children:y?`No records matching "${y}"`:"No transaction records found."})]})}),Y.map($=>{const X=$.book_asset?.book_title,ue=X?.image_path||X?.cover_image,J=F(ue);return m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition",children:[m.jsx("td",{className:"p-4 text-gray-600 dark:text-slate-300 text-sm",children:new Date($.borrowed_at).toLocaleDateString()}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center",children:m.jsx(Lr,{size:14,className:"text-gray-400 dark:text-slate-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-800 dark:text-white text-sm",children:$.user?$.user.name:"Unknown"}),m.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500",children:$.user?.student_id||""})]})]})}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-14 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-slate-700 dark:to-slate-600 rounded overflow-hidden flex-shrink-0 shadow-sm",children:J?m.jsx("img",{src:J,alt:X?.title||"Book",className:"w-full h-full object-cover",onError:Oe=>{Oe.target.onerror=null,Oe.target.style.display="none"}}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx(gn,{size:14,className:"text-gray-400 dark:text-slate-400"})})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-medium text-primary-600 dark:text-primary-400 text-sm truncate max-w-[200px]",children:X?.title||"Deleted Book"}),m.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 font-mono",children:$.book_asset?.asset_code||"N/A"})]})]})}),m.jsx("td",{className:"p-4 text-gray-600 dark:text-slate-300 text-sm",children:$.returned_at?new Date($.returned_at).toLocaleDateString():"-"}),m.jsx("td",{className:"p-4",children:$.penalty_amount&&parseFloat($.penalty_amount)>0?m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["",parseFloat($.penalty_amount).toFixed(2)]}):m.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"-"})}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[j($),$.penalty_amount&&parseFloat($.penalty_amount)>0&&$.payment_status==="pending"&&m.jsx("button",{onClick:()=>M($.id),disabled:u===$.id,className:"text-xs bg-emerald-600 text-white px-3 py-1.5 rounded-lg hover:bg-emerald-700 transition-all duration-200 inline-flex items-center gap-1 font-bold shadow-sm hover:shadow",children:u===$.id?"...":m.jsxs(m.Fragment,{children:[m.jsx(eu,{size:12})," Pay"]})})]})}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold ${$.returned_at?"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800":"bg-amber-100 text-amber-700 border border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800"}`,children:$.returned_at?" Returned":" Active Loan"})})]},$.id)})]})]})}),m.jsx(d_,{currentPage:f,totalItems:H.length,itemsPerPage:E,onPageChange:w})]})]})}function k0({title:t,value:e,icon:n,color:s="primary",trend:l,description:u}){const g={primary:"bg-primary-50 text-primary-600 border-primary-100",blue:"bg-primary-50 text-primary-600 border-primary-100",indigo:"bg-indigo-50 text-indigo-600 border-indigo-100",green:"bg-emerald-50 text-emerald-600 border-emerald-100",orange:"bg-amber-50 text-amber-600 border-amber-100",red:"bg-red-50 text-red-600 border-red-100"};return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 flex items-center justify-between transition-all duration-300 hover:shadow-2xl hover:scale-105 hover:-translate-y-1 cursor-pointer group",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:t}),m.jsx("h4",{className:"text-4xl font-bold text-gray-800 dark:text-white mt-2",children:e}),u&&m.jsx("div",{className:"text-sm text-gray-400 dark:text-slate-500 mt-1",children:u}),l&&m.jsx("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 font-medium mt-1",children:l})]}),m.jsx("div",{className:`p-4 rounded-xl border ${g[s]||g.primary} transition-transform duration-300 group-hover:scale-110 group-hover:rotate-6`,children:n&&m.jsx(n,{size:28,strokeWidth:1.5})})]})}function eO(){const[t,e]=ne.useState([]),[n,s]=ne.useState(!0);ne.useEffect(()=>{l();const y=setInterval(l,6e4);return()=>clearInterval(y)},[]);const l=()=>{tt.get("/students/leaderboard").then(({data:y})=>{e(y),s(!1)}).catch(y=>{console.error("Failed to fetch leaderboard:",y),s(!1)})},u=y=>{switch(y){case 1:return m.jsx(C3,{className:"text-yellow-500",size:24});case 2:return m.jsx(db,{className:"text-gray-400",size:22});case 3:return m.jsx(db,{className:"text-amber-600",size:22});default:return m.jsxs("span",{className:"text-lg font-bold text-gray-400",children:["#",y]})}},g=y=>{switch(y){case 1:return"bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-200 ring-2 ring-yellow-100";case 2:return"bg-gradient-to-r from-gray-50 to-slate-50 border-gray-200";case 3:return"bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200";default:return"bg-white border-gray-100"}};return n?m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-xl",children:m.jsx(W0,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Readers"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Loading leaderboard..."})]})]}),m.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3].map(y=>m.jsx("div",{className:"h-16 bg-gray-100 rounded-xl"},y))})]}):t.length===0?m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-xl",children:m.jsx(W0,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Readers"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Student leaderboard"})]})]}),m.jsxs("div",{className:"text-center py-8",children:[m.jsx(P3,{size:48,className:"mx-auto text-gray-300 mb-3"}),m.jsx("p",{className:"text-gray-500 text-sm",children:"No reading activity yet"}),m.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Students will appear here after borrowing books"})]})]}):m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[m.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:m.jsx(W0,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white",children:"Top Readers Leaderboard"}),m.jsx("p",{className:"text-white/80 text-sm",children:"This month's most active students"})]})]})}),m.jsx("div",{className:"p-4 space-y-2",children:t.slice(0,3).map((y,b)=>m.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-xl border transition-all hover:shadow-md ${g(y.rank)}`,children:[m.jsx("div",{className:"w-10 flex justify-center",children:u(y.rank)}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-bold text-gray-800 truncate",children:y.name}),y.badges_count>0&&m.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-primary-100 text-primary-700 rounded-full text-xs font-bold",children:[m.jsx(lf,{size:12}),y.badges_count]})]}),m.jsxs("div",{className:"text-xs text-gray-500",children:[y.course,"  ",y.student_id]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-lg font-bold text-primary-600",children:y.books_borrowed}),m.jsx("div",{className:"text-xs text-gray-500",children:"books read"})]}),m.jsx(Ll,{size:16,className:"text-gray-300"})]},y.id))}),m.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-100",children:m.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Keep reading to climb the leaderboard!"})})]})}function Cu(t){return t+.5|0}const Aa=(t,e,n)=>Math.max(Math.min(t,n),e);function qc(t){return Aa(Cu(t*2.55),0,255)}function Ca(t){return Aa(Cu(t*255),0,255)}function js(t){return Aa(Cu(t/2.55)/100,0,1)}function Ry(t){return Aa(Cu(t*100),0,100)}const vr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ng=[..."0123456789ABCDEF"],tO=t=>Ng[t&15],nO=t=>Ng[(t&240)>>4]+Ng[t&15],M0=t=>(t&240)>>4===(t&15),iO=t=>M0(t.r)&&M0(t.g)&&M0(t.b)&&M0(t.a);function rO(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&vr[t[1]]*17,g:255&vr[t[2]]*17,b:255&vr[t[3]]*17,a:e===5?vr[t[4]]*17:255}:(e===7||e===9)&&(n={r:vr[t[1]]<<4|vr[t[2]],g:vr[t[3]]<<4|vr[t[4]],b:vr[t[5]]<<4|vr[t[6]],a:e===9?vr[t[7]]<<4|vr[t[8]]:255})),n}const sO=(t,e)=>t<255?e(t):"";function aO(t){var e=iO(t)?tO:nO;return t?"#"+e(t.r)+e(t.g)+e(t.b)+sO(t.a,e):void 0}const oO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function f_(t,e,n){const s=e*Math.min(n,1-n),l=(u,g=(u+t/30)%12)=>n-s*Math.max(Math.min(g-3,9-g,1),-1);return[l(0),l(8),l(4)]}function lO(t,e,n){const s=(l,u=(l+t/60)%6)=>n-n*e*Math.max(Math.min(u,4-u,1),0);return[s(5),s(3),s(1)]}function cO(t,e,n){const s=f_(t,1,.5);let l;for(e+n>1&&(l=1/(e+n),e*=l,n*=l),l=0;l<3;l++)s[l]*=1-e-n,s[l]+=e;return s}function uO(t,e,n,s,l){return t===l?(e-n)/s+(e<n?6:0):e===l?(n-t)/s+2:(t-e)/s+4}function am(t){const n=t.r/255,s=t.g/255,l=t.b/255,u=Math.max(n,s,l),g=Math.min(n,s,l),y=(u+g)/2;let b,f,w;return u!==g&&(w=u-g,f=y>.5?w/(2-u-g):w/(u+g),b=uO(n,s,l,w,u),b=b*60+.5),[b|0,f||0,y]}function om(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Ca)}function lm(t,e,n){return om(f_,t,e,n)}function dO(t,e,n){return om(cO,t,e,n)}function fO(t,e,n){return om(lO,t,e,n)}function h_(t){return(t%360+360)%360}function hO(t){const e=oO.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?qc(+e[5]):Ca(+e[5]));const l=h_(+e[2]),u=+e[3]/100,g=+e[4]/100;return e[1]==="hwb"?s=dO(l,u,g):e[1]==="hsv"?s=fO(l,u,g):s=lm(l,u,g),{r:s[0],g:s[1],b:s[2],a:n}}function gO(t,e){var n=am(t);n[0]=h_(n[0]+e),n=lm(n),t.r=n[0],t.g=n[1],t.b=n[2]}function mO(t){if(!t)return;const e=am(t),n=e[0],s=Ry(e[1]),l=Ry(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${l}%, ${js(t.a)})`:`hsl(${n}, ${s}%, ${l}%)`}const Dy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function xO(){const t={},e=Object.keys(jy),n=Object.keys(Dy);let s,l,u,g,y;for(s=0;s<e.length;s++){for(g=y=e[s],l=0;l<n.length;l++)u=n[l],y=y.replace(u,Dy[u]);u=parseInt(jy[g],16),t[y]=[u>>16&255,u>>8&255,u&255]}return t}let R0;function pO(t){R0||(R0=xO(),R0.transparent=[0,0,0,0]);const e=R0[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const bO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function yO(t){const e=bO.exec(t);let n=255,s,l,u;if(e){if(e[7]!==s){const g=+e[7];n=e[8]?qc(g):Aa(g*255,0,255)}return s=+e[1],l=+e[3],u=+e[5],s=255&(e[2]?qc(s):Aa(s,0,255)),l=255&(e[4]?qc(l):Aa(l,0,255)),u=255&(e[6]?qc(u):Aa(u,0,255)),{r:s,g:l,b:u,a:n}}}function wO(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${js(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ig=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,gl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vO(t,e,n){const s=gl(js(t.r)),l=gl(js(t.g)),u=gl(js(t.b));return{r:Ca(ig(s+n*(gl(js(e.r))-s))),g:Ca(ig(l+n*(gl(js(e.g))-l))),b:Ca(ig(u+n*(gl(js(e.b))-u))),a:t.a+n*(e.a-t.a)}}function D0(t,e,n){if(t){let s=am(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=lm(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function g_(t,e){return t&&Object.assign(e||{},t)}function Iy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ca(t[3]))):(e=g_(t,{r:0,g:0,b:0,a:1}),e.a=Ca(e.a)),e}function _O(t){return t.charAt(0)==="r"?yO(t):hO(t)}class ru{constructor(e){if(e instanceof ru)return e;const n=typeof e;let s;n==="object"?s=Iy(e):n==="string"&&(s=rO(e)||pO(e)||_O(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=g_(this._rgb);return e&&(e.a=js(e.a)),e}set rgb(e){this._rgb=Iy(e)}rgbString(){return this._valid?wO(this._rgb):void 0}hexString(){return this._valid?aO(this._rgb):void 0}hslString(){return this._valid?mO(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,l=e.rgb;let u;const g=n===u?.5:n,y=2*g-1,b=s.a-l.a,f=((y*b===-1?y:(y+b)/(1+y*b))+1)/2;u=1-f,s.r=255&f*s.r+u*l.r+.5,s.g=255&f*s.g+u*l.g+.5,s.b=255&f*s.b+u*l.b+.5,s.a=g*s.a+(1-g)*l.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=vO(this._rgb,e._rgb,n)),this}clone(){return new ru(this.rgb)}alpha(e){return this._rgb.a=Ca(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Cu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return D0(this._rgb,2,e),this}darken(e){return D0(this._rgb,2,-e),this}saturate(e){return D0(this._rgb,1,e),this}desaturate(e){return D0(this._rgb,1,-e),this}rotate(e){return gO(this._rgb,e),this}}function ks(){}const EO=(()=>{let t=0;return()=>t++})();function $t(t){return t==null}function Yn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function At(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function fi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ns(t,e){return fi(t)?t:e}function bt(t,e){return typeof t>"u"?e:t}const AO=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,m_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ln(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ht(t,e,n,s){let l,u,g;if(Yn(t))for(u=t.length,l=0;l<u;l++)e.call(n,t[l],l);else if(At(t))for(g=Object.keys(t),u=g.length,l=0;l<u;l++)e.call(n,t[g[l]],g[l])}function xf(t,e){let n,s,l,u;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(l=t[n],u=e[n],l.datasetIndex!==u.datasetIndex||l.index!==u.index)return!1;return!0}function pf(t){if(Yn(t))return t.map(pf);if(At(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let l=0;for(;l<s;++l)e[n[l]]=pf(t[n[l]]);return e}return t}function x_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function SO(t,e,n,s){if(!x_(t))return;const l=e[t],u=n[t];At(l)&&At(u)?su(l,u,s):e[t]=pf(u)}function su(t,e,n){const s=Yn(e)?e:[e],l=s.length;if(!At(t))return t;n=n||{};const u=n.merger||SO;let g;for(let y=0;y<l;++y){if(g=s[y],!At(g))continue;const b=Object.keys(g);for(let f=0,w=b.length;f<w;++f)u(b[f],t,g,n)}return t}function Wc(t,e){return su(t,e,{merger:CO})}function CO(t,e,n){if(!x_(t))return;const s=e[t],l=n[t];At(s)&&At(l)?Wc(s,l):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pf(l))}const By={"":t=>t,x:t=>t.x,y:t=>t.y};function NO(t){const e=t.split("."),n=[];let s="";for(const l of e)s+=l,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function TO(t){const e=NO(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function au(t,e){return(By[e]||(By[e]=TO(e)))(t)}function cm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const bf=t=>typeof t<"u",Ta=t=>typeof t=="function",Ly=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function OO(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Vt=Math.PI,mn=2*Vt,kO=mn+Vt,yf=Number.POSITIVE_INFINITY,MO=Vt/180,Wn=Vt/2,so=Vt/4,Py=Vt*2/3,p_=Math.log10,Tl=Math.sign;function Zc(t,e,n){return Math.abs(t-e)<n}function zy(t){const e=Math.round(t);t=Zc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(p_(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function RO(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((l,u)=>l-u).pop(),e}function DO(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ou(t){return!DO(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function jO(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function IO(t,e,n){let s,l,u;for(s=0,l=t.length;s<l;s++)u=t[s][n],isNaN(u)||(e.min=Math.min(e.min,u),e.max=Math.max(e.max,u))}function Is(t){return t*(Vt/180)}function BO(t){return t*(180/Vt)}function Fy(t){if(!fi(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function b_(t,e){const n=e.x-t.x,s=e.y-t.y,l=Math.sqrt(n*n+s*s);let u=Math.atan2(s,n);return u<-.5*Vt&&(u+=mn),{angle:u,distance:l}}function Tg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function LO(t,e){return(t-e+kO)%mn-Vt}function ir(t){return(t%mn+mn)%mn}function lu(t,e,n,s){const l=ir(t),u=ir(e),g=ir(n),y=ir(u-l),b=ir(g-l),f=ir(l-u),w=ir(l-g);return l===u||l===g||s&&u===g||y>b&&f<w}function _i(t,e,n){return Math.max(e,Math.min(n,t))}function PO(t){return _i(t,-32768,32767)}function fo(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function um(t,e,n){n=n||(g=>t[g]<e);let s=t.length-1,l=0,u;for(;s-l>1;)u=l+s>>1,n(u)?l=u:s=u;return{lo:l,hi:s}}const ho=(t,e,n,s)=>um(t,n,s?l=>{const u=t[l][e];return u<n||u===n&&t[l+1][e]===n}:l=>t[l][e]<n),zO=(t,e,n)=>um(t,n,s=>t[s][e]>=n);function FO(t,e,n){let s=0,l=t.length;for(;s<l&&t[s]<e;)s++;for(;l>s&&t[l-1]>n;)l--;return s>0||l<t.length?t.slice(s,l):t}const y_=["push","pop","shift","splice","unshift"];function UO(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),y_.forEach(n=>{const s="_onData"+cm(n),l=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...u){const g=l.apply(this,u);return t._chartjs.listeners.forEach(y=>{typeof y[s]=="function"&&y[s](...u)}),g}})})}function Uy(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,l=s.indexOf(e);l!==-1&&s.splice(l,1),!(s.length>0)&&(y_.forEach(u=>{delete t[u]}),delete t._chartjs)}function HO(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const w_=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function v_(t,e){let n=[],s=!1;return function(...l){n=l,s||(s=!0,w_.call(window,()=>{s=!1,t.apply(e,n)}))}}function VO(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const dm=t=>t==="start"?"left":t==="end"?"right":"center",li=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,GO=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function qO(t,e,n){const s=e.length;let l=0,u=s;if(t._sorted){const{iScale:g,vScale:y,_parsed:b}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,w=g.axis,{min:E,max:S,minDefined:O,maxDefined:k}=g.getUserBounds();if(O){if(l=Math.min(ho(b,w,E).lo,n?s:ho(e,w,g.getPixelForValue(E)).lo),f){const M=b.slice(0,l+1).reverse().findIndex(j=>!$t(j[y.axis]));l-=Math.max(0,M)}l=_i(l,0,s-1)}if(k){let M=Math.max(ho(b,g.axis,S,!0).hi+1,n?0:ho(e,w,g.getPixelForValue(S),!0).hi+1);if(f){const j=b.slice(M-1).findIndex(F=>!$t(F[y.axis]));M+=Math.max(0,j)}u=_i(M,l,s)-l}else u=s-l}return{start:l,count:u}}function XO(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,l={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=l,!0;const u=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,l),u}const j0=t=>t===0||t===1,Hy=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*mn/n)),Vy=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*mn/n)+1,Kc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Wn)+1,easeOutSine:t=>Math.sin(t*Wn),easeInOutSine:t=>-.5*(Math.cos(Vt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>j0(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>j0(t)?t:Hy(t,.075,.3),easeOutElastic:t=>j0(t)?t:Vy(t,.075,.3),easeInOutElastic(t){return j0(t)?t:t<.5?.5*Hy(t*2,.1125,.45):.5+.5*Vy(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Kc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Kc.easeInBounce(t*2)*.5:Kc.easeOutBounce(t*2-1)*.5+.5};function fm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Gy(t){return fm(t)?t:new ru(t)}function rg(t){return fm(t)?t:new ru(t).saturate(.5).darken(.1).hexString()}const YO=["x","y","borderWidth","radius","tension"],WO=["color","borderColor","backgroundColor"];function ZO(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:WO},numbers:{type:"number",properties:YO}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function KO(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qy=new Map;function QO(t,e){e=e||{};const n=t+JSON.stringify(e);let s=qy.get(n);return s||(s=new Intl.NumberFormat(t,e),qy.set(n,s)),s}function hm(t,e,n){return QO(e,n).format(t)}const $O={values(t){return Yn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let l,u=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(l="scientific"),u=JO(t,n)}const g=p_(Math.abs(u)),y=isNaN(g)?1:Math.max(Math.min(-1*Math.floor(g),20),0),b={notation:l,minimumFractionDigits:y,maximumFractionDigits:y};return Object.assign(b,this.options.ticks.format),hm(t,s,b)}};function JO(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var __={formatters:$O};function e7(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:__.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vo=Object.create(null),Og=Object.create(null);function Qc(t,e){if(!e)return t;const n=e.split(".");for(let s=0,l=n.length;s<l;++s){const u=n[s];t=t[u]||(t[u]=Object.create(null))}return t}function sg(t,e,n){return typeof e=="string"?su(Qc(t,e),n):su(Qc(t,""),e)}class t7{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,l)=>rg(l.backgroundColor),this.hoverBorderColor=(s,l)=>rg(l.borderColor),this.hoverColor=(s,l)=>rg(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return sg(this,e,n)}get(e){return Qc(this,e)}describe(e,n){return sg(Og,e,n)}override(e,n){return sg(vo,e,n)}route(e,n,s,l){const u=Qc(this,e),g=Qc(this,s),y="_"+n;Object.defineProperties(u,{[y]:{value:u[n],writable:!0},[n]:{enumerable:!0,get(){const b=this[y],f=g[l];return At(b)?Object.assign({},f,b):bt(b,f)},set(b){this[y]=b}}})}apply(e){e.forEach(n=>n(this))}}var kn=new t7({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZO,KO,e7]);function n7(t){return!t||$t(t.size)||$t(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Xy(t,e,n,s,l){let u=e[l];return u||(u=e[l]=t.measureText(l).width,n.push(l)),u>s&&(s=u),s}function ao(t,e,n){const s=t.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((e-l)*s)/s+l}function Yy(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function kg(t,e,n,s){E_(t,e,n,s,null)}function E_(t,e,n,s,l){let u,g,y,b,f,w,E,S;const O=e.pointStyle,k=e.rotation,M=e.radius;let j=(k||0)*MO;if(O&&typeof O=="object"&&(u=O.toString(),u==="[object HTMLImageElement]"||u==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(j),t.drawImage(O,-O.width/2,-O.height/2,O.width,O.height),t.restore();return}if(!(isNaN(M)||M<=0)){switch(t.beginPath(),O){default:l?t.ellipse(n,s,l/2,M,0,0,mn):t.arc(n,s,M,0,mn),t.closePath();break;case"triangle":w=l?l/2:M,t.moveTo(n+Math.sin(j)*w,s-Math.cos(j)*M),j+=Py,t.lineTo(n+Math.sin(j)*w,s-Math.cos(j)*M),j+=Py,t.lineTo(n+Math.sin(j)*w,s-Math.cos(j)*M),t.closePath();break;case"rectRounded":f=M*.516,b=M-f,g=Math.cos(j+so)*b,E=Math.cos(j+so)*(l?l/2-f:b),y=Math.sin(j+so)*b,S=Math.sin(j+so)*(l?l/2-f:b),t.arc(n-E,s-y,f,j-Vt,j-Wn),t.arc(n+S,s-g,f,j-Wn,j),t.arc(n+E,s+y,f,j,j+Wn),t.arc(n-S,s+g,f,j+Wn,j+Vt),t.closePath();break;case"rect":if(!k){b=Math.SQRT1_2*M,w=l?l/2:b,t.rect(n-w,s-b,2*w,2*b);break}j+=so;case"rectRot":E=Math.cos(j)*(l?l/2:M),g=Math.cos(j)*M,y=Math.sin(j)*M,S=Math.sin(j)*(l?l/2:M),t.moveTo(n-E,s-y),t.lineTo(n+S,s-g),t.lineTo(n+E,s+y),t.lineTo(n-S,s+g),t.closePath();break;case"crossRot":j+=so;case"cross":E=Math.cos(j)*(l?l/2:M),g=Math.cos(j)*M,y=Math.sin(j)*M,S=Math.sin(j)*(l?l/2:M),t.moveTo(n-E,s-y),t.lineTo(n+E,s+y),t.moveTo(n+S,s-g),t.lineTo(n-S,s+g);break;case"star":E=Math.cos(j)*(l?l/2:M),g=Math.cos(j)*M,y=Math.sin(j)*M,S=Math.sin(j)*(l?l/2:M),t.moveTo(n-E,s-y),t.lineTo(n+E,s+y),t.moveTo(n+S,s-g),t.lineTo(n-S,s+g),j+=so,E=Math.cos(j)*(l?l/2:M),g=Math.cos(j)*M,y=Math.sin(j)*M,S=Math.sin(j)*(l?l/2:M),t.moveTo(n-E,s-y),t.lineTo(n+E,s+y),t.moveTo(n+S,s-g),t.lineTo(n-S,s+g);break;case"line":g=l?l/2:Math.cos(j)*M,y=Math.sin(j)*M,t.moveTo(n-g,s-y),t.lineTo(n+g,s+y);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(j)*(l?l/2:M),s+Math.sin(j)*M);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function cu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Pf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function zf(t){t.restore()}function i7(t,e,n,s,l){if(!e)return t.lineTo(n.x,n.y);if(l==="middle"){const u=(e.x+n.x)/2;t.lineTo(u,e.y),t.lineTo(u,n.y)}else l==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function r7(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function s7(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$t(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function a7(t,e,n,s,l){if(l.strikethrough||l.underline){const u=t.measureText(s),g=e-u.actualBoundingBoxLeft,y=e+u.actualBoundingBoxRight,b=n-u.actualBoundingBoxAscent,f=n+u.actualBoundingBoxDescent,w=l.strikethrough?(b+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=l.decorationWidth||2,t.moveTo(g,w),t.lineTo(y,w),t.stroke()}}function o7(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function uu(t,e,n,s,l,u={}){const g=Yn(e)?e:[e],y=u.strokeWidth>0&&u.strokeColor!=="";let b,f;for(t.save(),t.font=l.string,s7(t,u),b=0;b<g.length;++b)f=g[b],u.backdrop&&o7(t,u.backdrop),y&&(u.strokeColor&&(t.strokeStyle=u.strokeColor),$t(u.strokeWidth)||(t.lineWidth=u.strokeWidth),t.strokeText(f,n,s,u.maxWidth)),t.fillText(f,n,s,u.maxWidth),a7(t,n,s,f,u),s+=Number(l.lineHeight);t.restore()}function Mg(t,e){const{x:n,y:s,w:l,h:u,radius:g}=e;t.arc(n+g.topLeft,s+g.topLeft,g.topLeft,1.5*Vt,Vt,!0),t.lineTo(n,s+u-g.bottomLeft),t.arc(n+g.bottomLeft,s+u-g.bottomLeft,g.bottomLeft,Vt,Wn,!0),t.lineTo(n+l-g.bottomRight,s+u),t.arc(n+l-g.bottomRight,s+u-g.bottomRight,g.bottomRight,Wn,0,!0),t.lineTo(n+l,s+g.topRight),t.arc(n+l-g.topRight,s+g.topRight,g.topRight,0,-Wn,!0),t.lineTo(n+g.topLeft,s)}const l7=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,c7=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function u7(t,e){const n=(""+t).match(l7);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const d7=t=>+t||0;function gm(t,e){const n={},s=At(e),l=s?Object.keys(e):e,u=At(t)?s?g=>bt(t[g],t[e[g]]):g=>t[g]:()=>t;for(const g of l)n[g]=d7(u(g));return n}function f7(t){return gm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function $c(t){return gm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Sr(t){const e=f7(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ui(t,e){t=t||{},e=e||kn.font;let n=bt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=bt(t.style,e.style);s&&!(""+s).match(c7)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const l={family:bt(t.family,e.family),lineHeight:u7(bt(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:bt(t.weight,e.weight),string:""};return l.string=n7(l),l}function I0(t,e,n,s){let l,u,g;for(l=0,u=t.length;l<u;++l)if(g=t[l],g!==void 0&&g!==void 0)return g}function h7(t,e,n){const{min:s,max:l}=t,u=m_(e,(l-s)/2),g=(y,b)=>n&&y===0?0:y+b;return{min:g(s,-Math.abs(u)),max:g(l,u)}}function Ao(t,e){return Object.assign(Object.create(t),e)}function mm(t,e=[""],n,s,l=()=>t[0]){const u=n||t;typeof s>"u"&&(s=N_("_fallback",t));const g={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:u,_fallback:s,_getTarget:l,override:y=>mm([y,...t],e,u,s)};return new Proxy(g,{deleteProperty(y,b){return delete y[b],delete y._keys,delete t[0][b],!0},get(y,b){return S_(y,b,()=>v7(b,e,t,y))},getOwnPropertyDescriptor(y,b){return Reflect.getOwnPropertyDescriptor(y._scopes[0],b)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(y,b){return Zy(y).includes(b)},ownKeys(y){return Zy(y)},set(y,b,f){const w=y._storage||(y._storage=l());return y[b]=w[b]=f,delete y._keys,!0}})}function Ol(t,e,n,s){const l={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:A_(t,s),setContext:u=>Ol(t,u,n,s),override:u=>Ol(t.override(u),e,n,s)};return new Proxy(l,{deleteProperty(u,g){return delete u[g],delete t[g],!0},get(u,g,y){return S_(u,g,()=>m7(u,g,y))},getOwnPropertyDescriptor(u,g){return u._descriptors.allKeys?Reflect.has(t,g)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,g)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(u,g){return Reflect.has(t,g)},ownKeys(){return Reflect.ownKeys(t)},set(u,g,y){return t[g]=y,delete u[g],!0}})}function A_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:l=e.allKeys}=t;return{allKeys:l,scriptable:n,indexable:s,isScriptable:Ta(n)?n:()=>n,isIndexable:Ta(s)?s:()=>s}}const g7=(t,e)=>t?t+cm(e):e,xm=(t,e)=>At(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function S_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function m7(t,e,n){const{_proxy:s,_context:l,_subProxy:u,_descriptors:g}=t;let y=s[e];return Ta(y)&&g.isScriptable(e)&&(y=x7(e,y,t,n)),Yn(y)&&y.length&&(y=p7(e,y,t,g.isIndexable)),xm(e,y)&&(y=Ol(y,l,u&&u[e],g)),y}function x7(t,e,n,s){const{_proxy:l,_context:u,_subProxy:g,_stack:y}=n;if(y.has(t))throw new Error("Recursion detected: "+Array.from(y).join("->")+"->"+t);y.add(t);let b=e(u,g||s);return y.delete(t),xm(t,b)&&(b=pm(l._scopes,l,t,b)),b}function p7(t,e,n,s){const{_proxy:l,_context:u,_subProxy:g,_descriptors:y}=n;if(typeof u.index<"u"&&s(t))return e[u.index%e.length];if(At(e[0])){const b=e,f=l._scopes.filter(w=>w!==b);e=[];for(const w of b){const E=pm(f,l,t,w);e.push(Ol(E,u,g&&g[t],y))}}return e}function C_(t,e,n){return Ta(t)?t(e,n):t}const b7=(t,e)=>t===!0?e:typeof t=="string"?au(e,t):void 0;function y7(t,e,n,s,l){for(const u of e){const g=b7(n,u);if(g){t.add(g);const y=C_(g._fallback,n,l);if(typeof y<"u"&&y!==n&&y!==s)return y}else if(g===!1&&typeof s<"u"&&n!==s)return null}return!1}function pm(t,e,n,s){const l=e._rootScopes,u=C_(e._fallback,n,s),g=[...t,...l],y=new Set;y.add(s);let b=Wy(y,g,n,u||n,s);return b===null||typeof u<"u"&&u!==n&&(b=Wy(y,g,u,b,s),b===null)?!1:mm(Array.from(y),[""],l,u,()=>w7(e,n,s))}function Wy(t,e,n,s,l){for(;n;)n=y7(t,e,n,s,l);return n}function w7(t,e,n){const s=t._getTarget();e in s||(s[e]={});const l=s[e];return Yn(l)&&At(n)?n:l||{}}function v7(t,e,n,s){let l;for(const u of e)if(l=N_(g7(u,t),n),typeof l<"u")return xm(t,l)?pm(n,s,t,l):l}function N_(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Zy(t){let e=t._keys;return e||(e=t._keys=_7(t._scopes)),e}function _7(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(l=>!l.startsWith("_")))e.add(s);return Array.from(e)}const E7=Number.EPSILON||1e-14,kl=(t,e)=>e<t.length&&!t[e].skip&&t[e],T_=t=>t==="x"?"y":"x";function A7(t,e,n,s){const l=t.skip?e:t,u=e,g=n.skip?e:n,y=Tg(u,l),b=Tg(g,u);let f=y/(y+b),w=b/(y+b);f=isNaN(f)?0:f,w=isNaN(w)?0:w;const E=s*f,S=s*w;return{previous:{x:u.x-E*(g.x-l.x),y:u.y-E*(g.y-l.y)},next:{x:u.x+S*(g.x-l.x),y:u.y+S*(g.y-l.y)}}}function S7(t,e,n){const s=t.length;let l,u,g,y,b,f=kl(t,0);for(let w=0;w<s-1;++w)if(b=f,f=kl(t,w+1),!(!b||!f)){if(Zc(e[w],0,E7)){n[w]=n[w+1]=0;continue}l=n[w]/e[w],u=n[w+1]/e[w],y=Math.pow(l,2)+Math.pow(u,2),!(y<=9)&&(g=3/Math.sqrt(y),n[w]=l*g*e[w],n[w+1]=u*g*e[w])}}function C7(t,e,n="x"){const s=T_(n),l=t.length;let u,g,y,b=kl(t,0);for(let f=0;f<l;++f){if(g=y,y=b,b=kl(t,f+1),!y)continue;const w=y[n],E=y[s];g&&(u=(w-g[n])/3,y[`cp1${n}`]=w-u,y[`cp1${s}`]=E-u*e[f]),b&&(u=(b[n]-w)/3,y[`cp2${n}`]=w+u,y[`cp2${s}`]=E+u*e[f])}}function N7(t,e="x"){const n=T_(e),s=t.length,l=Array(s).fill(0),u=Array(s);let g,y,b,f=kl(t,0);for(g=0;g<s;++g)if(y=b,b=f,f=kl(t,g+1),!!b){if(f){const w=f[e]-b[e];l[g]=w!==0?(f[n]-b[n])/w:0}u[g]=y?f?Tl(l[g-1])!==Tl(l[g])?0:(l[g-1]+l[g])/2:l[g-1]:l[g]}S7(t,l,u),C7(t,u,e)}function B0(t,e,n){return Math.max(Math.min(t,n),e)}function T7(t,e){let n,s,l,u,g,y=cu(t[0],e);for(n=0,s=t.length;n<s;++n)g=u,u=y,y=n<s-1&&cu(t[n+1],e),u&&(l=t[n],g&&(l.cp1x=B0(l.cp1x,e.left,e.right),l.cp1y=B0(l.cp1y,e.top,e.bottom)),y&&(l.cp2x=B0(l.cp2x,e.left,e.right),l.cp2y=B0(l.cp2y,e.top,e.bottom)))}function O7(t,e,n,s,l){let u,g,y,b;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")N7(t,l);else{let f=s?t[t.length-1]:t[0];for(u=0,g=t.length;u<g;++u)y=t[u],b=A7(f,y,t[Math.min(u+1,g-(s?0:1))%g],e.tension),y.cp1x=b.previous.x,y.cp1y=b.previous.y,y.cp2x=b.next.x,y.cp2y=b.next.y,f=y}e.capBezierPoints&&T7(t,n)}function bm(){return typeof window<"u"&&typeof document<"u"}function ym(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function wf(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Ff=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function k7(t,e){return Ff(t).getPropertyValue(e)}const M7=["top","right","bottom","left"];function po(t,e,n){const s={};n=n?"-"+n:"";for(let l=0;l<4;l++){const u=M7[l];s[u]=parseFloat(t[e+"-"+u+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const R7=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function D7(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:l,offsetY:u}=s;let g=!1,y,b;if(R7(l,u,t.target))y=l,b=u;else{const f=e.getBoundingClientRect();y=s.clientX-f.left,b=s.clientY-f.top,g=!0}return{x:y,y:b,box:g}}function lo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,l=Ff(n),u=l.boxSizing==="border-box",g=po(l,"padding"),y=po(l,"border","width"),{x:b,y:f,box:w}=D7(t,n),E=g.left+(w&&y.left),S=g.top+(w&&y.top);let{width:O,height:k}=e;return u&&(O-=g.width+y.width,k-=g.height+y.height),{x:Math.round((b-E)/O*n.width/s),y:Math.round((f-S)/k*n.height/s)}}function j7(t,e,n){let s,l;if(e===void 0||n===void 0){const u=t&&ym(t);if(!u)e=t.clientWidth,n=t.clientHeight;else{const g=u.getBoundingClientRect(),y=Ff(u),b=po(y,"border","width"),f=po(y,"padding");e=g.width-f.width-b.width,n=g.height-f.height-b.height,s=wf(y.maxWidth,u,"clientWidth"),l=wf(y.maxHeight,u,"clientHeight")}}return{width:e,height:n,maxWidth:s||yf,maxHeight:l||yf}}const Sa=t=>Math.round(t*10)/10;function I7(t,e,n,s){const l=Ff(t),u=po(l,"margin"),g=wf(l.maxWidth,t,"clientWidth")||yf,y=wf(l.maxHeight,t,"clientHeight")||yf,b=j7(t,e,n);let{width:f,height:w}=b;if(l.boxSizing==="content-box"){const S=po(l,"border","width"),O=po(l,"padding");f-=O.width+S.width,w-=O.height+S.height}return f=Math.max(0,f-u.width),w=Math.max(0,s?f/s:w-u.height),f=Sa(Math.min(f,g,b.maxWidth)),w=Sa(Math.min(w,y,b.maxHeight)),f&&!w&&(w=Sa(f/2)),(e!==void 0||n!==void 0)&&s&&b.height&&w>b.height&&(w=b.height,f=Sa(Math.floor(w*s))),{width:f,height:w}}function Ky(t,e,n){const s=e||1,l=Sa(t.height*s),u=Sa(t.width*s);t.height=Sa(t.height),t.width=Sa(t.width);const g=t.canvas;return g.style&&(n||!g.style.height&&!g.style.width)&&(g.style.height=`${t.height}px`,g.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||g.height!==l||g.width!==u?(t.currentDevicePixelRatio=s,g.height=l,g.width=u,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const B7=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Qy(t,e){const n=k7(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function co(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function L7(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function P7(t,e,n,s){const l={x:t.cp2x,y:t.cp2y},u={x:e.cp1x,y:e.cp1y},g=co(t,l,n),y=co(l,u,n),b=co(u,e,n),f=co(g,y,n),w=co(y,b,n);return co(f,w,n)}const z7=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},F7=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vl(t,e,n){return t?z7(e,n):F7()}function O_(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function k_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function M_(t){return t==="angle"?{between:lu,compare:LO,normalize:ir}:{between:fo,compare:(e,n)=>e-n,normalize:e=>e}}function $y({start:t,end:e,count:n,loop:s,style:l}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:l}}function U7(t,e,n){const{property:s,start:l,end:u}=n,{between:g,normalize:y}=M_(s),b=e.length;let{start:f,end:w,loop:E}=t,S,O;if(E){for(f+=b,w+=b,S=0,O=b;S<O&&g(y(e[f%b][s]),l,u);++S)f--,w--;f%=b,w%=b}return w<f&&(w+=b),{start:f,end:w,loop:E,style:t.style}}function R_(t,e,n){if(!n)return[t];const{property:s,start:l,end:u}=n,g=e.length,{compare:y,between:b,normalize:f}=M_(s),{start:w,end:E,loop:S,style:O}=U7(t,e,n),k=[];let M=!1,j=null,F,H,z;const U=()=>b(l,z,F)&&y(l,z)!==0,Y=()=>y(u,F)===0||b(u,z,F),$=()=>M||U(),X=()=>!M||Y();for(let ue=w,J=w;ue<=E;++ue)H=e[ue%g],!H.skip&&(F=f(H[s]),F!==z&&(M=b(F,l,u),j===null&&$()&&(j=y(F,l)===0?ue:J),j!==null&&X()&&(k.push($y({start:j,end:ue,loop:S,count:g,style:O})),j=null),J=ue,z=F));return j!==null&&k.push($y({start:j,end:E,loop:S,count:g,style:O})),k}function D_(t,e){const n=[],s=t.segments;for(let l=0;l<s.length;l++){const u=R_(s[l],t.points,e);u.length&&n.push(...u)}return n}function H7(t,e,n,s){let l=0,u=e-1;if(n&&!s)for(;l<e&&!t[l].skip;)l++;for(;l<e&&t[l].skip;)l++;for(l%=e,n&&(u+=l);u>l&&t[u%e].skip;)u--;return u%=e,{start:l,end:u}}function V7(t,e,n,s){const l=t.length,u=[];let g=e,y=t[e],b;for(b=e+1;b<=n;++b){const f=t[b%l];f.skip||f.stop?y.skip||(s=!1,u.push({start:e%l,end:(b-1)%l,loop:s}),e=g=f.stop?b:null):(g=b,y.skip&&(e=b)),y=f}return g!==null&&u.push({start:e%l,end:g%l,loop:s}),u}function G7(t,e){const n=t.points,s=t.options.spanGaps,l=n.length;if(!l)return[];const u=!!t._loop,{start:g,end:y}=H7(n,l,u,s);if(s===!0)return Jy(t,[{start:g,end:y,loop:u}],n,e);const b=y<g?y+l:y,f=!!t._fullLoop&&g===0&&y===l-1;return Jy(t,V7(n,g,b,f),n,e)}function Jy(t,e,n,s){return!s||!s.setContext||!n?e:q7(t,e,n,s)}function q7(t,e,n,s){const l=t._chart.getContext(),u=ew(t.options),{_datasetIndex:g,options:{spanGaps:y}}=t,b=n.length,f=[];let w=u,E=e[0].start,S=E;function O(k,M,j,F){const H=y?-1:1;if(k!==M){for(k+=b;n[k%b].skip;)k-=H;for(;n[M%b].skip;)M+=H;k%b!==M%b&&(f.push({start:k%b,end:M%b,loop:j,style:F}),w=F,E=M%b)}}for(const k of e){E=y?E:k.start;let M=n[E%b],j;for(S=E+1;S<=k.end;S++){const F=n[S%b];j=ew(s.setContext(Ao(l,{type:"segment",p0:M,p1:F,p0DataIndex:(S-1)%b,p1DataIndex:S%b,datasetIndex:g}))),X7(j,w)&&O(E,S-1,k.loop,w),M=F,w=j}E<S-1&&O(E,S-1,k.loop,w)}return f}function ew(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function X7(t,e){if(!e)return!1;const n=[],s=function(l,u){return fm(u)?(n.includes(u)||n.push(u),n.indexOf(u)):u};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function L0(t,e,n){return t.options.clip?t[n]:e[n]}function Y7(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:L0(n,e,"left"),right:L0(n,e,"right"),top:L0(s,e,"top"),bottom:L0(s,e,"bottom")}:e}function j_(t,e){const n=e._clip;if(n.disabled)return!1;const s=Y7(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}class W7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,l){const u=n.listeners[l],g=n.duration;u.forEach(y=>y({chart:e,initial:n.initial,numSteps:g,currentStep:Math.min(s-n.start,g)}))}_refresh(){this._request||(this._running=!0,this._request=w_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,l)=>{if(!s.running||!s.items.length)return;const u=s.items;let g=u.length-1,y=!1,b;for(;g>=0;--g)b=u[g],b._active?(b._total>s.duration&&(s.duration=b._total),b.tick(e),y=!0):(u[g]=u[u.length-1],u.pop());y&&(l.draw(),this._notify(l,s,e,"progress")),u.length||(s.running=!1,this._notify(l,s,e,"complete"),s.initial=!1),n+=u.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,l)=>Math.max(s,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let l=s.length-1;for(;l>=0;--l)s[l].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rs=new W7;const tw="transparent",Z7={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Gy(t||tw),l=s.valid&&Gy(e||tw);return l&&l.valid?l.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class K7{constructor(e,n,s,l){const u=n[s];l=I0([e.to,l,u,e.from]);const g=I0([e.from,u,l]);this._active=!0,this._fn=e.fn||Z7[e.type||typeof g],this._easing=Kc[e.easing]||Kc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=g,this._to=l,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const l=this._target[this._prop],u=s-this._start,g=this._duration-u;this._start=s,this._duration=Math.floor(Math.max(g,e.duration)),this._total+=u,this._loop=!!e.loop,this._to=I0([e.to,n,l,e.from]),this._from=I0([e.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,l=this._prop,u=this._from,g=this._loop,y=this._to;let b;if(this._active=u!==y&&(g||n<s),!this._active){this._target[l]=y,this._notify(!0);return}if(n<0){this._target[l]=u;return}b=n/s%2,b=g&&b>1?2-b:b,b=this._easing(Math.min(1,Math.max(0,b))),this._target[l]=this._fn(u,y,b)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let l=0;l<s.length;l++)s[l][n]()}}class I_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!At(e))return;const n=Object.keys(kn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const u=e[l];if(!At(u))return;const g={};for(const y of n)g[y]=u[y];(Yn(u.properties)&&u.properties||[l]).forEach(y=>{(y===l||!s.has(y))&&s.set(y,g)})})}_animateOptions(e,n){const s=n.options,l=$7(e,s);if(!l)return[];const u=this._createAnimations(l,s);return s.$shared&&Q7(e.options.$animations,s).then(()=>{e.options=s},()=>{}),u}_createAnimations(e,n){const s=this._properties,l=[],u=e.$animations||(e.$animations={}),g=Object.keys(n),y=Date.now();let b;for(b=g.length-1;b>=0;--b){const f=g[b];if(f.charAt(0)==="$")continue;if(f==="options"){l.push(...this._animateOptions(e,n));continue}const w=n[f];let E=u[f];const S=s.get(f);if(E)if(S&&E.active()){E.update(S,w,y);continue}else E.cancel();if(!S||!S.duration){e[f]=w;continue}u[f]=E=new K7(S,e,f,w),l.push(E)}return l}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Rs.add(this._chart,s),!0}}function Q7(t,e){const n=[],s=Object.keys(e);for(let l=0;l<s.length;l++){const u=t[s[l]];u&&u.active()&&n.push(u.wait())}return Promise.all(n)}function $7(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function nw(t,e){const n=t&&t.options||{},s=n.reverse,l=n.min===void 0?e:0,u=n.max===void 0?e:0;return{start:s?u:l,end:s?l:u}}function J7(t,e,n){if(n===!1)return!1;const s=nw(t,n),l=nw(e,n);return{top:l.end,right:s.end,bottom:l.start,left:s.start}}function ek(t){let e,n,s,l;return At(t)?(e=t.top,n=t.right,s=t.bottom,l=t.left):e=n=s=l=t,{top:e,right:n,bottom:s,left:l,disabled:t===!1}}function B_(t,e){const n=[],s=t._getSortedDatasetMetas(e);let l,u;for(l=0,u=s.length;l<u;++l)n.push(s[l].index);return n}function iw(t,e,n,s={}){const l=t.keys,u=s.mode==="single";let g,y,b,f;if(e===null)return;let w=!1;for(g=0,y=l.length;g<y;++g){if(b=+l[g],b===n){if(w=!0,s.all)continue;break}f=t.values[b],fi(f)&&(u||e===0||Tl(e)===Tl(f))&&(e+=f)}return!w&&!s.all?0:e}function tk(t,e){const{iScale:n,vScale:s}=e,l=n.axis==="x"?"x":"y",u=s.axis==="x"?"x":"y",g=Object.keys(t),y=new Array(g.length);let b,f,w;for(b=0,f=g.length;b<f;++b)w=g[b],y[b]={[l]:w,[u]:t[w]};return y}function ag(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function nk(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function ik(t){const{min:e,max:n,minDefined:s,maxDefined:l}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function rk(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function rw(t,e,n,s){for(const l of e.getMatchingVisibleMetas(s).reverse()){const u=t[l.index];if(n&&u>0||!n&&u<0)return l.index}return null}function sw(t,e){const{chart:n,_cachedMeta:s}=t,l=n._stacks||(n._stacks={}),{iScale:u,vScale:g,index:y}=s,b=u.axis,f=g.axis,w=nk(u,g,s),E=e.length;let S;for(let O=0;O<E;++O){const k=e[O],{[b]:M,[f]:j}=k,F=k._stacks||(k._stacks={});S=F[f]=rk(l,w,M),S[y]=j,S._top=rw(S,g,!0,s.type),S._bottom=rw(S,g,!1,s.type);const H=S._visualValues||(S._visualValues={});H[y]=j}}function og(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function sk(t,e){return Ao(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ak(t,e,n){return Ao(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Pc(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const l of e){const u=l._stacks;if(!u||u[s]===void 0||u[s][n]===void 0)return;delete u[s][n],u[s]._visualValues!==void 0&&u[s]._visualValues[n]!==void 0&&delete u[s]._visualValues[n]}}}const lg=t=>t==="reset"||t==="none",aw=(t,e)=>e?t:Object.assign({},t),ok=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:B_(n,!0),values:null};class wm{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ag(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),l=(E,S,O,k)=>E==="x"?S:E==="r"?k:O,u=n.xAxisID=bt(s.xAxisID,og(e,"x")),g=n.yAxisID=bt(s.yAxisID,og(e,"y")),y=n.rAxisID=bt(s.rAxisID,og(e,"r")),b=n.indexAxis,f=n.iAxisID=l(b,u,g,y),w=n.vAxisID=l(b,g,u,y);n.xScale=this.getScaleForId(u),n.yScale=this.getScaleForId(g),n.rScale=this.getScaleForId(y),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Uy(this._data,this),e._stacked&&Pc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(At(n)){const l=this._cachedMeta;this._data=tk(n,l)}else if(s!==n){if(s){Uy(s,this);const l=this._cachedMeta;Pc(l),l._parsed=[]}n&&Object.isExtensible(n)&&UO(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let l=!1;this._dataCheck();const u=n._stacked;n._stacked=ag(n.vScale,n),n.stack!==s.stack&&(l=!0,Pc(n),n.stack=s.stack),this._resyncElements(e),(l||u!==n._stacked)&&(sw(this,n._parsed),n._stacked=ag(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:l}=this,{iScale:u,_stacked:g}=s,y=u.axis;let b=e===0&&n===l.length?!0:s._sorted,f=e>0&&s._parsed[e-1],w,E,S;if(this._parsing===!1)s._parsed=l,s._sorted=!0,S=l;else{Yn(l[e])?S=this.parseArrayData(s,l,e,n):At(l[e])?S=this.parseObjectData(s,l,e,n):S=this.parsePrimitiveData(s,l,e,n);const O=()=>E[y]===null||f&&E[y]<f[y];for(w=0;w<n;++w)s._parsed[w+e]=E=S[w],b&&(O()&&(b=!1),f=E);s._sorted=b}g&&sw(this,S)}parsePrimitiveData(e,n,s,l){const{iScale:u,vScale:g}=e,y=u.axis,b=g.axis,f=u.getLabels(),w=u===g,E=new Array(l);let S,O,k;for(S=0,O=l;S<O;++S)k=S+s,E[S]={[y]:w||u.parse(f[k],k),[b]:g.parse(n[k],k)};return E}parseArrayData(e,n,s,l){const{xScale:u,yScale:g}=e,y=new Array(l);let b,f,w,E;for(b=0,f=l;b<f;++b)w=b+s,E=n[w],y[b]={x:u.parse(E[0],w),y:g.parse(E[1],w)};return y}parseObjectData(e,n,s,l){const{xScale:u,yScale:g}=e,{xAxisKey:y="x",yAxisKey:b="y"}=this._parsing,f=new Array(l);let w,E,S,O;for(w=0,E=l;w<E;++w)S=w+s,O=n[S],f[w]={x:u.parse(au(O,y),S),y:g.parse(au(O,b),S)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const l=this.chart,u=this._cachedMeta,g=n[e.axis],y={keys:B_(l,!0),values:n._stacks[e.axis]._visualValues};return iw(y,g,u.index,{mode:s})}updateRangeFromParsed(e,n,s,l){const u=s[n.axis];let g=u===null?NaN:u;const y=l&&s._stacks[n.axis];l&&y&&(l.values=y,g=iw(l,u,this._cachedMeta.index)),e.min=Math.min(e.min,g),e.max=Math.max(e.max,g)}getMinMax(e,n){const s=this._cachedMeta,l=s._parsed,u=s._sorted&&e===s.iScale,g=l.length,y=this._getOtherScale(e),b=ok(n,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:E}=ik(y);let S,O;function k(){O=l[S];const M=O[y.axis];return!fi(O[e.axis])||w>M||E<M}for(S=0;S<g&&!(!k()&&(this.updateRangeFromParsed(f,e,O,b),u));++S);if(u){for(S=g-1;S>=0;--S)if(!k()){this.updateRangeFromParsed(f,e,O,b);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let l,u,g;for(l=0,u=n.length;l<u;++l)g=n[l][e.axis],fi(g)&&s.push(g);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,l=n.vScale,u=this.getParsed(e);return{label:s?""+s.getLabelForValue(u[s.axis]):"",value:l?""+l.getLabelForValue(u[l.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ek(bt(this.options.clip,J7(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,l=s.data||[],u=n.chartArea,g=[],y=this._drawStart||0,b=this._drawCount||l.length-y,f=this.options.drawActiveElementsOnTop;let w;for(s.dataset&&s.dataset.draw(e,u,y,b),w=y;w<y+b;++w){const E=l[w];E.hidden||(E.active&&f?g.push(E):E.draw(e,u))}for(w=0;w<g.length;++w)g[w].draw(e,u)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const l=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const g=this._cachedMeta.data[e];u=g.$context||(g.$context=ak(this.getContext(),e,g)),u.parsed=this.getParsed(e),u.raw=l.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=sk(this.chart.getContext(),this.index)),u.dataset=l,u.index=u.datasetIndex=this.index;return u.active=!!n,u.mode=s,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const l=n==="active",u=this._cachedDataOpts,g=e+"-"+n,y=u[g],b=this.enableOptionSharing&&bf(s);if(y)return aw(y,b);const f=this.chart.config,w=f.datasetElementScopeKeys(this._type,e),E=l?[`${e}Hover`,"hover",e,""]:[e,""],S=f.getOptionScopes(this.getDataset(),w),O=Object.keys(kn.elements[e]),k=()=>this.getContext(s,l,n),M=f.resolveNamedOptions(S,O,k,E);return M.$shared&&(M.$shared=b,u[g]=Object.freeze(aw(M,b))),M}_resolveAnimations(e,n,s){const l=this.chart,u=this._cachedDataOpts,g=`animation-${n}`,y=u[g];if(y)return y;let b;if(l.options.animation!==!1){const w=this.chart.config,E=w.datasetAnimationScopeKeys(this._type,n),S=w.getOptionScopes(this.getDataset(),E);b=w.createResolver(S,this.getContext(e,s,n))}const f=new I_(l,b&&b.animations);return b&&b._cacheable&&(u[g]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||lg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),l=this._sharedOptions,u=this.getSharedOptions(s),g=this.includeOptions(n,u)||u!==l;return this.updateSharedOptions(u,n,s),{sharedOptions:u,includeOptions:g}}updateElement(e,n,s,l){lg(l)?Object.assign(e,s):this._resolveAnimations(n,l).update(e,s)}updateSharedOptions(e,n,s){e&&!lg(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,l){e.active=l;const u=this.getStyle(n,l);this._resolveAnimations(n,s,l).update(e,{options:!l&&this.getSharedOptions(u)||u})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[y,b,f]of this._syncList)this[y](b,f);this._syncList=[];const l=s.length,u=n.length,g=Math.min(u,l);g&&this.parse(0,g),u>l?this._insertElements(l,u-l,e):u<l&&this._removeElements(u,l-u)}_insertElements(e,n,s=!0){const l=this._cachedMeta,u=l.data,g=e+n;let y;const b=f=>{for(f.length+=n,y=f.length-1;y>=g;y--)f[y]=f[y-n]};for(b(u),y=e;y<g;++y)u[y]=new this.dataElementType;this._parsing&&b(l._parsed),this.parse(e,n),s&&this.updateElements(u,e,n,"reset")}updateElements(e,n,s,l){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const l=s._parsed.splice(e,n);s._stacked&&Pc(s,l)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,l]=e;this[n](s,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lk(t,e,n){let s=1,l=1,u=0,g=0;if(e<mn){const y=t,b=y+e,f=Math.cos(y),w=Math.sin(y),E=Math.cos(b),S=Math.sin(b),O=(z,U,Y)=>lu(z,y,b,!0)?1:Math.max(U,U*n,Y,Y*n),k=(z,U,Y)=>lu(z,y,b,!0)?-1:Math.min(U,U*n,Y,Y*n),M=O(0,f,E),j=O(Wn,w,S),F=k(Vt,f,E),H=k(Vt+Wn,w,S);s=(M-F)/2,l=(j-H)/2,u=-(M+F)/2,g=-(j+H)/2}return{ratioX:s,ratioY:l,offsetX:u,offsetY:g}}class ck extends wm{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:l,color:u,useBorderRadius:g,borderRadius:y}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((b,f)=>{const E=e.getDatasetMeta(0).controller.getStyle(f);return{text:b,fillStyle:E.backgroundColor,fontColor:u,hidden:!e.getDataVisibility(f),lineDash:E.borderDash,lineDashOffset:E.borderDashOffset,lineJoin:E.borderJoinStyle,lineWidth:E.borderWidth,strokeStyle:E.borderColor,textAlign:l,pointStyle:s,borderRadius:g&&(y||E.borderRadius),index:f}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=s;else{let u=b=>+s[b];if(At(s[e])){const{key:b="value"}=this._parsing;u=f=>+au(s[f],b)}let g,y;for(g=e,y=e+n;g<y;++g)l._parsed[g]=u(g)}}_getRotation(){return Is(this.options.rotation-90)}_getCircumference(){return Is(this.options.circumference)}_getRotationExtents(){let e=mn,n=-mn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const l=this.chart.getDatasetMeta(s).controller,u=l._getRotation(),g=l._getCircumference();e=Math.min(e,u),n=Math.max(n,u+g)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,l=this._cachedMeta,u=l.data,g=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,y=Math.max((Math.min(s.width,s.height)-g)/2,0),b=Math.min(AO(this.options.cutout,y),1),f=this._getRingWeight(this.index),{circumference:w,rotation:E}=this._getRotationExtents(),{ratioX:S,ratioY:O,offsetX:k,offsetY:M}=lk(E,w,b),j=(s.width-g)/S,F=(s.height-g)/O,H=Math.max(Math.min(j,F)/2,0),z=m_(this.options.radius,H),U=Math.max(z*b,0),Y=(z-U)/this._getVisibleDatasetWeightTotal();this.offsetX=k*z,this.offsetY=M*z,l.total=this.calculateTotal(),this.outerRadius=z-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*f,0),this.updateElements(u,0,u.length,e)}_circumference(e,n){const s=this.options,l=this._cachedMeta,u=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||l._parsed[e]===null||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*u/mn)}updateElements(e,n,s,l){const u=l==="reset",g=this.chart,y=g.chartArea,f=g.options.animation,w=(y.left+y.right)/2,E=(y.top+y.bottom)/2,S=u&&f.animateScale,O=S?0:this.innerRadius,k=S?0:this.outerRadius,{sharedOptions:M,includeOptions:j}=this._getSharedOptions(n,l);let F=this._getRotation(),H;for(H=0;H<n;++H)F+=this._circumference(H,u);for(H=n;H<n+s;++H){const z=this._circumference(H,u),U=e[H],Y={x:w+this.offsetX,y:E+this.offsetY,startAngle:F,endAngle:F+z,circumference:z,outerRadius:k,innerRadius:O};j&&(Y.options=M||this.resolveDataElementOptions(H,U.active?"active":l)),F+=z,this.updateElement(U,H,Y,l)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,l;for(l=0;l<n.length;l++){const u=e._parsed[l];u!==null&&!isNaN(u)&&this.chart.getDataVisibility(l)&&!n[l].hidden&&(s+=Math.abs(u))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?mn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,l=s.data.labels||[],u=hm(n._parsed[e],s.options.locale);return{label:l[e]||"",value:u}}getMaxBorderWidth(e){let n=0;const s=this.chart;let l,u,g,y,b;if(!e){for(l=0,u=s.data.datasets.length;l<u;++l)if(s.isDatasetVisible(l)){g=s.getDatasetMeta(l),e=g.data,y=g.controller;break}}if(!e)return 0;for(l=0,u=e.length;l<u;++l)b=y.resolveDataElementOptions(l),b.borderAlign!=="inner"&&(n=Math.max(n,b.borderWidth||0,b.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,l=e.length;s<l;++s){const u=this.resolveDataElementOptions(s);n=Math.max(n,u.offset||0,u.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(bt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class uk extends wm{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:l=[],_dataset:u}=n,g=this.chart._animationsDisabled;let{start:y,count:b}=qO(n,l,g);this._drawStart=y,this._drawCount=b,XO(n)&&(y=0,b=l.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!u._decimated,s.points=l;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!g,options:f},e),this.updateElements(l,y,b,e)}updateElements(e,n,s,l){const u=l==="reset",{iScale:g,vScale:y,_stacked:b,_dataset:f}=this._cachedMeta,{sharedOptions:w,includeOptions:E}=this._getSharedOptions(n,l),S=g.axis,O=y.axis,{spanGaps:k,segment:M}=this.options,j=ou(k)?k:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||u||l==="none",H=n+s,z=e.length;let U=n>0&&this.getParsed(n-1);for(let Y=0;Y<z;++Y){const $=e[Y],X=F?$:{};if(Y<n||Y>=H){X.skip=!0;continue}const ue=this.getParsed(Y),J=$t(ue[O]),Oe=X[S]=g.getPixelForValue(ue[S],Y),Ee=X[O]=u||J?y.getBasePixel():y.getPixelForValue(b?this.applyStack(y,ue,b):ue[O],Y);X.skip=isNaN(Oe)||isNaN(Ee)||J,X.stop=Y>0&&Math.abs(ue[S]-U[S])>j,M&&(X.parsed=ue,X.raw=f.data[Y]),E&&(X.options=w||this.resolveDataElementOptions(Y,$.active?"active":l)),F||this.updateElement($,Y,X,l),U=ue}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,l=e.data||[];if(!l.length)return s;const u=l[0].size(this.resolveDataElementOptions(0)),g=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(s,u,g)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function oo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vm{static override(e){Object.assign(vm.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return oo()}parse(){return oo()}format(){return oo()}add(){return oo()}diff(){return oo()}startOf(){return oo()}endOf(){return oo()}}var dk={_date:vm};function fk(t,e,n,s){const{controller:l,data:u,_sorted:g}=t,y=l._cachedMeta.iScale,b=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(y&&e===y.axis&&e!=="r"&&g&&u.length){const f=y._reversePixels?zO:ho;if(s){if(l._sharedOptions){const w=u[0],E=typeof w.getRange=="function"&&w.getRange(e);if(E){const S=f(u,e,n-E),O=f(u,e,n+E);return{lo:S.lo,hi:O.hi}}}}else{const w=f(u,e,n);if(b){const{vScale:E}=l._cachedMeta,{_parsed:S}=t,O=S.slice(0,w.lo+1).reverse().findIndex(M=>!$t(M[E.axis]));w.lo-=Math.max(0,O);const k=S.slice(w.hi).findIndex(M=>!$t(M[E.axis]));w.hi+=Math.max(0,k)}return w}}return{lo:0,hi:u.length-1}}function Uf(t,e,n,s,l){const u=t.getSortedVisibleDatasetMetas(),g=n[e];for(let y=0,b=u.length;y<b;++y){const{index:f,data:w}=u[y],{lo:E,hi:S}=fk(u[y],e,g,l);for(let O=E;O<=S;++O){const k=w[O];k.skip||s(k,f,O)}}}function hk(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,l){const u=e?Math.abs(s.x-l.x):0,g=n?Math.abs(s.y-l.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(g,2))}}function cg(t,e,n,s,l){const u=[];return!l&&!t.isPointInArea(e)||Uf(t,n,e,function(y,b,f){!l&&!cu(y,t.chartArea,0)||y.inRange(e.x,e.y,s)&&u.push({element:y,datasetIndex:b,index:f})},!0),u}function gk(t,e,n,s){let l=[];function u(g,y,b){const{startAngle:f,endAngle:w}=g.getProps(["startAngle","endAngle"],s),{angle:E}=b_(g,{x:e.x,y:e.y});lu(E,f,w)&&l.push({element:g,datasetIndex:y,index:b})}return Uf(t,n,e,u),l}function mk(t,e,n,s,l,u){let g=[];const y=hk(n);let b=Number.POSITIVE_INFINITY;function f(w,E,S){const O=w.inRange(e.x,e.y,l);if(s&&!O)return;const k=w.getCenterPoint(l);if(!(!!u||t.isPointInArea(k))&&!O)return;const j=y(e,k);j<b?(g=[{element:w,datasetIndex:E,index:S}],b=j):j===b&&g.push({element:w,datasetIndex:E,index:S})}return Uf(t,n,e,f),g}function ug(t,e,n,s,l,u){return!u&&!t.isPointInArea(e)?[]:n==="r"&&!s?gk(t,e,n,l):mk(t,e,n,s,l,u)}function ow(t,e,n,s,l){const u=[],g=n==="x"?"inXRange":"inYRange";let y=!1;return Uf(t,n,e,(b,f,w)=>{b[g]&&b[g](e[n],l)&&(u.push({element:b,datasetIndex:f,index:w}),y=y||b.inRange(e.x,e.y,l))}),s&&!y?[]:u}var xk={modes:{index(t,e,n,s){const l=lo(e,t),u=n.axis||"x",g=n.includeInvisible||!1,y=n.intersect?cg(t,l,u,s,g):ug(t,l,u,!1,s,g),b=[];return y.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const w=y[0].index,E=f.data[w];E&&!E.skip&&b.push({element:E,datasetIndex:f.index,index:w})}),b):[]},dataset(t,e,n,s){const l=lo(e,t),u=n.axis||"xy",g=n.includeInvisible||!1;let y=n.intersect?cg(t,l,u,s,g):ug(t,l,u,!1,s,g);if(y.length>0){const b=y[0].datasetIndex,f=t.getDatasetMeta(b).data;y=[];for(let w=0;w<f.length;++w)y.push({element:f[w],datasetIndex:b,index:w})}return y},point(t,e,n,s){const l=lo(e,t),u=n.axis||"xy",g=n.includeInvisible||!1;return cg(t,l,u,s,g)},nearest(t,e,n,s){const l=lo(e,t),u=n.axis||"xy",g=n.includeInvisible||!1;return ug(t,l,u,n.intersect,s,g)},x(t,e,n,s){const l=lo(e,t);return ow(t,l,"x",n.intersect,s)},y(t,e,n,s){const l=lo(e,t);return ow(t,l,"y",n.intersect,s)}}};const L_=["left","top","right","bottom"];function zc(t,e){return t.filter(n=>n.pos===e)}function lw(t,e){return t.filter(n=>L_.indexOf(n.pos)===-1&&n.box.axis===e)}function Fc(t,e){return t.sort((n,s)=>{const l=e?s:n,u=e?n:s;return l.weight===u.weight?l.index-u.index:l.weight-u.weight})}function pk(t){const e=[];let n,s,l,u,g,y;for(n=0,s=(t||[]).length;n<s;++n)l=t[n],{position:u,options:{stack:g,stackWeight:y=1}}=l,e.push({index:n,box:l,pos:u,horizontal:l.isHorizontal(),weight:l.weight,stack:g&&u+g,stackWeight:y});return e}function bk(t){const e={};for(const n of t){const{stack:s,pos:l,stackWeight:u}=n;if(!s||!L_.includes(l))continue;const g=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});g.count++,g.weight+=u}return e}function yk(t,e){const n=bk(t),{vBoxMaxWidth:s,hBoxMaxHeight:l}=e;let u,g,y;for(u=0,g=t.length;u<g;++u){y=t[u];const{fullSize:b}=y.box,f=n[y.stack],w=f&&y.stackWeight/f.weight;y.horizontal?(y.width=w?w*s:b&&e.availableWidth,y.height=l):(y.width=s,y.height=w?w*l:b&&e.availableHeight)}return n}function wk(t){const e=pk(t),n=Fc(e.filter(f=>f.box.fullSize),!0),s=Fc(zc(e,"left"),!0),l=Fc(zc(e,"right")),u=Fc(zc(e,"top"),!0),g=Fc(zc(e,"bottom")),y=lw(e,"x"),b=lw(e,"y");return{fullSize:n,leftAndTop:s.concat(u),rightAndBottom:l.concat(b).concat(g).concat(y),chartArea:zc(e,"chartArea"),vertical:s.concat(l).concat(b),horizontal:u.concat(g).concat(y)}}function cw(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function P_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function vk(t,e,n,s){const{pos:l,box:u}=n,g=t.maxPadding;if(!At(l)){n.size&&(t[l]-=n.size);const E=s[n.stack]||{size:0,count:1};E.size=Math.max(E.size,n.horizontal?u.height:u.width),n.size=E.size/E.count,t[l]+=n.size}u.getPadding&&P_(g,u.getPadding());const y=Math.max(0,e.outerWidth-cw(g,t,"left","right")),b=Math.max(0,e.outerHeight-cw(g,t,"top","bottom")),f=y!==t.w,w=b!==t.h;return t.w=y,t.h=b,n.horizontal?{same:f,other:w}:{same:w,other:f}}function _k(t){const e=t.maxPadding;function n(s){const l=Math.max(e[s]-t[s],0);return t[s]+=l,l}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Ek(t,e){const n=e.maxPadding;function s(l){const u={left:0,top:0,right:0,bottom:0};return l.forEach(g=>{u[g]=Math.max(e[g],n[g])}),u}return s(t?["left","right"]:["top","bottom"])}function Xc(t,e,n,s){const l=[];let u,g,y,b,f,w;for(u=0,g=t.length,f=0;u<g;++u){y=t[u],b=y.box,b.update(y.width||e.w,y.height||e.h,Ek(y.horizontal,e));const{same:E,other:S}=vk(e,n,y,s);f|=E&&l.length,w=w||S,b.fullSize||l.push(y)}return f&&Xc(l,e,n,s)||w}function P0(t,e,n,s,l){t.top=n,t.left=e,t.right=e+s,t.bottom=n+l,t.width=s,t.height=l}function uw(t,e,n,s){const l=n.padding;let{x:u,y:g}=e;for(const y of t){const b=y.box,f=s[y.stack]||{placed:0,weight:1},w=y.stackWeight/f.weight||1;if(y.horizontal){const E=e.w*w,S=f.size||b.height;bf(f.start)&&(g=f.start),b.fullSize?P0(b,l.left,g,n.outerWidth-l.right-l.left,S):P0(b,e.left+f.placed,g,E,S),f.start=g,f.placed+=E,g=b.bottom}else{const E=e.h*w,S=f.size||b.width;bf(f.start)&&(u=f.start),b.fullSize?P0(b,u,l.top,S,n.outerHeight-l.bottom-l.top):P0(b,u,e.top+f.placed,S,E),f.start=u,f.placed+=E,u=b.right}}e.x=u,e.y=g}var _r={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const l=Sr(t.options.layout.padding),u=Math.max(e-l.width,0),g=Math.max(n-l.height,0),y=wk(t.boxes),b=y.vertical,f=y.horizontal;Ht(t.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const w=b.reduce((M,j)=>j.box.options&&j.box.options.display===!1?M:M+1,0)||1,E=Object.freeze({outerWidth:e,outerHeight:n,padding:l,availableWidth:u,availableHeight:g,vBoxMaxWidth:u/2/w,hBoxMaxHeight:g/2}),S=Object.assign({},l);P_(S,Sr(s));const O=Object.assign({maxPadding:S,w:u,h:g,x:l.left,y:l.top},l),k=yk(b.concat(f),E);Xc(y.fullSize,O,E,k),Xc(b,O,E,k),Xc(f,O,E,k)&&Xc(b,O,E,k),_k(O),uw(y.leftAndTop,O,E,k),O.x+=O.w,O.y+=O.h,uw(y.rightAndBottom,O,E,k),t.chartArea={left:O.left,top:O.top,right:O.left+O.w,bottom:O.top+O.h,height:O.h,width:O.w},Ht(y.chartArea,M=>{const j=M.box;Object.assign(j,t.chartArea),j.update(O.w,O.h,{left:0,top:0,right:0,bottom:0})})}};class z_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,l){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,l?Math.floor(n/l):s)}}isAttached(e){return!0}updateConfig(e){}}class Ak extends z_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Z0="$chartjs",Sk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dw=t=>t===null||t==="";function Ck(t,e){const n=t.style,s=t.getAttribute("height"),l=t.getAttribute("width");if(t[Z0]={initial:{height:s,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",dw(l)){const u=Qy(t,"width");u!==void 0&&(t.width=u)}if(dw(s))if(t.style.height==="")t.height=t.width/(e||2);else{const u=Qy(t,"height");u!==void 0&&(t.height=u)}return t}const F_=B7?{passive:!0}:!1;function Nk(t,e,n){t&&t.addEventListener(e,n,F_)}function Tk(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,F_)}function Ok(t,e){const n=Sk[t.type]||t.type,{x:s,y:l}=lo(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:l!==void 0?l:null}}function vf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kk(t,e,n){const s=t.canvas,l=new MutationObserver(u=>{let g=!1;for(const y of u)g=g||vf(y.addedNodes,s),g=g&&!vf(y.removedNodes,s);g&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function Mk(t,e,n){const s=t.canvas,l=new MutationObserver(u=>{let g=!1;for(const y of u)g=g||vf(y.removedNodes,s),g=g&&!vf(y.addedNodes,s);g&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}const du=new Map;let fw=0;function U_(){const t=window.devicePixelRatio;t!==fw&&(fw=t,du.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Rk(t,e){du.size||window.addEventListener("resize",U_),du.set(t,e)}function Dk(t){du.delete(t),du.size||window.removeEventListener("resize",U_)}function jk(t,e,n){const s=t.canvas,l=s&&ym(s);if(!l)return;const u=v_((y,b)=>{const f=l.clientWidth;n(y,b),f<l.clientWidth&&n()},window),g=new ResizeObserver(y=>{const b=y[0],f=b.contentRect.width,w=b.contentRect.height;f===0&&w===0||u(f,w)});return g.observe(l),Rk(t,u),g}function dg(t,e,n){n&&n.disconnect(),e==="resize"&&Dk(t)}function Ik(t,e,n){const s=t.canvas,l=v_(u=>{t.ctx!==null&&n(Ok(u,t))},t);return Nk(s,e,l),l}class Bk extends z_{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Ck(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Z0])return!1;const s=n[Z0].initial;["height","width"].forEach(u=>{const g=s[u];$t(g)?n.removeAttribute(u):n.setAttribute(u,g)});const l=s.style||{};return Object.keys(l).forEach(u=>{n.style[u]=l[u]}),n.width=n.width,delete n[Z0],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const l=e.$proxies||(e.$proxies={}),g={attach:kk,detach:Mk,resize:jk}[n]||Ik;l[n]=g(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),l=s[n];if(!l)return;({attach:dg,detach:dg,resize:dg}[n]||Tk)(e,n,l),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,l){return I7(e,n,s,l)}isAttached(e){const n=e&&ym(e);return!!(n&&n.isConnected)}}function Lk(t){return!bm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ak:Bk}let Oa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return ou(this.x)&&ou(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const l={};return e.forEach(u=>{l[u]=s[u]&&s[u].active()?s[u]._to:this[u]}),l}};function Pk(t,e){const n=t.options.ticks,s=zk(t),l=Math.min(n.maxTicksLimit||s,s),u=n.major.enabled?Uk(e):[],g=u.length,y=u[0],b=u[g-1],f=[];if(g>l)return Hk(e,f,u,g/l),f;const w=Fk(u,e,l);if(g>0){let E,S;const O=g>1?Math.round((b-y)/(g-1)):null;for(z0(e,f,w,$t(O)?0:y-O,y),E=0,S=g-1;E<S;E++)z0(e,f,w,u[E],u[E+1]);return z0(e,f,w,b,$t(O)?e.length:b+O),f}return z0(e,f,w),f}function zk(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),l=t._maxLength/n;return Math.floor(Math.min(s,l))}function Fk(t,e,n){const s=Vk(t),l=e.length/n;if(!s)return Math.max(l,1);const u=RO(s);for(let g=0,y=u.length-1;g<y;g++){const b=u[g];if(b>l)return b}return Math.max(l,1)}function Uk(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Hk(t,e,n,s){let l=0,u=n[0],g;for(s=Math.ceil(s),g=0;g<t.length;g++)g===u&&(e.push(t[g]),l++,u=n[l*s])}function z0(t,e,n,s,l){const u=bt(s,0),g=Math.min(bt(l,t.length),t.length);let y=0,b,f,w;for(n=Math.ceil(n),l&&(b=l-s,n=b/Math.floor(b/n)),w=u;w<0;)y++,w=Math.round(u+y*n);for(f=Math.max(u,0);f<g;f++)f===w&&(e.push(t[f]),y++,w=Math.round(u+y*n))}function Vk(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Gk=t=>t==="left"?"right":t==="right"?"left":t,hw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,gw=(t,e)=>Math.min(e||t,t);function mw(t,e){const n=[],s=t.length/e,l=t.length;let u=0;for(;u<l;u+=s)n.push(t[Math.floor(u)]);return n}function qk(t,e,n){const s=t.ticks.length,l=Math.min(e,s-1),u=t._startPixel,g=t._endPixel,y=1e-6;let b=t.getPixelForTick(l),f;if(!(n&&(s===1?f=Math.max(b-u,g-b):e===0?f=(t.getPixelForTick(1)-b)/2:f=(b-t.getPixelForTick(l-1))/2,b+=l<e?f:-f,b<u-y||b>g+y)))return b}function Xk(t,e){Ht(t,n=>{const s=n.gc,l=s.length/2;let u;if(l>e){for(u=0;u<l;++u)delete n.data[s[u]];s.splice(0,l)}})}function Uc(t){return t.drawTicks?t.tickLength:0}function xw(t,e){if(!t.display)return 0;const n=ui(t.font,e),s=Sr(t.padding);return(Yn(t.text)?t.text.length:1)*n.lineHeight+s.height}function Yk(t,e){return Ao(t,{scale:e,type:"scale"})}function Wk(t,e,n){return Ao(t,{tick:n,index:e,type:"tick"})}function Zk(t,e,n){let s=dm(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Gk(s)),s}function Kk(t,e,n,s){const{top:l,left:u,bottom:g,right:y,chart:b}=t,{chartArea:f,scales:w}=b;let E=0,S,O,k;const M=g-l,j=y-u;if(t.isHorizontal()){if(O=li(s,u,y),At(n)){const F=Object.keys(n)[0],H=n[F];k=w[F].getPixelForValue(H)+M-e}else n==="center"?k=(f.bottom+f.top)/2+M-e:k=hw(t,n,e);S=y-u}else{if(At(n)){const F=Object.keys(n)[0],H=n[F];O=w[F].getPixelForValue(H)-j+e}else n==="center"?O=(f.left+f.right)/2-j+e:O=hw(t,n,e);k=li(s,g,l),E=n==="left"?-Wn:Wn}return{titleX:O,titleY:k,maxWidth:S,rotation:E}}class zl extends Oa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:l}=this;return e=ns(e,Number.POSITIVE_INFINITY),n=ns(n,Number.NEGATIVE_INFINITY),s=ns(s,Number.POSITIVE_INFINITY),l=ns(l,Number.NEGATIVE_INFINITY),{min:ns(e,s),max:ns(n,l),minDefined:fi(e),maxDefined:fi(n)}}getMinMax(e){let{min:n,max:s,minDefined:l,maxDefined:u}=this.getUserBounds(),g;if(l&&u)return{min:n,max:s};const y=this.getMatchingVisibleMetas();for(let b=0,f=y.length;b<f;++b)g=y[b].controller.getMinMax(this,e),l||(n=Math.min(n,g.min)),u||(s=Math.max(s,g.max));return n=u&&n>s?s:n,s=l&&n>s?n:s,{min:ns(n,ns(s,n)),max:ns(s,ns(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ln(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:l,grace:u,ticks:g}=this.options,y=g.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=h7(this,u,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const b=y<this.ticks.length;this._convertTicksToLabels(b?mw(this.ticks,y):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),g.display&&(g.autoSkip||g.source==="auto")&&(this.ticks=Pk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),b&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ln(this.options.afterUpdate,[this])}beforeSetDimensions(){ln(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ln(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ln(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ln(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,l,u;for(s=0,l=e.length;s<l;s++)u=e[s],u.label=ln(n.callback,[u.value,s,e],this)}afterTickToLabelConversion(){ln(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ln(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=gw(this.ticks.length,e.ticks.maxTicksLimit),l=n.minRotation||0,u=n.maxRotation;let g=l,y,b,f;if(!this._isVisible()||!n.display||l>=u||s<=1||!this.isHorizontal()){this.labelRotation=l;return}const w=this._getLabelSizes(),E=w.widest.width,S=w.highest.height,O=_i(this.chart.width-E,0,this.maxWidth);y=e.offset?this.maxWidth/s:O/(s-1),E+6>y&&(y=O/(s-(e.offset?.5:1)),b=this.maxHeight-Uc(e.grid)-n.padding-xw(e.title,this.chart.options.font),f=Math.sqrt(E*E+S*S),g=BO(Math.min(Math.asin(_i((w.highest.height+6)/y,-1,1)),Math.asin(_i(b/f,-1,1))-Math.asin(_i(S/f,-1,1)))),g=Math.max(l,Math.min(u,g))),this.labelRotation=g}afterCalculateLabelRotation(){ln(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ln(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:l,grid:u}}=this,g=this._isVisible(),y=this.isHorizontal();if(g){const b=xw(l,n.options.font);if(y?(e.width=this.maxWidth,e.height=Uc(u)+b):(e.height=this.maxHeight,e.width=Uc(u)+b),s.display&&this.ticks.length){const{first:f,last:w,widest:E,highest:S}=this._getLabelSizes(),O=s.padding*2,k=Is(this.labelRotation),M=Math.cos(k),j=Math.sin(k);if(y){const F=s.mirror?0:j*E.width+M*S.height;e.height=Math.min(this.maxHeight,e.height+F+O)}else{const F=s.mirror?0:M*E.width+j*S.height;e.width=Math.min(this.maxWidth,e.width+F+O)}this._calculatePadding(f,w,j,M)}}this._handleMargins(),y?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,l){const{ticks:{align:u,padding:g},position:y}=this.options,b=this.labelRotation!==0,f=y!=="top"&&this.axis==="x";if(this.isHorizontal()){const w=this.getPixelForTick(0)-this.left,E=this.right-this.getPixelForTick(this.ticks.length-1);let S=0,O=0;b?f?(S=l*e.width,O=s*n.height):(S=s*e.height,O=l*n.width):u==="start"?O=n.width:u==="end"?S=e.width:u!=="inner"&&(S=e.width/2,O=n.width/2),this.paddingLeft=Math.max((S-w+g)*this.width/(this.width-w),0),this.paddingRight=Math.max((O-E+g)*this.width/(this.width-E),0)}else{let w=n.height/2,E=e.height/2;u==="start"?(w=0,E=e.height):u==="end"&&(w=n.height,E=0),this.paddingTop=w+g,this.paddingBottom=E+g}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ln(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)$t(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=mw(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:l,_longestTextCache:u}=this,g=[],y=[],b=Math.floor(n/gw(n,s));let f=0,w=0,E,S,O,k,M,j,F,H,z,U,Y;for(E=0;E<n;E+=b){if(k=e[E].label,M=this._resolveTickFontOptions(E),l.font=j=M.string,F=u[j]=u[j]||{data:{},gc:[]},H=M.lineHeight,z=U=0,!$t(k)&&!Yn(k))z=Xy(l,F.data,F.gc,z,k),U=H;else if(Yn(k))for(S=0,O=k.length;S<O;++S)Y=k[S],!$t(Y)&&!Yn(Y)&&(z=Xy(l,F.data,F.gc,z,Y),U+=H);g.push(z),y.push(U),f=Math.max(z,f),w=Math.max(U,w)}Xk(u,n);const $=g.indexOf(f),X=y.indexOf(w),ue=J=>({width:g[J]||0,height:y[J]||0});return{first:ue(0),last:ue(n-1),widest:ue($),highest:ue(X),widths:g,heights:y}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return PO(this._alignToPixels?ao(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Wk(this.getContext(),e,s))}return this.$context||(this.$context=Yk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Is(this.labelRotation),s=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),u=this._getLabelSizes(),g=e.autoSkipPadding||0,y=u?u.widest.width+g:0,b=u?u.highest.height+g:0;return this.isHorizontal()?b*s>y*l?y/s:b/l:b*l<y*s?b/s:y/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,l=this.options,{grid:u,position:g,border:y}=l,b=u.offset,f=this.isHorizontal(),E=this.ticks.length+(b?1:0),S=Uc(u),O=[],k=y.setContext(this.getContext()),M=k.display?k.width:0,j=M/2,F=function(Z){return ao(s,Z,M)};let H,z,U,Y,$,X,ue,J,Oe,Ee,xe,me;if(g==="top")H=F(this.bottom),X=this.bottom-S,J=H-j,Ee=F(e.top)+j,me=e.bottom;else if(g==="bottom")H=F(this.top),Ee=e.top,me=F(e.bottom)-j,X=H+j,J=this.top+S;else if(g==="left")H=F(this.right),$=this.right-S,ue=H-j,Oe=F(e.left)+j,xe=e.right;else if(g==="right")H=F(this.left),Oe=e.left,xe=F(e.right)-j,$=H+j,ue=this.left+S;else if(n==="x"){if(g==="center")H=F((e.top+e.bottom)/2+.5);else if(At(g)){const Z=Object.keys(g)[0],oe=g[Z];H=F(this.chart.scales[Z].getPixelForValue(oe))}Ee=e.top,me=e.bottom,X=H+j,J=X+S}else if(n==="y"){if(g==="center")H=F((e.left+e.right)/2);else if(At(g)){const Z=Object.keys(g)[0],oe=g[Z];H=F(this.chart.scales[Z].getPixelForValue(oe))}$=H-j,ue=$-S,Oe=e.left,xe=e.right}const ke=bt(l.ticks.maxTicksLimit,E),K=Math.max(1,Math.ceil(E/ke));for(z=0;z<E;z+=K){const Z=this.getContext(z),oe=u.setContext(Z),Me=y.setContext(Z),Be=oe.lineWidth,Le=oe.color,G=Me.dash||[],re=Me.dashOffset,se=oe.tickWidth,he=oe.tickColor,je=oe.tickBorderDash||[],Se=oe.tickBorderDashOffset;U=qk(this,z,b),U!==void 0&&(Y=ao(s,U,Be),f?$=ue=Oe=xe=Y:X=J=Ee=me=Y,O.push({tx1:$,ty1:X,tx2:ue,ty2:J,x1:Oe,y1:Ee,x2:xe,y2:me,width:Be,color:Le,borderDash:G,borderDashOffset:re,tickWidth:se,tickColor:he,tickBorderDash:je,tickBorderDashOffset:Se}))}return this._ticksLength=E,this._borderValue=H,O}_computeLabelItems(e){const n=this.axis,s=this.options,{position:l,ticks:u}=s,g=this.isHorizontal(),y=this.ticks,{align:b,crossAlign:f,padding:w,mirror:E}=u,S=Uc(s.grid),O=S+w,k=E?-w:O,M=-Is(this.labelRotation),j=[];let F,H,z,U,Y,$,X,ue,J,Oe,Ee,xe,me="middle";if(l==="top")$=this.bottom-k,X=this._getXAxisLabelAlignment();else if(l==="bottom")$=this.top+k,X=this._getXAxisLabelAlignment();else if(l==="left"){const K=this._getYAxisLabelAlignment(S);X=K.textAlign,Y=K.x}else if(l==="right"){const K=this._getYAxisLabelAlignment(S);X=K.textAlign,Y=K.x}else if(n==="x"){if(l==="center")$=(e.top+e.bottom)/2+O;else if(At(l)){const K=Object.keys(l)[0],Z=l[K];$=this.chart.scales[K].getPixelForValue(Z)+O}X=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")Y=(e.left+e.right)/2-O;else if(At(l)){const K=Object.keys(l)[0],Z=l[K];Y=this.chart.scales[K].getPixelForValue(Z)}X=this._getYAxisLabelAlignment(S).textAlign}n==="y"&&(b==="start"?me="top":b==="end"&&(me="bottom"));const ke=this._getLabelSizes();for(F=0,H=y.length;F<H;++F){z=y[F],U=z.label;const K=u.setContext(this.getContext(F));ue=this.getPixelForTick(F)+u.labelOffset,J=this._resolveTickFontOptions(F),Oe=J.lineHeight,Ee=Yn(U)?U.length:1;const Z=Ee/2,oe=K.color,Me=K.textStrokeColor,Be=K.textStrokeWidth;let Le=X;g?(Y=ue,X==="inner"&&(F===H-1?Le=this.options.reverse?"left":"right":F===0?Le=this.options.reverse?"right":"left":Le="center"),l==="top"?f==="near"||M!==0?xe=-Ee*Oe+Oe/2:f==="center"?xe=-ke.highest.height/2-Z*Oe+Oe:xe=-ke.highest.height+Oe/2:f==="near"||M!==0?xe=Oe/2:f==="center"?xe=ke.highest.height/2-Z*Oe:xe=ke.highest.height-Ee*Oe,E&&(xe*=-1),M!==0&&!K.showLabelBackdrop&&(Y+=Oe/2*Math.sin(M))):($=ue,xe=(1-Ee)*Oe/2);let G;if(K.showLabelBackdrop){const re=Sr(K.backdropPadding),se=ke.heights[F],he=ke.widths[F];let je=xe-re.top,Se=0-re.left;switch(me){case"middle":je-=se/2;break;case"bottom":je-=se;break}switch(X){case"center":Se-=he/2;break;case"right":Se-=he;break;case"inner":F===H-1?Se-=he:F>0&&(Se-=he/2);break}G={left:Se,top:je,width:he+re.width,height:se+re.height,color:K.backdropColor}}j.push({label:U,font:J,textOffset:xe,options:{rotation:M,color:oe,strokeColor:Me,strokeWidth:Be,textAlign:Le,textBaseline:me,translation:[Y,$],backdrop:G}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Is(this.labelRotation))return e==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:l,padding:u}}=this.options,g=this._getLabelSizes(),y=e+u,b=g.widest.width;let f,w;return n==="left"?l?(w=this.right+u,s==="near"?f="left":s==="center"?(f="center",w+=b/2):(f="right",w+=b)):(w=this.right-y,s==="near"?f="right":s==="center"?(f="center",w-=b/2):(f="left",w=this.left)):n==="right"?l?(w=this.left+u,s==="near"?f="right":s==="center"?(f="center",w-=b/2):(f="left",w-=b)):(w=this.left+y,s==="near"?f="left":s==="center"?(f="center",w+=b/2):(f="right",w=this.right)):f="right",{textAlign:f,x:w}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:l,width:u,height:g}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,l,u,g),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const l=this.ticks.findIndex(u=>u.value===e);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let u,g;const y=(b,f,w)=>{!w.width||!w.color||(s.save(),s.lineWidth=w.width,s.strokeStyle=w.color,s.setLineDash(w.borderDash||[]),s.lineDashOffset=w.borderDashOffset,s.beginPath(),s.moveTo(b.x,b.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(n.display)for(u=0,g=l.length;u<g;++u){const b=l[u];n.drawOnChartArea&&y({x:b.x1,y:b.y1},{x:b.x2,y:b.y2},b),n.drawTicks&&y({x:b.tx1,y:b.ty1},{x:b.tx2,y:b.ty2},{color:b.tickColor,width:b.tickWidth,borderDash:b.tickBorderDash,borderDashOffset:b.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:l}}=this,u=s.setContext(this.getContext()),g=s.display?u.width:0;if(!g)return;const y=l.setContext(this.getContext(0)).lineWidth,b=this._borderValue;let f,w,E,S;this.isHorizontal()?(f=ao(e,this.left,g)-g/2,w=ao(e,this.right,y)+y/2,E=S=b):(E=ao(e,this.top,g)-g/2,S=ao(e,this.bottom,y)+y/2,f=w=b),n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.beginPath(),n.moveTo(f,E),n.lineTo(w,S),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,l=this._computeLabelArea();l&&Pf(s,l);const u=this.getLabelItems(e);for(const g of u){const y=g.options,b=g.font,f=g.label,w=g.textOffset;uu(s,f,0,w,b,y)}l&&zf(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:l}}=this;if(!s.display)return;const u=ui(s.font),g=Sr(s.padding),y=s.align;let b=u.lineHeight/2;n==="bottom"||n==="center"||At(n)?(b+=g.bottom,Yn(s.text)&&(b+=u.lineHeight*(s.text.length-1))):b+=g.top;const{titleX:f,titleY:w,maxWidth:E,rotation:S}=Kk(this,b,n,y);uu(e,s.text,0,0,u,{color:s.color,maxWidth:E,rotation:S,textAlign:Zk(y,n,l),textBaseline:"middle",translation:[f,w]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=bt(e.grid&&e.grid.z,-1),l=bt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==zl.prototype.draw?[{z:n,draw:u=>{this.draw(u)}}]:[{z:s,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:n,draw:u=>{this.drawLabels(u)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",l=[];let u,g;for(u=0,g=n.length;u<g;++u){const y=n[u];y[s]===this.id&&(!e||y.type===e)&&l.push(y)}return l}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ui(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class F0{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Jk(n)&&(s=this.register(n));const l=this.items,u=e.id,g=this.scope+"."+u;if(!u)throw new Error("class does not have id: "+e);return u in l||(l[u]=e,Qk(e,g,s),this.override&&kn.override(e.id,e.overrides)),g}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,l=this.scope;s in n&&delete n[s],l&&s in kn[l]&&(delete kn[l][s],this.override&&delete vo[s])}}function Qk(t,e,n){const s=su(Object.create(null),[n?kn.get(n):{},kn.get(e),t.defaults]);kn.set(e,s),t.defaultRoutes&&$k(e,t.defaultRoutes),t.descriptors&&kn.describe(e,t.descriptors)}function $k(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),l=s.pop(),u=[t].concat(s).join("."),g=e[n].split("."),y=g.pop(),b=g.join(".");kn.route(u,l,b,y)})}function Jk(t){return"id"in t&&"defaults"in t}class eM{constructor(){this.controllers=new F0(wm,"datasets",!0),this.elements=new F0(Oa,"elements"),this.plugins=new F0(Object,"plugins"),this.scales=new F0(zl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(l=>{const u=s||this._getRegistryForType(l);s||u.isForType(l)||u===this.plugins&&l.id?this._exec(e,u,l):Ht(l,g=>{const y=s||this._getRegistryForType(g);this._exec(e,y,g)})})}_exec(e,n,s){const l=cm(e);ln(s["before"+l],[],s),n[e](s),ln(s["after"+l],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const l=n.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return l}}var rs=new eM;class tM{constructor(){this._init=void 0}notify(e,n,s,l){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const u=l?this._descriptors(e).filter(l):this._descriptors(e),g=this._notify(u,e,n,s);return n==="afterDestroy"&&(this._notify(u,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),g}_notify(e,n,s,l){l=l||{};for(const u of e){const g=u.plugin,y=g[s],b=[n,l,u.options];if(ln(y,b,g)===!1&&l.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,l=bt(s.options&&s.options.plugins,{}),u=nM(s);return l===!1&&!n?[]:rM(e,u,l,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,l=(u,g)=>u.filter(y=>!g.some(b=>y.plugin.id===b.plugin.id));this._notify(l(n,s),e,"stop"),this._notify(l(s,n),e,"start")}}function nM(t){const e={},n=[],s=Object.keys(rs.plugins.items);for(let u=0;u<s.length;u++)n.push(rs.getPlugin(s[u]));const l=t.plugins||[];for(let u=0;u<l.length;u++){const g=l[u];n.indexOf(g)===-1&&(n.push(g),e[g.id]=!0)}return{plugins:n,localIds:e}}function iM(t,e){return!e&&t===!1?null:t===!0?{}:t}function rM(t,{plugins:e,localIds:n},s,l){const u=[],g=t.getContext();for(const y of e){const b=y.id,f=iM(s[b],l);f!==null&&u.push({plugin:y,options:sM(t.config,{plugin:y,local:n[b]},f,g)})}return u}function sM(t,{plugin:e,local:n},s,l){const u=t.pluginScopeKeys(e),g=t.getOptionScopes(s,u);return n&&e.defaults&&g.push(e.defaults),t.createResolver(g,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rg(t,e){const n=kn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function aM(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function oM(t,e){return t===e?"_index_":"_value_"}function pw(t){if(t==="x"||t==="y"||t==="r")return t}function lM(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Dg(t,...e){if(pw(t))return t;for(const n of e){const s=n.axis||lM(n.position)||t.length>1&&pw(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function bw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function cM(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return bw(t,"x",n[0])||bw(t,"y",n[0])}return{}}function uM(t,e){const n=vo[t.type]||{scales:{}},s=e.scales||{},l=Rg(t.type,e),u=Object.create(null);return Object.keys(s).forEach(g=>{const y=s[g];if(!At(y))return console.error(`Invalid scale configuration for scale: ${g}`);if(y._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${g}`);const b=Dg(g,y,cM(g,t),kn.scales[y.type]),f=oM(b,l),w=n.scales||{};u[g]=Wc(Object.create(null),[{axis:b},y,w[b],w[f]])}),t.data.datasets.forEach(g=>{const y=g.type||t.type,b=g.indexAxis||Rg(y,e),w=(vo[y]||{}).scales||{};Object.keys(w).forEach(E=>{const S=aM(E,b),O=g[S+"AxisID"]||S;u[O]=u[O]||Object.create(null),Wc(u[O],[{axis:S},s[O],w[E]])})}),Object.keys(u).forEach(g=>{const y=u[g];Wc(y,[kn.scales[y.type],kn.scale])}),u}function H_(t){const e=t.options||(t.options={});e.plugins=bt(e.plugins,{}),e.scales=uM(t,e)}function V_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function dM(t){return t=t||{},t.data=V_(t.data),H_(t),t}const yw=new Map,G_=new Set;function U0(t,e){let n=yw.get(t);return n||(n=e(),yw.set(t,n),G_.add(n)),n}const Hc=(t,e,n)=>{const s=au(e,n);s!==void 0&&t.add(s)};class fM{constructor(e){this._config=dM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=V_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),H_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return U0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return U0(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return U0(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return U0(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let l=s.get(e);return(!l||n)&&(l=new Map,s.set(e,l)),l}getOptionScopes(e,n,s){const{options:l,type:u}=this,g=this._cachedScopes(e,s),y=g.get(n);if(y)return y;const b=new Set;n.forEach(w=>{e&&(b.add(e),w.forEach(E=>Hc(b,e,E))),w.forEach(E=>Hc(b,l,E)),w.forEach(E=>Hc(b,vo[u]||{},E)),w.forEach(E=>Hc(b,kn,E)),w.forEach(E=>Hc(b,Og,E))});const f=Array.from(b);return f.length===0&&f.push(Object.create(null)),G_.has(n)&&g.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,vo[n]||{},kn.datasets[n]||{},{type:n},kn,Og]}resolveNamedOptions(e,n,s,l=[""]){const u={$shared:!0},{resolver:g,subPrefixes:y}=ww(this._resolverCache,e,l);let b=g;if(gM(g,n)){u.$shared=!1,s=Ta(s)?s():s;const f=this.createResolver(e,s,y);b=Ol(g,s,f)}for(const f of n)u[f]=b[f];return u}createResolver(e,n,s=[""],l){const{resolver:u}=ww(this._resolverCache,e,s);return At(n)?Ol(u,n,void 0,l):u}}function ww(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const l=n.join();let u=s.get(l);return u||(u={resolver:mm(e,n),subPrefixes:n.filter(y=>!y.toLowerCase().includes("hover"))},s.set(l,u)),u}const hM=t=>At(t)&&Object.getOwnPropertyNames(t).some(e=>Ta(t[e]));function gM(t,e){const{isScriptable:n,isIndexable:s}=A_(t);for(const l of e){const u=n(l),g=s(l),y=(g||u)&&t[l];if(u&&(Ta(y)||hM(y))||g&&Yn(y))return!0}return!1}var mM="4.5.1";const xM=["top","bottom","left","right","chartArea"];function vw(t,e){return t==="top"||t==="bottom"||xM.indexOf(t)===-1&&e==="x"}function _w(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Ew(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ln(n&&n.onComplete,[t],e)}function pM(t){const e=t.chart,n=e.options.animation;ln(n&&n.onProgress,[t],e)}function q_(t){return bm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const K0={},Aw=t=>{const e=q_(t);return Object.values(K0).filter(n=>n.canvas===e).pop()};function bM(t,e,n){const s=Object.keys(t);for(const l of s){const u=+l;if(u>=e){const g=t[l];delete t[l],(n>0||u>e)&&(t[u+n]=g)}}}function yM(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}let Nu=class{static defaults=kn;static instances=K0;static overrides=vo;static registry=rs;static version=mM;static getChart=Aw;static register(...e){rs.add(...e),Sw()}static unregister(...e){rs.remove(...e),Sw()}constructor(e,n){const s=this.config=new fM(n),l=q_(e),u=Aw(l);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const g=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Lk(l)),this.platform.updateConfig(s);const y=this.platform.acquireContext(l,g.aspectRatio),b=y&&y.canvas,f=b&&b.height,w=b&&b.width;if(this.id=EO(),this.ctx=y,this.canvas=b,this.width=w,this.height=f,this._options=g,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=VO(E=>this.update(E),g.resizeDelay||0),this._dataChanges=[],K0[this.id]=this,!y||!b){console.error("Failed to create chart: can't acquire context from the given item");return}Rs.listen(this,"complete",Ew),Rs.listen(this,"progress",pM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:l,_aspectRatio:u}=this;return $t(e)?n&&u?u:l?s/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ky(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yy(this.canvas,this.ctx),this}stop(){return Rs.stop(this),this}resize(e,n){Rs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,l=this.canvas,u=s.maintainAspectRatio&&this.aspectRatio,g=this.platform.getMaximumSize(l,e,n,u),y=s.devicePixelRatio||this.platform.getDevicePixelRatio(),b=this.width?"resize":"attach";this.width=g.width,this.height=g.height,this._aspectRatio=this.aspectRatio,Ky(this,y,!0)&&(this.notifyPlugins("resize",{size:g}),ln(s.onResize,[this,g],this),this.attached&&this._doResize(b)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ht(n,(s,l)=>{s.id=l})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,l=Object.keys(s).reduce((g,y)=>(g[y]=!1,g),{});let u=[];n&&(u=u.concat(Object.keys(n).map(g=>{const y=n[g],b=Dg(g,y),f=b==="r",w=b==="x";return{options:y,dposition:f?"chartArea":w?"bottom":"left",dtype:f?"radialLinear":w?"category":"linear"}}))),Ht(u,g=>{const y=g.options,b=y.id,f=Dg(b,y),w=bt(y.type,g.dtype);(y.position===void 0||vw(y.position,f)!==vw(g.dposition))&&(y.position=g.dposition),l[b]=!0;let E=null;if(b in s&&s[b].type===w)E=s[b];else{const S=rs.getScale(w);E=new S({id:b,type:w,ctx:this.ctx,chart:this}),s[E.id]=E}E.init(y,e)}),Ht(l,(g,y)=>{g||delete s[y]}),Ht(s,g=>{_r.configure(this,g,g.options),_r.addBox(this,g)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((l,u)=>l.index-u.index),s>n){for(let l=n;l<s;++l)this._destroyDatasetMeta(l);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(_w("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,l)=>{n.filter(u=>u===s._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,l;for(this._removeUnreferencedMetasets(),s=0,l=n.length;s<l;s++){const u=n[s];let g=this.getDatasetMeta(s);const y=u.type||this.config.type;if(g.type&&g.type!==y&&(this._destroyDatasetMeta(s),g=this.getDatasetMeta(s)),g.type=y,g.indexAxis=u.indexAxis||Rg(y,this.options),g.order=u.order||0,g.index=s,g.label=""+u.label,g.visible=this.isDatasetVisible(s),g.controller)g.controller.updateIndex(s),g.controller.linkScales();else{const b=rs.getController(y),{datasetElementType:f,dataElementType:w}=kn.datasets[y];Object.assign(b,{dataElementType:rs.getElement(w),datasetElementType:f&&rs.getElement(f)}),g.controller=new b(this,s),e.push(g.controller)}}return this._updateMetasets(),e}_resetElements(){Ht(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let g=0;for(let f=0,w=this.data.datasets.length;f<w;f++){const{controller:E}=this.getDatasetMeta(f),S=!l&&u.indexOf(E)===-1;E.buildOrUpdateElements(S),g=Math.max(+E.getMaxOverflow(),g)}g=this._minPadding=s.layout.autoPadding?g:0,this._updateLayout(g),l||Ht(u,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_w("z","_idx"));const{_active:y,_lastEvent:b}=this;b?this._eventHandler(b,!0):y.length&&this._updateHoverStyles(y,y,!0),this.render()}_updateScales(){Ht(this.scales,e=>{_r.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Ly(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:l,count:u}of n){const g=s==="_removeElements"?-u:u;bM(e,l,g)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=u=>new Set(e.filter(g=>g[0]===u).map((g,y)=>y+","+g.splice(1).join(","))),l=s(0);for(let u=1;u<n;u++)if(!Ly(l,s(u)))return;return Array.from(l).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ht(this.boxes,l=>{s&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,u)=>{l._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ta(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),l={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(s.controller._update(n),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rs.has(this)?this.attached&&!Rs.running(this)&&Rs.start(this):(this.draw(),Ew({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let l,u;for(l=0,u=n.length;l<u;++l){const g=n[l];(!e||g.visible)&&s.push(g)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},l=j_(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(l&&Pf(n,l),e.controller.draw(),l&&zf(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return cu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,l){const u=xk.modes[n];return typeof u=="function"?u(this,e,s,l):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let l=s.filter(u=>u&&u._dataset===n).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(l)),l}getContext(){return this.$context||(this.$context=Ao(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const l=s?"show":"hide",u=this.getDatasetMeta(e),g=u.controller._resolveAnimations(void 0,l);bf(n)?(u.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),g.update(u,{visible:s}),this.update(y=>y.datasetIndex===e?l:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Yy(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete K0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(u,g)=>{n.addEventListener(this,u,g),e[u]=g},l=(u,g,y)=>{u.offsetX=g,u.offsetY=y,this._eventHandler(u)};Ht(this.options.events,u=>s(u,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(b,f)=>{n.addEventListener(this,b,f),e[b]=f},l=(b,f)=>{e[b]&&(n.removeEventListener(this,b,f),delete e[b])},u=(b,f)=>{this.canvas&&this.resize(b,f)};let g;const y=()=>{l("attach",y),this.attached=!0,this.resize(),s("resize",u),s("detach",g)};g=()=>{this.attached=!1,l("resize",u),this._stop(),this._resize(0,0),s("attach",y)},n.isAttached(this.canvas)?y():g()}unbindEvents(){Ht(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ht(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const l=s?"set":"remove";let u,g,y,b;for(n==="dataset"&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+l+"DatasetHoverStyle"]()),y=0,b=e.length;y<b;++y){g=e[y];const f=g&&this.getDatasetMeta(g.datasetIndex).controller;f&&f[l+"HoverStyle"](g.element,g.datasetIndex,g.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:u,index:g})=>{const y=this.getDatasetMeta(u);if(!y)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:y.data[g],index:g}});!xf(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const l=this.options.hover,u=(b,f)=>b.filter(w=>!f.some(E=>w.datasetIndex===E.datasetIndex&&w.index===E.index)),g=u(n,e),y=s?e:u(e,n);g.length&&this.updateHoverStyle(g,l.mode,!1),y.length&&l.mode&&this.updateHoverStyle(y,l.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},l=g=>(g.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,l)===!1)return;const u=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,l),(u||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:l=[],options:u}=this,g=n,y=this._getActiveElements(e,l,s,g),b=OO(e),f=yM(e,this._lastEvent,s,b);s&&(this._lastEvent=null,ln(u.onHover,[e,y,this],this),b&&ln(u.onClick,[e,y,this],this));const w=!xf(y,l);return(w||n)&&(this._active=y,this._updateHoverStyles(y,l,n)),this._lastEvent=f,w}_getActiveElements(e,n,s,l){if(e.type==="mouseout")return[];if(!s)return n;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,l)}};function Sw(){return Ht(Nu.instances,t=>t._plugins.invalidate())}function wM(t,e,n){const{startAngle:s,x:l,y:u,outerRadius:g,innerRadius:y,options:b}=e,{borderWidth:f,borderJoinStyle:w}=b,E=Math.min(f/g,ir(s-n));if(t.beginPath(),t.arc(l,u,g-f/2,s+E/2,n-E/2),y>0){const S=Math.min(f/y,ir(s-n));t.arc(l,u,y+f/2,n-S/2,s+S/2,!0)}else{const S=Math.min(f/2,g*ir(s-n));if(w==="round")t.arc(l,u,S,n-Vt/2,s+Vt/2,!0);else if(w==="bevel"){const O=2*S*S,k=-O*Math.cos(n+Vt/2)+l,M=-O*Math.sin(n+Vt/2)+u,j=O*Math.cos(s+Vt/2)+l,F=O*Math.sin(s+Vt/2)+u;t.lineTo(k,M),t.lineTo(j,F)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function vM(t,e,n){const{startAngle:s,pixelMargin:l,x:u,y:g,outerRadius:y,innerRadius:b}=e;let f=l/y;t.beginPath(),t.arc(u,g,y,s-f,n+f),b>l?(f=l/b,t.arc(u,g,b,n+f,s-f,!0)):t.arc(u,g,l,n+Wn,s-Wn),t.closePath(),t.clip()}function _M(t){return gm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function EM(t,e,n,s){const l=_M(t.options.borderRadius),u=(n-e)/2,g=Math.min(u,s*e/2),y=b=>{const f=(n-Math.min(u,b))*s/2;return _i(b,0,Math.min(u,f))};return{outerStart:y(l.outerStart),outerEnd:y(l.outerEnd),innerStart:_i(l.innerStart,0,g),innerEnd:_i(l.innerEnd,0,g)}}function ml(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function _f(t,e,n,s,l,u){const{x:g,y,startAngle:b,pixelMargin:f,innerRadius:w}=e,E=Math.max(e.outerRadius+s+n-f,0),S=w>0?w+s+n+f:0;let O=0;const k=l-b;if(s){const K=w>0?w-s:0,Z=E>0?E-s:0,oe=(K+Z)/2,Me=oe!==0?k*oe/(oe+s):k;O=(k-Me)/2}const M=Math.max(.001,k*E-n/Vt)/E,j=(k-M)/2,F=b+j+O,H=l-j-O,{outerStart:z,outerEnd:U,innerStart:Y,innerEnd:$}=EM(e,S,E,H-F),X=E-z,ue=E-U,J=F+z/X,Oe=H-U/ue,Ee=S+Y,xe=S+$,me=F+Y/Ee,ke=H-$/xe;if(t.beginPath(),u){const K=(J+Oe)/2;if(t.arc(g,y,E,J,K),t.arc(g,y,E,K,Oe),U>0){const Be=ml(ue,Oe,g,y);t.arc(Be.x,Be.y,U,Oe,H+Wn)}const Z=ml(xe,H,g,y);if(t.lineTo(Z.x,Z.y),$>0){const Be=ml(xe,ke,g,y);t.arc(Be.x,Be.y,$,H+Wn,ke+Math.PI)}const oe=(H-$/S+(F+Y/S))/2;if(t.arc(g,y,S,H-$/S,oe,!0),t.arc(g,y,S,oe,F+Y/S,!0),Y>0){const Be=ml(Ee,me,g,y);t.arc(Be.x,Be.y,Y,me+Math.PI,F-Wn)}const Me=ml(X,F,g,y);if(t.lineTo(Me.x,Me.y),z>0){const Be=ml(X,J,g,y);t.arc(Be.x,Be.y,z,F-Wn,J)}}else{t.moveTo(g,y);const K=Math.cos(J)*E+g,Z=Math.sin(J)*E+y;t.lineTo(K,Z);const oe=Math.cos(Oe)*E+g,Me=Math.sin(Oe)*E+y;t.lineTo(oe,Me)}t.closePath()}function AM(t,e,n,s,l){const{fullCircles:u,startAngle:g,circumference:y}=e;let b=e.endAngle;if(u){_f(t,e,n,s,b,l);for(let f=0;f<u;++f)t.fill();isNaN(y)||(b=g+(y%mn||mn))}return _f(t,e,n,s,b,l),t.fill(),b}function SM(t,e,n,s,l){const{fullCircles:u,startAngle:g,circumference:y,options:b}=e,{borderWidth:f,borderJoinStyle:w,borderDash:E,borderDashOffset:S,borderRadius:O}=b,k=b.borderAlign==="inner";if(!f)return;t.setLineDash(E||[]),t.lineDashOffset=S,k?(t.lineWidth=f*2,t.lineJoin=w||"round"):(t.lineWidth=f,t.lineJoin=w||"bevel");let M=e.endAngle;if(u){_f(t,e,n,s,M,l);for(let j=0;j<u;++j)t.stroke();isNaN(y)||(M=g+(y%mn||mn))}k&&vM(t,e,M),b.selfJoin&&M-g>=Vt&&O===0&&w!=="miter"&&wM(t,e,M),u||(_f(t,e,n,s,M,l),t.stroke())}class CM extends Oa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const l=this.getProps(["x","y"],s),{angle:u,distance:g}=b_(l,{x:e,y:n}),{startAngle:y,endAngle:b,innerRadius:f,outerRadius:w,circumference:E}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),S=(this.options.spacing+this.options.borderWidth)/2,O=bt(E,b-y),k=lu(u,y,b)&&y!==b,M=O>=mn||k,j=fo(g,f+S,w+S);return M&&j}getCenterPoint(e){const{x:n,y:s,startAngle:l,endAngle:u,innerRadius:g,outerRadius:y}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:b,spacing:f}=this.options,w=(l+u)/2,E=(g+y+f+b)/2;return{x:n+Math.cos(w)*E,y:s+Math.sin(w)*E}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,l=(n.offset||0)/4,u=(n.spacing||0)/2,g=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>mn?Math.floor(s/mn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const y=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(y)*l,Math.sin(y)*l);const b=1-Math.sin(Math.min(Vt,s||0)),f=l*b;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,AM(e,this,f,u,g),SM(e,this,f,u,g),e.restore()}}function X_(t,e,n=e){t.lineCap=bt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(bt(n.borderDash,e.borderDash)),t.lineDashOffset=bt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=bt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=bt(n.borderWidth,e.borderWidth),t.strokeStyle=bt(n.borderColor,e.borderColor)}function NM(t,e,n){t.lineTo(n.x,n.y)}function TM(t){return t.stepped?i7:t.tension||t.cubicInterpolationMode==="monotone"?r7:NM}function Y_(t,e,n={}){const s=t.length,{start:l=0,end:u=s-1}=n,{start:g,end:y}=e,b=Math.max(l,g),f=Math.min(u,y),w=l<g&&u<g||l>y&&u>y;return{count:s,start:b,loop:e.loop,ilen:f<b&&!w?s+f-b:f-b}}function OM(t,e,n,s){const{points:l,options:u}=e,{count:g,start:y,loop:b,ilen:f}=Y_(l,n,s),w=TM(u);let{move:E=!0,reverse:S}=s||{},O,k,M;for(O=0;O<=f;++O)k=l[(y+(S?f-O:O))%g],!k.skip&&(E?(t.moveTo(k.x,k.y),E=!1):w(t,M,k,S,u.stepped),M=k);return b&&(k=l[(y+(S?f:0))%g],w(t,M,k,S,u.stepped)),!!b}function kM(t,e,n,s){const l=e.points,{count:u,start:g,ilen:y}=Y_(l,n,s),{move:b=!0,reverse:f}=s||{};let w=0,E=0,S,O,k,M,j,F;const H=U=>(g+(f?y-U:U))%u,z=()=>{M!==j&&(t.lineTo(w,j),t.lineTo(w,M),t.lineTo(w,F))};for(b&&(O=l[H(0)],t.moveTo(O.x,O.y)),S=0;S<=y;++S){if(O=l[H(S)],O.skip)continue;const U=O.x,Y=O.y,$=U|0;$===k?(Y<M?M=Y:Y>j&&(j=Y),w=(E*w+U)/++E):(z(),t.lineTo(U,Y),k=$,E=0,M=j=Y),F=Y}z()}function jg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?kM:OM}function MM(t){return t.stepped?L7:t.tension||t.cubicInterpolationMode==="monotone"?P7:co}function RM(t,e,n,s){let l=e._path;l||(l=e._path=new Path2D,e.path(l,n,s)&&l.closePath()),X_(t,e.options),t.stroke(l)}function DM(t,e,n,s){const{segments:l,options:u}=e,g=jg(e);for(const y of l)X_(t,u,y.style),t.beginPath(),g(t,e,y,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const jM=typeof Path2D=="function";function IM(t,e,n,s){jM&&!e.options.segment?RM(t,e,n,s):DM(t,e,n,s)}class Hf extends Oa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const l=s.spanGaps?this._loop:this._fullLoop;O7(this._points,s,e,l,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=G7(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,l=e[n],u=this.points,g=D_(this,{property:n,start:l,end:l});if(!g.length)return;const y=[],b=MM(s);let f,w;for(f=0,w=g.length;f<w;++f){const{start:E,end:S}=g[f],O=u[E],k=u[S];if(O===k){y.push(O);continue}const M=Math.abs((l-O[n])/(k[n]-O[n])),j=b(O,k,M,s.stepped);j[n]=e[n],y.push(j)}return y.length===1?y[0]:y}pathSegment(e,n,s){return jg(this)(e,this,n,s)}path(e,n,s){const l=this.segments,u=jg(this);let g=this._loop;n=n||0,s=s||this.points.length-n;for(const y of l)g&=u(e,this,y,{start:n,end:n+s-1});return!!g}draw(e,n,s,l){const u=this.options||{};(this.points||[]).length&&u.borderWidth&&(e.save(),IM(e,this,s,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Cw(t,e,n,s){const l=t.options,{[n]:u}=t.getProps([n],s);return Math.abs(e-u)<l.radius+l.hitRadius}class BM extends Oa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const l=this.options,{x:u,y:g}=this.getProps(["x","y"],s);return Math.pow(e-u,2)+Math.pow(n-g,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,n){return Cw(this,e,"x",n)}inYRange(e,n){return Cw(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!cu(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,kg(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function LM(t,e,n){const s=t.segments,l=t.points,u=e.points,g=[];for(const y of s){let{start:b,end:f}=y;f=Vf(b,f,l);const w=Ig(n,l[b],l[f],y.loop);if(!e.segments){g.push({source:y,target:w,start:l[b],end:l[f]});continue}const E=D_(e,w);for(const S of E){const O=Ig(n,u[S.start],u[S.end],S.loop),k=R_(y,l,O);for(const M of k)g.push({source:M,target:S,start:{[n]:Nw(w,O,"start",Math.max)},end:{[n]:Nw(w,O,"end",Math.min)}})}}return g}function Ig(t,e,n,s){if(s)return;let l=e[t],u=n[t];return t==="angle"&&(l=ir(l),u=ir(u)),{property:t,start:l,end:u}}function PM(t,e){const{x:n=null,y:s=null}=t||{},l=e.points,u=[];return e.segments.forEach(({start:g,end:y})=>{y=Vf(g,y,l);const b=l[g],f=l[y];s!==null?(u.push({x:b.x,y:s}),u.push({x:f.x,y:s})):n!==null&&(u.push({x:n,y:b.y}),u.push({x:n,y:f.y}))}),u}function Vf(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Nw(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function W_(t,e){let n=[],s=!1;return Yn(t)?(s=!0,n=t):n=PM(t,e),n.length?new Hf({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Tw(t){return t&&t.fill!==!1}function zM(t,e,n){let l=t[e].fill;const u=[e];let g;if(!n)return l;for(;l!==!1&&u.indexOf(l)===-1;){if(!fi(l))return l;if(g=t[l],!g)return!1;if(g.visible)return l;u.push(l),l=g.fill}return!1}function FM(t,e,n){const s=GM(t);if(At(s))return isNaN(s.value)?!1:s;let l=parseFloat(s);return fi(l)&&Math.floor(l)===l?UM(s[0],e,l,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function UM(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function HM(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:At(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function VM(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:At(t)?s=t.value:s=e.getBaseValue(),s}function GM(t){const e=t.options,n=e.fill;let s=bt(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function qM(t){const{scale:e,index:n,line:s}=t,l=[],u=s.segments,g=s.points,y=XM(e,n);y.push(W_({x:null,y:e.bottom},s));for(let b=0;b<u.length;b++){const f=u[b];for(let w=f.start;w<=f.end;w++)YM(l,g[w],y)}return new Hf({points:l,options:{}})}function XM(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let l=0;l<s.length;l++){const u=s[l];if(u.index===e)break;u.hidden||n.unshift(u.dataset)}return n}function YM(t,e,n){const s=[];for(let l=0;l<n.length;l++){const u=n[l],{first:g,last:y,point:b}=WM(u,e,"x");if(!(!b||g&&y)){if(g)s.unshift(b);else if(t.push(b),!y)break}}t.push(...s)}function WM(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const l=s[n],u=t.segments,g=t.points;let y=!1,b=!1;for(let f=0;f<u.length;f++){const w=u[f],E=g[w.start][n],S=g[w.end][n];if(fo(l,E,S)){y=l===E,b=l===S;break}}return{first:y,last:b,point:s}}class Z_{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:l,y:u,radius:g}=this;return n=n||{start:0,end:mn},e.arc(l,u,g,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:l}=this,u=e.angle;return{x:n+Math.cos(u)*l,y:s+Math.sin(u)*l,angle:u}}}function ZM(t){const{chart:e,fill:n,line:s}=t;if(fi(n))return KM(e,n);if(n==="stack")return qM(t);if(n==="shape")return!0;const l=QM(t);return l instanceof Z_?l:W_(l,s)}function KM(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function QM(t){return(t.scale||{}).getPointPositionForValue?JM(t):$M(t)}function $M(t){const{scale:e={},fill:n}=t,s=HM(n,e);if(fi(s)){const l=e.isHorizontal();return{x:l?s:null,y:l?null:s}}return null}function JM(t){const{scale:e,fill:n}=t,s=e.options,l=e.getLabels().length,u=s.reverse?e.max:e.min,g=VM(n,e,u),y=[];if(s.grid.circular){const b=e.getPointPositionForValue(0,u);return new Z_({x:b.x,y:b.y,radius:e.getDistanceFromCenterForValue(g)})}for(let b=0;b<l;++b)y.push(e.getPointPositionForValue(b,g));return y}function fg(t,e,n){const s=ZM(e),{chart:l,index:u,line:g,scale:y,axis:b}=e,f=g.options,w=f.fill,E=f.backgroundColor,{above:S=E,below:O=E}=w||{},k=l.getDatasetMeta(u),M=j_(l,k);s&&g.points.length&&(Pf(t,n),eR(t,{line:g,target:s,above:S,below:O,area:n,scale:y,axis:b,clip:M}),zf(t))}function eR(t,e){const{line:n,target:s,above:l,below:u,area:g,scale:y,clip:b}=e,f=n._loop?"angle":e.axis;t.save();let w=u;u!==l&&(f==="x"?(Ow(t,s,g.top),hg(t,{line:n,target:s,color:l,scale:y,property:f,clip:b}),t.restore(),t.save(),Ow(t,s,g.bottom)):f==="y"&&(kw(t,s,g.left),hg(t,{line:n,target:s,color:u,scale:y,property:f,clip:b}),t.restore(),t.save(),kw(t,s,g.right),w=l)),hg(t,{line:n,target:s,color:w,scale:y,property:f,clip:b}),t.restore()}function Ow(t,e,n){const{segments:s,points:l}=e;let u=!0,g=!1;t.beginPath();for(const y of s){const{start:b,end:f}=y,w=l[b],E=l[Vf(b,f,l)];u?(t.moveTo(w.x,w.y),u=!1):(t.lineTo(w.x,n),t.lineTo(w.x,w.y)),g=!!e.pathSegment(t,y,{move:g}),g?t.closePath():t.lineTo(E.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function kw(t,e,n){const{segments:s,points:l}=e;let u=!0,g=!1;t.beginPath();for(const y of s){const{start:b,end:f}=y,w=l[b],E=l[Vf(b,f,l)];u?(t.moveTo(w.x,w.y),u=!1):(t.lineTo(n,w.y),t.lineTo(w.x,w.y)),g=!!e.pathSegment(t,y,{move:g}),g?t.closePath():t.lineTo(n,E.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function hg(t,e){const{line:n,target:s,property:l,color:u,scale:g,clip:y}=e,b=LM(n,s,l);for(const{source:f,target:w,start:E,end:S}of b){const{style:{backgroundColor:O=u}={}}=f,k=s!==!0;t.save(),t.fillStyle=O,tR(t,g,y,k&&Ig(l,E,S)),t.beginPath();const M=!!n.pathSegment(t,f);let j;if(k){M?t.closePath():Mw(t,s,S,l);const F=!!s.pathSegment(t,w,{move:M,reverse:!0});j=M&&F,j||Mw(t,s,E,l)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function tR(t,e,n,s){const l=e.chart.chartArea,{property:u,start:g,end:y}=s||{};if(u==="x"||u==="y"){let b,f,w,E;u==="x"?(b=g,f=l.top,w=y,E=l.bottom):(b=l.left,f=g,w=l.right,E=y),t.beginPath(),n&&(b=Math.max(b,n.left),w=Math.min(w,n.right),f=Math.max(f,n.top),E=Math.min(E,n.bottom)),t.rect(b,f,w-b,E-f),t.clip()}}function Mw(t,e,n,s){const l=e.interpolate(n,s);l&&t.lineTo(l.x,l.y)}var nR={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,l=[];let u,g,y,b;for(g=0;g<s;++g)u=t.getDatasetMeta(g),y=u.dataset,b=null,y&&y.options&&y instanceof Hf&&(b={visible:t.isDatasetVisible(g),index:g,fill:FM(y,g,s),chart:t,axis:u.controller.options.indexAxis,scale:u.vScale,line:y}),u.$filler=b,l.push(b);for(g=0;g<s;++g)b=l[g],!(!b||b.fill===!1)&&(b.fill=zM(l,g,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",l=t.getSortedVisibleDatasetMetas(),u=t.chartArea;for(let g=l.length-1;g>=0;--g){const y=l[g].$filler;y&&(y.line.updateControlPoints(u,y.axis),s&&y.fill&&fg(t.ctx,y,u))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;Tw(u)&&fg(t.ctx,u,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!Tw(s)||n.drawTime!=="beforeDatasetDraw"||fg(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Rw=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},iR=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Dw extends Oa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ln(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,l)=>e.sort(s,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,l=ui(s.font),u=l.size,g=this._computeTitleHeight(),{boxWidth:y,itemHeight:b}=Rw(s,u);let f,w;n.font=l.string,this.isHorizontal()?(f=this.maxWidth,w=this._fitRows(g,u,y,b)+10):(w=this.maxHeight,f=this._fitCols(g,l,y,b)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(w,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,l){const{ctx:u,maxWidth:g,options:{labels:{padding:y}}}=this,b=this.legendHitBoxes=[],f=this.lineWidths=[0],w=l+y;let E=e;u.textAlign="left",u.textBaseline="middle";let S=-1,O=-w;return this.legendItems.forEach((k,M)=>{const j=s+n/2+u.measureText(k.text).width;(M===0||f[f.length-1]+j+2*y>g)&&(E+=w,f[f.length-(M>0?0:1)]=0,O+=w,S++),b[M]={left:0,top:O,row:S,width:j,height:l},f[f.length-1]+=j+y}),E}_fitCols(e,n,s,l){const{ctx:u,maxHeight:g,options:{labels:{padding:y}}}=this,b=this.legendHitBoxes=[],f=this.columnSizes=[],w=g-e;let E=y,S=0,O=0,k=0,M=0;return this.legendItems.forEach((j,F)=>{const{itemWidth:H,itemHeight:z}=rR(s,n,u,j,l);F>0&&O+z+2*y>w&&(E+=S+y,f.push({width:S,height:O}),k+=S+y,M++,S=O=0),b[F]={left:k,top:O,col:M,width:H,height:z},S=Math.max(S,H),O+=z+y}),E+=S,f.push({width:S,height:O}),E}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:l},rtl:u}}=this,g=vl(u,this.left,this.width);if(this.isHorizontal()){let y=0,b=li(s,this.left+l,this.right-this.lineWidths[y]);for(const f of n)y!==f.row&&(y=f.row,b=li(s,this.left+l,this.right-this.lineWidths[y])),f.top+=this.top+e+l,f.left=g.leftForLtr(g.x(b),f.width),b+=f.width+l}else{let y=0,b=li(s,this.top+e+l,this.bottom-this.columnSizes[y].height);for(const f of n)f.col!==y&&(y=f.col,b=li(s,this.top+e+l,this.bottom-this.columnSizes[y].height)),f.top=b,f.left+=this.left+l,f.left=g.leftForLtr(g.x(f.left),f.width),b+=f.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Pf(e,this),this._draw(),zf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:l}=this,{align:u,labels:g}=e,y=kn.color,b=vl(e.rtl,this.left,this.width),f=ui(g.font),{padding:w}=g,E=f.size,S=E/2;let O;this.drawTitle(),l.textAlign=b.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=f.string;const{boxWidth:k,boxHeight:M,itemHeight:j}=Rw(g,E),F=function($,X,ue){if(isNaN(k)||k<=0||isNaN(M)||M<0)return;l.save();const J=bt(ue.lineWidth,1);if(l.fillStyle=bt(ue.fillStyle,y),l.lineCap=bt(ue.lineCap,"butt"),l.lineDashOffset=bt(ue.lineDashOffset,0),l.lineJoin=bt(ue.lineJoin,"miter"),l.lineWidth=J,l.strokeStyle=bt(ue.strokeStyle,y),l.setLineDash(bt(ue.lineDash,[])),g.usePointStyle){const Oe={radius:M*Math.SQRT2/2,pointStyle:ue.pointStyle,rotation:ue.rotation,borderWidth:J},Ee=b.xPlus($,k/2),xe=X+S;E_(l,Oe,Ee,xe,g.pointStyleWidth&&k)}else{const Oe=X+Math.max((E-M)/2,0),Ee=b.leftForLtr($,k),xe=$c(ue.borderRadius);l.beginPath(),Object.values(xe).some(me=>me!==0)?Mg(l,{x:Ee,y:Oe,w:k,h:M,radius:xe}):l.rect(Ee,Oe,k,M),l.fill(),J!==0&&l.stroke()}l.restore()},H=function($,X,ue){uu(l,ue.text,$,X+j/2,f,{strikethrough:ue.hidden,textAlign:b.textAlign(ue.textAlign)})},z=this.isHorizontal(),U=this._computeTitleHeight();z?O={x:li(u,this.left+w,this.right-s[0]),y:this.top+w+U,line:0}:O={x:this.left+w,y:li(u,this.top+U+w,this.bottom-n[0].height),line:0},O_(this.ctx,e.textDirection);const Y=j+w;this.legendItems.forEach(($,X)=>{l.strokeStyle=$.fontColor,l.fillStyle=$.fontColor;const ue=l.measureText($.text).width,J=b.textAlign($.textAlign||($.textAlign=g.textAlign)),Oe=k+S+ue;let Ee=O.x,xe=O.y;b.setWidth(this.width),z?X>0&&Ee+Oe+w>this.right&&(xe=O.y+=Y,O.line++,Ee=O.x=li(u,this.left+w,this.right-s[O.line])):X>0&&xe+Y>this.bottom&&(Ee=O.x=Ee+n[O.line].width+w,O.line++,xe=O.y=li(u,this.top+U+w,this.bottom-n[O.line].height));const me=b.x(Ee);if(F(me,xe,$),Ee=GO(J,Ee+k+S,z?Ee+Oe:this.right,e.rtl),H(b.x(Ee),xe,$),z)O.x+=Oe+w;else if(typeof $.text!="string"){const ke=f.lineHeight;O.y+=K_($,ke)+w}else O.y+=Y}),k_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=ui(n.font),l=Sr(n.padding);if(!n.display)return;const u=vl(e.rtl,this.left,this.width),g=this.ctx,y=n.position,b=s.size/2,f=l.top+b;let w,E=this.left,S=this.width;if(this.isHorizontal())S=Math.max(...this.lineWidths),w=this.top+f,E=li(e.align,E,this.right-S);else{const k=this.columnSizes.reduce((M,j)=>Math.max(M,j.height),0);w=f+li(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const O=li(y,E,E+S);g.textAlign=u.textAlign(dm(y)),g.textBaseline="middle",g.strokeStyle=n.color,g.fillStyle=n.color,g.font=s.string,uu(g,n.text,O,w,s)}_computeTitleHeight(){const e=this.options.title,n=ui(e.font),s=Sr(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,l,u;if(fo(e,this.left,this.right)&&fo(n,this.top,this.bottom)){for(u=this.legendHitBoxes,s=0;s<u.length;++s)if(l=u[s],fo(e,l.left,l.left+l.width)&&fo(n,l.top,l.top+l.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!oR(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,u=iR(l,s);l&&!u&&ln(n.onLeave,[e,l,this],this),this._hoveredItem=s,s&&!u&&ln(n.onHover,[e,s,this],this)}else s&&ln(n.onClick,[e,s,this],this)}}function rR(t,e,n,s,l){const u=sR(s,t,e,n),g=aR(l,s,e.lineHeight);return{itemWidth:u,itemHeight:g}}function sR(t,e,n,s){let l=t.text;return l&&typeof l!="string"&&(l=l.reduce((u,g)=>u.length>g.length?u:g)),e+n.size/2+s.measureText(l).width}function aR(t,e,n){let s=t;return typeof e.text!="string"&&(s=K_(e,n)),s}function K_(t,e){const n=t.text?t.text.length:0;return e*n}function oR(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Q_={id:"legend",_element:Dw,start(t,e,n){const s=t.legend=new Dw({ctx:t.ctx,options:n,chart:t});_r.configure(t,s,n),_r.addBox(t,s)},stop(t){_r.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;_r.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,l=n.chart;l.isDatasetVisible(s)?(l.hide(s),e.hidden=!0):(l.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:l,color:u,useBorderRadius:g,borderRadius:y}}=t.legend.options;return t._getSortedDatasetMetas().map(b=>{const f=b.controller.getStyle(n?0:void 0),w=Sr(f.borderWidth);return{text:e[b.index].label,fillStyle:f.backgroundColor,fontColor:u,hidden:!b.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(w.width+w.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:l||f.textAlign,borderRadius:g&&(y||f.borderRadius),datasetIndex:b.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class $_ extends Oa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const l=Yn(s.text)?s.text.length:1;this._padding=Sr(s.padding);const u=l*ui(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=u:this.width=u}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:l,right:u,options:g}=this,y=g.align;let b=0,f,w,E;return this.isHorizontal()?(w=li(y,s,u),E=n+e,f=u-s):(g.position==="left"?(w=s+e,E=li(y,l,n),b=Vt*-.5):(w=u-e,E=li(y,n,l),b=Vt*.5),f=l-n),{titleX:w,titleY:E,maxWidth:f,rotation:b}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=ui(n.font),u=s.lineHeight/2+this._padding.top,{titleX:g,titleY:y,maxWidth:b,rotation:f}=this._drawArgs(u);uu(e,n.text,0,0,s,{color:n.color,maxWidth:b,rotation:f,textAlign:dm(n.align),textBaseline:"middle",translation:[g,y]})}}function lR(t,e){const n=new $_({ctx:t.ctx,options:e,chart:t});_r.configure(t,n,e),_r.addBox(t,n),t.titleBlock=n}var cR={id:"title",_element:$_,start(t,e,n){lR(t,n)},stop(t){const e=t.titleBlock;_r.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;_r.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yc={average(t){if(!t.length)return!1;let e,n,s=new Set,l=0,u=0;for(e=0,n=t.length;e<n;++e){const y=t[e].element;if(y&&y.hasValue()){const b=y.tooltipPosition();s.add(b.x),l+=b.y,++u}}return u===0||s.size===0?!1:{x:[...s].reduce((y,b)=>y+b)/s.size,y:l/u}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,l=Number.POSITIVE_INFINITY,u,g,y;for(u=0,g=t.length;u<g;++u){const b=t[u].element;if(b&&b.hasValue()){const f=b.getCenterPoint(),w=Tg(e,f);w<l&&(l=w,y=b)}}if(y){const b=y.tooltipPosition();n=b.x,s=b.y}return{x:n,y:s}}};function is(t,e){return e&&(Yn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ds(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function uR(t,e){const{element:n,datasetIndex:s,index:l}=e,u=t.getDatasetMeta(s).controller,{label:g,value:y}=u.getLabelAndValue(l);return{chart:t,label:g,parsed:u.getParsed(l),raw:t.data.datasets[s].data[l],formattedValue:y,dataset:u.getDataset(),dataIndex:l,datasetIndex:s,element:n}}function jw(t,e){const n=t.chart.ctx,{body:s,footer:l,title:u}=t,{boxWidth:g,boxHeight:y}=e,b=ui(e.bodyFont),f=ui(e.titleFont),w=ui(e.footerFont),E=u.length,S=l.length,O=s.length,k=Sr(e.padding);let M=k.height,j=0,F=s.reduce((U,Y)=>U+Y.before.length+Y.lines.length+Y.after.length,0);if(F+=t.beforeBody.length+t.afterBody.length,E&&(M+=E*f.lineHeight+(E-1)*e.titleSpacing+e.titleMarginBottom),F){const U=e.displayColors?Math.max(y,b.lineHeight):b.lineHeight;M+=O*U+(F-O)*b.lineHeight+(F-1)*e.bodySpacing}S&&(M+=e.footerMarginTop+S*w.lineHeight+(S-1)*e.footerSpacing);let H=0;const z=function(U){j=Math.max(j,n.measureText(U).width+H)};return n.save(),n.font=f.string,Ht(t.title,z),n.font=b.string,Ht(t.beforeBody.concat(t.afterBody),z),H=e.displayColors?g+2+e.boxPadding:0,Ht(s,U=>{Ht(U.before,z),Ht(U.lines,z),Ht(U.after,z)}),H=0,n.font=w.string,Ht(t.footer,z),n.restore(),j+=k.width,{width:j,height:M}}function dR(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function fR(t,e,n,s){const{x:l,width:u}=s,g=n.caretSize+n.caretPadding;if(t==="left"&&l+u+g>e.width||t==="right"&&l-u-g<0)return!0}function hR(t,e,n,s){const{x:l,width:u}=n,{width:g,chartArea:{left:y,right:b}}=t;let f="center";return s==="center"?f=l<=(y+b)/2?"left":"right":l<=u/2?f="left":l>=g-u/2&&(f="right"),fR(f,t,e,n)&&(f="center"),f}function Iw(t,e,n){const s=n.yAlign||e.yAlign||dR(t,n);return{xAlign:n.xAlign||e.xAlign||hR(t,e,n,s),yAlign:s}}function gR(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function mR(t,e,n){let{y:s,height:l}=t;return e==="top"?s+=n:e==="bottom"?s-=l+n:s-=l/2,s}function Bw(t,e,n,s){const{caretSize:l,caretPadding:u,cornerRadius:g}=t,{xAlign:y,yAlign:b}=n,f=l+u,{topLeft:w,topRight:E,bottomLeft:S,bottomRight:O}=$c(g);let k=gR(e,y);const M=mR(e,b,f);return b==="center"?y==="left"?k+=f:y==="right"&&(k-=f):y==="left"?k-=Math.max(w,S)+l:y==="right"&&(k+=Math.max(E,O)+l),{x:_i(k,0,s.width-e.width),y:_i(M,0,s.height-e.height)}}function H0(t,e,n){const s=Sr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Lw(t){return is([],Ds(t))}function xR(t,e,n){return Ao(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Pw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const J_={beforeTitle:ks,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:ks,beforeBody:ks,beforeLabel:ks,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $t(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ks,afterBody:ks,beforeFooter:ks,footer:ks,afterFooter:ks};function Ii(t,e,n,s){const l=t[e].call(n,s);return typeof l>"u"?J_[e].call(n,s):l}class zw extends Oa{static positioners=Yc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),l=s.enabled&&n.options.animation&&s.animations,u=new I_(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=xR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,l=Ii(s,"beforeTitle",this,e),u=Ii(s,"title",this,e),g=Ii(s,"afterTitle",this,e);let y=[];return y=is(y,Ds(l)),y=is(y,Ds(u)),y=is(y,Ds(g)),y}getBeforeBody(e,n){return Lw(Ii(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,l=[];return Ht(e,u=>{const g={before:[],lines:[],after:[]},y=Pw(s,u);is(g.before,Ds(Ii(y,"beforeLabel",this,u))),is(g.lines,Ii(y,"label",this,u)),is(g.after,Ds(Ii(y,"afterLabel",this,u))),l.push(g)}),l}getAfterBody(e,n){return Lw(Ii(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,l=Ii(s,"beforeFooter",this,e),u=Ii(s,"footer",this,e),g=Ii(s,"afterFooter",this,e);let y=[];return y=is(y,Ds(l)),y=is(y,Ds(u)),y=is(y,Ds(g)),y}_createItems(e){const n=this._active,s=this.chart.data,l=[],u=[],g=[];let y=[],b,f;for(b=0,f=n.length;b<f;++b)y.push(uR(this.chart,n[b]));return e.filter&&(y=y.filter((w,E,S)=>e.filter(w,E,S,s))),e.itemSort&&(y=y.sort((w,E)=>e.itemSort(w,E,s))),Ht(y,w=>{const E=Pw(e.callbacks,w);l.push(Ii(E,"labelColor",this,w)),u.push(Ii(E,"labelPointStyle",this,w)),g.push(Ii(E,"labelTextColor",this,w))}),this.labelColors=l,this.labelPointStyles=u,this.labelTextColors=g,this.dataPoints=y,y}update(e,n){const s=this.options.setContext(this.getContext()),l=this._active;let u,g=[];if(!l.length)this.opacity!==0&&(u={opacity:0});else{const y=Yc[s.position].call(this,l,this._eventPosition);g=this._createItems(s),this.title=this.getTitle(g,s),this.beforeBody=this.getBeforeBody(g,s),this.body=this.getBody(g,s),this.afterBody=this.getAfterBody(g,s),this.footer=this.getFooter(g,s);const b=this._size=jw(this,s),f=Object.assign({},y,b),w=Iw(this.chart,s,f),E=Bw(s,f,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,u={opacity:1,x:E.x,y:E.y,width:b.width,height:b.height,caretX:y.x,caretY:y.y}}this._tooltipItems=g,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,l){const u=this.getCaretPosition(e,s,l);n.lineTo(u.x1,u.y1),n.lineTo(u.x2,u.y2),n.lineTo(u.x3,u.y3)}getCaretPosition(e,n,s){const{xAlign:l,yAlign:u}=this,{caretSize:g,cornerRadius:y}=s,{topLeft:b,topRight:f,bottomLeft:w,bottomRight:E}=$c(y),{x:S,y:O}=e,{width:k,height:M}=n;let j,F,H,z,U,Y;return u==="center"?(U=O+M/2,l==="left"?(j=S,F=j-g,z=U+g,Y=U-g):(j=S+k,F=j+g,z=U-g,Y=U+g),H=j):(l==="left"?F=S+Math.max(b,w)+g:l==="right"?F=S+k-Math.max(f,E)-g:F=this.caretX,u==="top"?(z=O,U=z-g,j=F-g,H=F+g):(z=O+M,U=z+g,j=F+g,H=F-g),Y=z),{x1:j,x2:F,x3:H,y1:z,y2:U,y3:Y}}drawTitle(e,n,s){const l=this.title,u=l.length;let g,y,b;if(u){const f=vl(s.rtl,this.x,this.width);for(e.x=H0(this,s.titleAlign,s),n.textAlign=f.textAlign(s.titleAlign),n.textBaseline="middle",g=ui(s.titleFont),y=s.titleSpacing,n.fillStyle=s.titleColor,n.font=g.string,b=0;b<u;++b)n.fillText(l[b],f.x(e.x),e.y+g.lineHeight/2),e.y+=g.lineHeight+y,b+1===u&&(e.y+=s.titleMarginBottom-y)}}_drawColorBox(e,n,s,l,u){const g=this.labelColors[s],y=this.labelPointStyles[s],{boxHeight:b,boxWidth:f}=u,w=ui(u.bodyFont),E=H0(this,"left",u),S=l.x(E),O=b<w.lineHeight?(w.lineHeight-b)/2:0,k=n.y+O;if(u.usePointStyle){const M={radius:Math.min(f,b)/2,pointStyle:y.pointStyle,rotation:y.rotation,borderWidth:1},j=l.leftForLtr(S,f)+f/2,F=k+b/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,kg(e,M,j,F),e.strokeStyle=g.borderColor,e.fillStyle=g.backgroundColor,kg(e,M,j,F)}else{e.lineWidth=At(g.borderWidth)?Math.max(...Object.values(g.borderWidth)):g.borderWidth||1,e.strokeStyle=g.borderColor,e.setLineDash(g.borderDash||[]),e.lineDashOffset=g.borderDashOffset||0;const M=l.leftForLtr(S,f),j=l.leftForLtr(l.xPlus(S,1),f-2),F=$c(g.borderRadius);Object.values(F).some(H=>H!==0)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,Mg(e,{x:M,y:k,w:f,h:b,radius:F}),e.fill(),e.stroke(),e.fillStyle=g.backgroundColor,e.beginPath(),Mg(e,{x:j,y:k+1,w:f-2,h:b-2,radius:F}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(M,k,f,b),e.strokeRect(M,k,f,b),e.fillStyle=g.backgroundColor,e.fillRect(j,k+1,f-2,b-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:l}=this,{bodySpacing:u,bodyAlign:g,displayColors:y,boxHeight:b,boxWidth:f,boxPadding:w}=s,E=ui(s.bodyFont);let S=E.lineHeight,O=0;const k=vl(s.rtl,this.x,this.width),M=function(ue){n.fillText(ue,k.x(e.x+O),e.y+S/2),e.y+=S+u},j=k.textAlign(g);let F,H,z,U,Y,$,X;for(n.textAlign=g,n.textBaseline="middle",n.font=E.string,e.x=H0(this,j,s),n.fillStyle=s.bodyColor,Ht(this.beforeBody,M),O=y&&j!=="right"?g==="center"?f/2+w:f+2+w:0,U=0,$=l.length;U<$;++U){for(F=l[U],H=this.labelTextColors[U],n.fillStyle=H,Ht(F.before,M),z=F.lines,y&&z.length&&(this._drawColorBox(n,e,U,k,s),S=Math.max(E.lineHeight,b)),Y=0,X=z.length;Y<X;++Y)M(z[Y]),S=E.lineHeight;Ht(F.after,M)}O=0,S=E.lineHeight,Ht(this.afterBody,M),e.y-=u}drawFooter(e,n,s){const l=this.footer,u=l.length;let g,y;if(u){const b=vl(s.rtl,this.x,this.width);for(e.x=H0(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=b.textAlign(s.footerAlign),n.textBaseline="middle",g=ui(s.footerFont),n.fillStyle=s.footerColor,n.font=g.string,y=0;y<u;++y)n.fillText(l[y],b.x(e.x),e.y+g.lineHeight/2),e.y+=g.lineHeight+s.footerSpacing}}drawBackground(e,n,s,l){const{xAlign:u,yAlign:g}=this,{x:y,y:b}=e,{width:f,height:w}=s,{topLeft:E,topRight:S,bottomLeft:O,bottomRight:k}=$c(l.cornerRadius);n.fillStyle=l.backgroundColor,n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.beginPath(),n.moveTo(y+E,b),g==="top"&&this.drawCaret(e,n,s,l),n.lineTo(y+f-S,b),n.quadraticCurveTo(y+f,b,y+f,b+S),g==="center"&&u==="right"&&this.drawCaret(e,n,s,l),n.lineTo(y+f,b+w-k),n.quadraticCurveTo(y+f,b+w,y+f-k,b+w),g==="bottom"&&this.drawCaret(e,n,s,l),n.lineTo(y+O,b+w),n.quadraticCurveTo(y,b+w,y,b+w-O),g==="center"&&u==="left"&&this.drawCaret(e,n,s,l),n.lineTo(y,b+E),n.quadraticCurveTo(y,b,y+E,b),n.closePath(),n.fill(),l.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,l=s&&s.x,u=s&&s.y;if(l||u){const g=Yc[e.position].call(this,this._active,this._eventPosition);if(!g)return;const y=this._size=jw(this,e),b=Object.assign({},g,this._size),f=Iw(n,e,b),w=Bw(e,b,f,n);(l._to!==w.x||u._to!==w.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=y.width,this.height=y.height,this.caretX=g.x,this.caretY=g.y,this._resolveAnimations().update(this,w))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const l={width:this.width,height:this.height},u={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const g=Sr(n.padding),y=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&y&&(e.save(),e.globalAlpha=s,this.drawBackground(u,e,l,n),O_(e,n.textDirection),u.y+=g.top,this.drawTitle(u,e,n),this.drawBody(u,e,n),this.drawFooter(u,e,n),k_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,l=e.map(({datasetIndex:y,index:b})=>{const f=this.chart.getDatasetMeta(y);if(!f)throw new Error("Cannot find a dataset at index "+y);return{datasetIndex:y,element:f.data[b],index:b}}),u=!xf(s,l),g=this._positionChanged(l,n);(u||g)&&(this._active=l,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,u=this._active||[],g=this._getActiveElements(e,u,n,s),y=this._positionChanged(g,e),b=n||!xf(g,u)||y;return b&&(this._active=g,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),b}_getActiveElements(e,n,s,l){const u=this.options;if(e.type==="mouseout")return[];if(!l)return n.filter(y=>this.chart.data.datasets[y.datasetIndex]&&this.chart.getDatasetMeta(y.datasetIndex).controller.getParsed(y.index)!==void 0);const g=this.chart.getElementsAtEventForMode(e,u.mode,u,s);return u.reverse&&g.reverse(),g}_positionChanged(e,n){const{caretX:s,caretY:l,options:u}=this,g=Yc[u.position].call(this,e,n);return g!==!1&&(s!==g.x||l!==g.y)}}var e4={id:"tooltip",_element:zw,positioners:Yc,afterInit(t,e,n){n&&(t.tooltip=new zw({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:J_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const pR=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function bR(t,e,n,s){const l=t.indexOf(e);if(l===-1)return pR(t,e,n,s);const u=t.lastIndexOf(e);return l!==u?n:l}const yR=(t,e)=>t===null?null:_i(Math.round(t),0,e);function Fw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class wR extends zl{static id="category";static defaults={ticks:{callback:Fw}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:l,label:u}of n)s[l]===u&&s.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($t(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:bR(s,e,bt(n,e),this._addedLabels),yR(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(l=this.getLabels().length-1)),this.min=s,this.max=l}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,l=[];let u=this.getLabels();u=e===0&&n===u.length-1?u:u.slice(e,n+1),this._valueRange=Math.max(u.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let g=e;g<=n;g++)l.push({value:g});return l}getLabelForValue(e){return Fw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function vR(t,e){const n=[],{bounds:l,step:u,min:g,max:y,precision:b,count:f,maxTicks:w,maxDigits:E,includeBounds:S}=t,O=u||1,k=w-1,{min:M,max:j}=e,F=!$t(g),H=!$t(y),z=!$t(f),U=(j-M)/(E+1);let Y=zy((j-M)/k/O)*O,$,X,ue,J;if(Y<1e-14&&!F&&!H)return[{value:M},{value:j}];J=Math.ceil(j/Y)-Math.floor(M/Y),J>k&&(Y=zy(J*Y/k/O)*O),$t(b)||($=Math.pow(10,b),Y=Math.ceil(Y*$)/$),l==="ticks"?(X=Math.floor(M/Y)*Y,ue=Math.ceil(j/Y)*Y):(X=M,ue=j),F&&H&&u&&jO((y-g)/u,Y/1e3)?(J=Math.round(Math.min((y-g)/Y,w)),Y=(y-g)/J,X=g,ue=y):z?(X=F?g:X,ue=H?y:ue,J=f-1,Y=(ue-X)/J):(J=(ue-X)/Y,Zc(J,Math.round(J),Y/1e3)?J=Math.round(J):J=Math.ceil(J));const Oe=Math.max(Fy(Y),Fy(X));$=Math.pow(10,$t(b)?Oe:b),X=Math.round(X*$)/$,ue=Math.round(ue*$)/$;let Ee=0;for(F&&(S&&X!==g?(n.push({value:g}),X<g&&Ee++,Zc(Math.round((X+Ee*Y)*$)/$,g,Uw(g,U,t))&&Ee++):X<g&&Ee++);Ee<J;++Ee){const xe=Math.round((X+Ee*Y)*$)/$;if(H&&xe>y)break;n.push({value:xe})}return H&&S&&ue!==y?n.length&&Zc(n[n.length-1].value,y,Uw(y,U,t))?n[n.length-1].value=y:n.push({value:y}):(!H||ue===y)&&n.push({value:ue}),n}function Uw(t,e,{horizontal:n,minRotation:s}){const l=Is(s),u=(n?Math.sin(l):Math.cos(l))||.001,g=.75*e*(""+t).length;return Math.min(e/u,g)}class _R extends zl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return $t(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:l,max:u}=this;const g=b=>l=n?l:b,y=b=>u=s?u:b;if(e){const b=Tl(l),f=Tl(u);b<0&&f<0?y(0):b>0&&f>0&&g(0)}if(l===u){let b=u===0?1:Math.abs(u*.05);y(u+b),e||g(l-b)}this.min=l,this.max=u}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,l;return s?(l=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},u=this._range||this,g=vR(l,u);return e.bounds==="ticks"&&IO(g,this,"value"),e.reverse?(g.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),g}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const l=(s-n)/Math.max(e.length-1,1)/2;n-=l,s+=l}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return hm(e,this.chart.options.locale,this.options.ticks.format)}}class ER extends _R{static id="linear";static defaults={ticks:{callback:__.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=fi(e)?e:0,this.max=fi(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Is(this.options.ticks.minRotation),l=(e?Math.sin(s):Math.cos(s))||.001,u=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,u.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Gf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bi=Object.keys(Gf);function Hw(t,e){return t-e}function Vw(t,e){if($t(e))return null;const n=t._adapter,{parser:s,round:l,isoWeekday:u}=t._parseOpts;let g=e;return typeof s=="function"&&(g=s(g)),fi(g)||(g=typeof s=="string"?n.parse(g,s):n.parse(g)),g===null?null:(l&&(g=l==="week"&&(ou(u)||u===!0)?n.startOf(g,"isoWeek",u):n.startOf(g,l)),+g)}function Gw(t,e,n,s){const l=Bi.length;for(let u=Bi.indexOf(t);u<l-1;++u){const g=Gf[Bi[u]],y=g.steps?g.steps:Number.MAX_SAFE_INTEGER;if(g.common&&Math.ceil((n-e)/(y*g.size))<=s)return Bi[u]}return Bi[l-1]}function AR(t,e,n,s,l){for(let u=Bi.length-1;u>=Bi.indexOf(n);u--){const g=Bi[u];if(Gf[g].common&&t._adapter.diff(l,s,g)>=e-1)return g}return Bi[n?Bi.indexOf(n):0]}function SR(t){for(let e=Bi.indexOf(t)+1,n=Bi.length;e<n;++e)if(Gf[Bi[e]].common)return Bi[e]}function qw(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:l}=um(n,e),u=n[s]>=e?n[s]:n[l];t[u]=!0}}function CR(t,e,n,s){const l=t._adapter,u=+l.startOf(e[0].value,s),g=e[e.length-1].value;let y,b;for(y=u;y<=g;y=+l.add(y,1,s))b=n[y],b>=0&&(e[b].major=!0);return e}function Xw(t,e,n){const s=[],l={},u=e.length;let g,y;for(g=0;g<u;++g)y=e[g],l[y]=g,s.push({value:y,major:!1});return u===0||!n?s:CR(t,s,l,n)}class Yw extends zl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),l=this._adapter=new dk._date(e.adapters.date);l.init(n),Wc(s.displayFormats,l.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Vw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:l,max:u,minDefined:g,maxDefined:y}=this.getUserBounds();function b(f){!g&&!isNaN(f.min)&&(l=Math.min(l,f.min)),!y&&!isNaN(f.max)&&(u=Math.max(u,f.max))}(!g||!y)&&(b(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&b(this.getMinMax(!1))),l=fi(l)&&!isNaN(l)?l:+n.startOf(Date.now(),s),u=fi(u)&&!isNaN(u)?u:+n.endOf(Date.now(),s)+1,this.min=Math.min(l,u-1),this.max=Math.max(l+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,l=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const u=this.min,g=this.max,y=FO(l,u,g);return this._unit=n.unit||(s.autoSkip?Gw(n.minUnit,this.min,this.max,this._getLabelCapacity(u)):AR(this,y.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:SR(this._unit),this.initOffsets(l),e.reverse&&y.reverse(),Xw(this,y,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,l,u;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?n=1-l:n=(this.getDecimalForValue(e[1])-l)/2,u=this.getDecimalForValue(e[e.length-1]),e.length===1?s=u:s=(u-this.getDecimalForValue(e[e.length-2]))/2);const g=e.length<3?.5:.25;n=_i(n,0,g),s=_i(s,0,g),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,l=this.options,u=l.time,g=u.unit||Gw(u.minUnit,n,s,this._getLabelCapacity(n)),y=bt(l.ticks.stepSize,1),b=g==="week"?u.isoWeekday:!1,f=ou(b)||b===!0,w={};let E=n,S,O;if(f&&(E=+e.startOf(E,"isoWeek",b)),E=+e.startOf(E,f?"day":g),e.diff(s,n,g)>1e5*y)throw new Error(n+" and "+s+" are too far apart with stepSize of "+y+" "+g);const k=l.ticks.source==="data"&&this.getDataTimestamps();for(S=E,O=0;S<s;S=+e.add(S,y,g),O++)qw(w,S,k);return(S===s||l.bounds==="ticks"||O===1)&&qw(w,S,k),Object.keys(w).sort(Hw).map(M=>+M)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const l=this.options.time.displayFormats,u=this._unit,g=n||l[u];return this._adapter.format(e,g)}_tickFormatFunction(e,n,s,l){const u=this.options,g=u.ticks.callback;if(g)return ln(g,[e,n,s],this);const y=u.time.displayFormats,b=this._unit,f=this._majorUnit,w=b&&y[b],E=f&&y[f],S=s[n],O=f&&E&&S&&S.major;return this._adapter.format(e,l||(O?E:w))}generateTickLabels(e){let n,s,l;for(n=0,s=e.length;n<s;++n)l=e[n],l.label=this._tickFormatFunction(l.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,l=Is(this.isHorizontal()?n.maxRotation:n.minRotation),u=Math.cos(l),g=Math.sin(l),y=this._resolveTickFontOptions(0).size;return{w:s*u+y*g,h:s*g+y*u}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,l=s[n.unit]||s.millisecond,u=this._tickFormatFunction(e,0,Xw(this,[e],this._majorUnit),l),g=this._getLabelSize(u),y=Math.floor(this.isHorizontal()?this.width/g.w:this.height/g.h)-1;return y>0?y:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(n=0,s=l.length;n<s;++n)e=e.concat(l[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const l=this.getLabels();for(n=0,s=l.length;n<s;++n)e.push(Vw(this,l[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return HO(e.sort(Hw))}}function V0(t,e,n){let s=0,l=t.length-1,u,g,y,b;n?(e>=t[s].pos&&e<=t[l].pos&&({lo:s,hi:l}=ho(t,"pos",e)),{pos:u,time:y}=t[s],{pos:g,time:b}=t[l]):(e>=t[s].time&&e<=t[l].time&&({lo:s,hi:l}=ho(t,"time",e)),{time:u,pos:y}=t[s],{time:g,pos:b}=t[l]);const f=g-u;return f?y+(b-y)*(e-u)/f:y}class w9 extends Yw{static id="timeseries";static defaults=Yw.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=V0(n,this.min),this._tableRange=V0(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,l=[],u=[];let g,y,b,f,w;for(g=0,y=e.length;g<y;++g)f=e[g],f>=n&&f<=s&&l.push(f);if(l.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(g=0,y=l.length;g<y;++g)w=l[g+1],b=l[g-1],f=l[g],Math.round((w+b)/2)!==f&&u.push({time:f,pos:g/(y-1)});return u}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((l,u)=>l-u)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(V0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return V0(this._table,s*this._tableRange+this._minPos,!0)}}const t4="label";function Ww(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function NR(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function n4(t,e){t.labels=e}function i4(t,e,n=t4){const s=[];t.datasets=e.map(l=>{const u=t.datasets.find(g=>g[n]===l[n]);return!u||!l.data||s.includes(u)?{...l}:(s.push(u),Object.assign(u,l),u)})}function TR(t,e=t4){const n={labels:[],datasets:[]};return n4(n,t.labels),i4(n,t.datasets,e),n}function OR(t,e){const{height:n=150,width:s=300,redraw:l=!1,datasetIdKey:u,type:g,data:y,options:b,plugins:f=[],fallbackContent:w,updateMode:E,...S}=t,O=ne.useRef(null),k=ne.useRef(null),M=()=>{O.current&&(k.current=new Nu(O.current,{type:g,data:TR(y,u),options:b&&{...b},plugins:f}),Ww(e,k.current))},j=()=>{Ww(e,null),k.current&&(k.current.destroy(),k.current=null)};return ne.useEffect(()=>{!l&&k.current&&b&&NR(k.current,b)},[l,b]),ne.useEffect(()=>{!l&&k.current&&n4(k.current.config.data,y.labels)},[l,y.labels]),ne.useEffect(()=>{!l&&k.current&&y.datasets&&i4(k.current.config.data,y.datasets,u)},[l,y.datasets]),ne.useEffect(()=>{k.current&&(l?(j(),setTimeout(M)):k.current.update(E))},[l,b,y.labels,y.datasets,E]),ne.useEffect(()=>{k.current&&(j(),setTimeout(M))},[g]),ne.useEffect(()=>(M(),()=>j()),[]),m.jsx("canvas",{ref:O,role:"img",height:n,width:s,...S,children:w})}const kR=ne.forwardRef(OR);function r4(t,e){return Nu.register(e),ne.forwardRef((n,s)=>m.jsx(kR,{...n,ref:s,type:t}))}const MR=r4("line",uk),RR=r4("doughnut",ck);Nu.register(wR,ER,BM,Hf,cR,e4,Q_,nR);function DR(){const[t,e]=ne.useState({labels:[],datasets:[]}),[n,s]=ne.useState(!0);ne.useEffect(()=>{l()},[]);const l=()=>{tt.get("/analytics/trends").then(({data:g})=>{e({labels:g.labels,datasets:[{label:"Books Borrowed",data:g.data,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"rgb(255, 255, 255)",pointBorderColor:"rgb(59, 130, 246)",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]}),s(!1)}).catch(g=>{console.error("Failed to fetch trends",g),s(!1)})},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.8)",padding:12,titleFont:{size:13},bodyFont:{size:13},displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(243, 244, 246, 1)",borderDash:[5,5]},ticks:{stepSize:1}},x:{grid:{display:!1}}}};return n?m.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"Loading Trends..."}):m.jsx("div",{className:"h-64",children:m.jsx(MR,{options:u,data:t})})}Nu.register(CM,e4,Q_);function jR(){const[t,e]=ne.useState({labels:[],datasets:[]}),[n,s]=ne.useState(!0);ne.useEffect(()=>{l()},[]);const l=()=>{tt.get("/analytics/categories").then(({data:g})=>{e({labels:g.labels,datasets:[{label:"# of Borrows",data:g.data,backgroundColor:["rgba(99, 102, 241, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(244, 63, 94, 0.8)","rgba(59, 130, 246, 0.8)"],borderColor:["rgba(99, 102, 241, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(244, 63, 94, 1)","rgba(59, 130, 246, 1)"],borderWidth:1}]}),s(!1)}).catch(g=>{console.error("Failed to fetch categories",g),s(!1)})},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:15,usePointStyle:!0}}}};return n?m.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"Loading Categories..."}):m.jsx("div",{className:"h-56",children:t.labels.length>0?m.jsx(RR,{options:u,data:t}):m.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 text-sm",children:"No borrowing data yet"})})}function IR(){const[t,e]=ne.useState({titles:0,copies:0,loans:0,students:0}),[n,s]=ne.useState([]),[l,u]=ne.useState(1),g=6;return ne.useEffect(()=>{const y=()=>{tt.get("/dashboard/stats").then(({data:f})=>e(f)).catch(f=>console.error(f)),tt.get("/dashboard/books").then(({data:f})=>s(f)).catch(f=>console.error(f))};y();const b=setInterval(y,3e4);return()=>clearInterval(b)},[]),m.jsxs("div",{className:"space-y-8 bg-gray-50 dark:bg-slate-900 p-8 min-h-screen transition-colors duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-primary-600 rounded-xl shadow-lg",children:m.jsx(O3,{size:28,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Dashboard"}),m.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"Overview of the library inventory and activities."})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(k0,{title:"Total Titles",value:t.titles,icon:gn,color:"blue",description:"Unique book titles"}),m.jsx(k0,{title:"Physical Copies",value:t.copies,icon:cf,color:"indigo",description:"Total books in shelf"}),m.jsx(k0,{title:"Active Loans",value:t.loans,icon:I3,color:"orange",description:"Books currently borrowed"}),m.jsx(k0,{title:"Reg. Students",value:t.students,icon:Pr,color:"green",description:"Total registered students"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"30-Day Borrowing Activity"}),m.jsx(DR,{})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 p-6",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Popular Categories"}),m.jsx(jR,{})]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Recently Available Books"}),m.jsx("a",{href:"/books",className:"text-sm font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 hover:underline transition",children:"View All Inventory "})]}),n.length===0?m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 p-12 text-center text-gray-500 dark:text-slate-400",children:[m.jsx(gn,{className:"mx-auto mb-4 opacity-20",size:56}),m.jsx("p",{className:"text-lg",children:"No books currently available to display."})]}):m.jsxs("div",{className:"flex flex-col gap-6",children:[m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-6",children:n.slice((l-1)*g,l*g).map(y=>{const b=y.image_path||y.cover_image,f=b?b.startsWith("http")?b:`${"http://127.0.0.1:8000/api".replace("/api","")||""}/${b}`:null;return m.jsxs("div",{className:"group bg-white dark:bg-slate-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 border border-gray-100 dark:border-slate-700 overflow-hidden flex flex-col h-full cursor-pointer",children:[m.jsxs("div",{className:"aspect-[2/3] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-slate-700 dark:to-slate-600 relative overflow-hidden",children:[f?m.jsx("img",{src:f,alt:y.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500 will-change-transform",onError:w=>{w.target.onerror=null,w.target.style.display="none",w.target.parentElement.querySelector(".fallback-icon").style.display="flex"}}):null,m.jsx("div",{className:`fallback-icon absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-slate-700 dark:to-slate-600 text-gray-400 dark:text-slate-500 ${f?"hidden":"flex"}`,children:m.jsx(gn,{size:32,strokeWidth:1.5})}),m.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-emerald-500 text-white text-[10px] font-bold uppercase tracking-wider rounded-full shadow-sm",children:"Available"})]}),m.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[m.jsx("h4",{className:"font-bold text-gray-800 dark:text-white text-sm line-clamp-2 leading-tight mb-1",title:y.title,children:y.title}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 line-clamp-1 mb-auto",children:y.author}),m.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("span",{className:"text-[10px] font-semibold text-gray-500 dark:text-slate-400 px-2 py-1 bg-gray-100 dark:bg-slate-700 rounded-full truncate max-w-[60%]",children:y.category}),m.jsxs("span",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 font-bold",children:[y.available_copies," copies"]})]})]})]},y.id)})}),m.jsx(d_,{currentPage:l,totalItems:n.length,itemsPerPage:g,onPageChange:u})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-gradient-to-br from-primary-600 via-primary-700 to-primary-800 rounded-2xl shadow-2xl p-5 text-white relative overflow-hidden border border-white/20",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2 drop-shadow-md tracking-tight",children:"Welcome Back!"}),m.jsx("p",{className:"text-primary-100 text-sm mb-1 max-w-md leading-relaxed font-medium drop-shadow-sm",children:"You are logged in as Administrator. Manage your library inventory, track student loans, and generate reports from here."})]}),m.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-white opacity-10 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-white opacity-10 rounded-full blur-2xl"})]}),m.jsx(eO,{})]})]})}function BR({onSuccess:t,onCancel:e}){const[n,s]=ne.useState(""),[l,u]=ne.useState(""),[g,y]=ne.useState(""),[b,f]=ne.useState([{name:""}]),[w,E]=ne.useState(!1),[S,O]=ne.useState(null),k=()=>{f([...b,{name:""}])},M=H=>{b.length!==1&&f(b.filter((z,U)=>U!==H))},j=(H,z,U)=>{const Y=[...b];Y[H][z]=U,f(Y)},F=H=>{if(H.preventDefault(),!n||!l||!g){alert("Please fill in Course, Year Level, and Section.");return}const z=b.filter(U=>U.name.trim());if(z.length===0){alert("Please add at least one student with a name.");return}E(!0),O(null),tt.post("/students/batch",{course:n,year_level:parseInt(l),section:g,students:z}).then(({data:U})=>{O(U),U.registered>0&&t(),E(!1)}).catch(U=>{O({message:U.response?.data?.message||"Batch registration failed.",errors:U.response?.data?.errors||[]}),E(!1)})};return m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[m.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 px-6 py-4 flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:m.jsx(H5,{className:"text-white",size:22})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold text-white",children:"Batch Registration"}),m.jsx("p",{className:"text-white/70 text-sm",children:"Register multiple students at once"})]})]}),m.jsxs("form",{onSubmit:F,className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[m.jsxs("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide mb-4 flex items-center gap-2",children:[m.jsx(Z5,{size:14}),"Class Details (Applied to all)"]}),m.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.jsxs(Na,{label:"Course",value:n,onChange:H=>s(H.target.value),required:!0,className:"flex-grow min-w-[140px]",children:[m.jsx("option",{value:"BSIT",children:"BSIT"}),m.jsx("option",{value:"BSED",children:"BSED"}),m.jsx("option",{value:"BEED",children:"BEED"}),m.jsx("option",{value:"Maritime",children:"Maritime"}),m.jsx("option",{value:"BSHM",children:"BSHM"}),m.jsx("option",{value:"BS Criminology",children:"BS Criminology"}),m.jsx("option",{value:"BSBA",children:"BSBA"}),m.jsx("option",{value:"BS Tourism",children:"BS Tourism"})]}),m.jsxs(Na,{label:"Year Level",value:l,onChange:H=>u(H.target.value),required:!0,className:"flex-grow min-w-[140px]",children:[m.jsx("option",{value:"1",children:"1st Year"}),m.jsx("option",{value:"2",children:"2nd Year"}),m.jsx("option",{value:"3",children:"3rd Year"}),m.jsx("option",{value:"4",children:"4th Year"})]}),m.jsx(hn,{label:"Section",value:g,onChange:H=>y(H.target.value),icon:uf,required:!0,className:"flex-grow min-w-[140px]"})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[m.jsx(Pr,{size:16}),"Students List (",b.length,")"]}),m.jsx(Fi,{type:"button",onClick:k,variant:"secondary",className:"py-2 text-xs",icon:O6,children:"Add Row"})]}),m.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2 border-2 border-gray-200 rounded-xl p-4 bg-gray-50",children:b.map((H,z)=>m.jsxs("div",{className:"flex gap-3 items-center bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[m.jsxs("span",{className:"text-sm font-bold text-gray-400 w-8 text-center",children:[z+1,"."]}),m.jsx("div",{className:"flex-1",children:m.jsx(hn,{value:H.name,onChange:U=>j(z,"name",U.target.value),label:"Student Name",icon:Lr})}),m.jsx("button",{type:"button",onClick:()=>M(z),className:"text-gray-400 hover:text-red-500 hover:bg-red-50 p-2 rounded-lg transition",disabled:b.length===1,children:m.jsx(w6,{size:18})})]},z))})]}),S&&m.jsxs("div",{className:`p-4 rounded-xl text-sm border-2 ${S.registered>0?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-700 border-red-200"}`,children:[m.jsx("div",{className:"font-bold",children:S.message}),S.errors&&S.errors.length>0&&m.jsx("ul",{className:"mt-2 list-disc list-inside text-xs opacity-80",children:S.errors.map((H,z)=>m.jsx("li",{children:H},z))})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx(Fi,{type:"submit",variant:"success",loading:w,fullWidth:!0,icon:z3,children:"Register All Students"}),m.jsx(Fi,{type:"button",onClick:e,variant:"outline",fullWidth:!0,children:"Cancel"})]})]})]})}const Zw={BookOpen:gn,Star:Z6,Trophy:W0,Crown:C3,Atom:o5,BookMarked:u5,Laptop:r6,Scroll:P6,Clock:tu,Layers:T3},G0={blue:{bg:"bg-blue-100",border:"border-blue-200",text:"text-blue-600",icon:"text-blue-500"},yellow:{bg:"bg-yellow-100",border:"border-yellow-200",text:"text-yellow-700",icon:"text-yellow-500"},gold:{bg:"bg-gradient-to-br from-yellow-100 to-amber-100",border:"border-yellow-300",text:"text-amber-700",icon:"text-amber-500"},purple:{bg:"bg-purple-100",border:"border-purple-200",text:"text-purple-700",icon:"text-purple-500"},cyan:{bg:"bg-cyan-100",border:"border-cyan-200",text:"text-cyan-700",icon:"text-cyan-500"},pink:{bg:"bg-pink-100",border:"border-pink-200",text:"text-pink-700",icon:"text-pink-500"},green:{bg:"bg-green-100",border:"border-green-200",text:"text-green-700",icon:"text-green-500"},amber:{bg:"bg-amber-100",border:"border-amber-200",text:"text-amber-700",icon:"text-amber-500"},emerald:{bg:"bg-emerald-100",border:"border-emerald-200",text:"text-emerald-700",icon:"text-emerald-500"},indigo:{bg:"bg-indigo-100",border:"border-indigo-200",text:"text-indigo-700",icon:"text-indigo-500"},violet:{bg:"bg-violet-100",border:"border-violet-200",text:"text-violet-700",icon:"text-violet-500"}};function LR({studentId:t,compact:e=!1}){const[n,s]=ne.useState(null),[l,u]=ne.useState(!0);ne.useEffect(()=>{t&&g()},[t]);const g=()=>{tt.get(`/students/${t}/achievements`).then(({data:w})=>{s(w),u(!1)}).catch(w=>{console.error("Failed to fetch achievements:",w),u(!1)})};if(l)return m.jsx("div",{className:"animate-pulse",children:m.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(w=>m.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"},w))})});if(!n)return null;const{badges:y,unlocked_count:b,total_count:f}=n;if(e){const w=y.filter(E=>E.unlocked);return w.length===0?null:m.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.slice(0,5).map(E=>{const S=Zw[E.icon]||lf,O=G0[E.color]||G0.blue;return m.jsx("div",{className:`p-1.5 ${O.bg} ${O.border} border rounded-lg`,title:E.name,children:m.jsx(S,{size:14,className:O.icon})},E.id)}),w.length>5&&m.jsxs("span",{className:"text-xs text-gray-500 self-center",children:["+",w.length-5]})]})}return m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[m.jsx("div",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:m.jsx(q6,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white",children:"Achievement Badges"}),m.jsx("p",{className:"text-white/80 text-sm",children:n.student.name})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"text-2xl font-bold text-white",children:[b,"/",f]}),m.jsx("div",{className:"text-white/70 text-xs",children:"Unlocked"})]})]})}),m.jsx("div",{className:"p-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:y.map(w=>{const E=Zw[w.icon]||lf,S=G0[w.color]||G0.blue;return m.jsxs("div",{className:`relative p-4 rounded-xl border-2 transition-all ${w.unlocked?`${S.bg} ${S.border} hover:scale-105 cursor-pointer`:"bg-gray-50 border-gray-200 opacity-50"}`,children:[!w.unlocked&&m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(df,{size:12,className:"text-gray-400"})}),m.jsx("div",{className:`w-10 h-10 mx-auto mb-2 flex items-center justify-center rounded-lg ${w.unlocked?"bg-white shadow-sm":"bg-gray-100"}`,children:m.jsx(E,{size:24,className:w.unlocked?S.icon:"text-gray-400"})}),m.jsx("div",{className:`text-xs font-bold text-center ${w.unlocked?S.text:"text-gray-400"}`,children:w.name}),m.jsx("div",{className:"mt-2 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full transition-all ${w.unlocked?"bg-emerald-500":"bg-gray-300"}`,style:{width:`${w.progress/w.target*100}%`}})}),m.jsxs("div",{className:"text-xs text-center text-gray-500 mt-1",children:[w.progress,"/",w.target]})]},w.id)})})]})}const Kw={BSIT:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",badge:"bg-blue-100 text-blue-700 border-blue-200",icon:"text-blue-500"},BSED:{bg:"bg-rose-50",border:"border-rose-200",text:"text-rose-700",badge:"bg-rose-100 text-rose-700 border-rose-200",icon:"text-rose-500"},BEED:{bg:"bg-pink-50",border:"border-pink-200",text:"text-pink-700",badge:"bg-pink-100 text-pink-700 border-pink-200",icon:"text-pink-500"},Maritime:{bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-700",badge:"bg-cyan-100 text-cyan-700 border-cyan-200",icon:"text-cyan-500"},BSHM:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-700 border-amber-200",icon:"text-amber-500"},"BS Criminology":{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",badge:"bg-red-100 text-red-700 border-red-200",icon:"text-red-500"},BSBA:{bg:"bg-emerald-50",border:"border-emerald-200",text:"text-emerald-700",badge:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:"text-emerald-500"},"BS Tourism":{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-700",badge:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:"text-indigo-500"},default:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-700",badge:"bg-slate-100 text-slate-700 border-slate-200",icon:"text-slate-500"}},Qw=t=>Kw[t]||Kw.default;function PR(){const t=Pl(),[e,n]=ne.useState([]),[s,l]=ne.useState(!1),[u,g]=ne.useState(!1),[y,b]=ne.useState(""),[f,w]=ne.useState(""),[E,S]=ne.useState(""),[O,k]=ne.useState(""),[M,j]=ne.useState(""),[F,H]=ne.useState(""),[z,U]=ne.useState(""),[Y,$]=ne.useState(null),[X,ue]=ne.useState(null),[J,Oe]=ne.useState({});ne.useEffect(()=>{Ee()},[]);const Ee=()=>{l(!0),tt.get("/students").then(({data:se})=>{n(se),l(!1)}).catch(()=>l(!1))},xe=se=>{if(se.preventDefault(),!f||!M||!F||!z){t.warning("Please fill in all required fields");return}const he={name:f,email:E||null,phone_number:O||null,course:M,year_level:parseInt(F),section:z};X?tt.put(`/students/${X.id}`,he).then(()=>{t.success("Student updated successfully!"),ke(),Ee()}).catch(je=>{t.error(je.response?.data?.message||"Error updating student.")}):tt.post("/students",he).then(je=>{t.success(`Student Registered! ID: ${je.data.student_id}`),w(""),S(""),k(""),j(""),H(""),U(""),Ee()}).catch(je=>{t.error(je.response?.data?.message||"Error registering student.")})},me=se=>{ue(se),w(se.name),S(se.email||""),k(se.phone_number||""),j(se.course||""),H(se.year_level?String(se.year_level):""),U(se.section||"")},ke=()=>{ue(null),w(""),S(""),k(""),j(""),H(""),U("")},K=(se,he)=>{Er.fire({title:"Delete Student?",text:`Are you sure you want to delete "${he||"this student"}"? This cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete!",cancelButtonText:"Cancel"}).then(je=>{je.isConfirmed&&tt.delete(`/students/${se}`).then(()=>{Er.fire("Deleted!","The student has been removed.","success"),Ee()}).catch(Se=>{Er.fire("Error!",Se.response?.data?.message||"Failed to delete student.","error")})})},Z=ne.useMemo(()=>{if(!y)return e;const se=y.toLowerCase();return e.filter(he=>he.name.toLowerCase().includes(se)||he.student_id.toLowerCase().includes(se)||he.course&&he.course.toLowerCase().includes(se)||he.section&&he.section.toLowerCase().includes(se))},[e,y]),oe=ne.useMemo(()=>{const se={};return Z.forEach(he=>{const je=he.course||"Unassigned";se[je]||(se[je]=[]),se[je].push(he)}),Object.keys(se).sort().reduce((he,je)=>(he[je]=se[je],he),{})},[Z]),Me=ne.useMemo(()=>Object.entries(oe).map(([se,he])=>({course:se,totalStudents:he.length,yearBreakdown:he.reduce((je,Se)=>{const Ue=Se.year_level||"Unknown";return je[Ue]=(je[Ue]||0)+1,je},{})})),[oe]),Be=se=>{Oe(he=>({...he,[se]:!he[se]}))},Le=()=>Oe({}),G=()=>{const se={};Object.keys(oe).forEach(he=>se[he]=!0),Oe(se)},re=({courseName:se,courseStudents:he})=>{const je=J[se],Se=Qw(se),Ue=he.reduce((Ye,Pe)=>{const cn=Pe.year_level||"?";return Ye[cn]=(Ye[cn]||0)+1,Ye},{});return m.jsxs("div",{className:`mb-4 rounded-xl overflow-hidden border-2 ${Se.border} transition-all duration-200`,children:[m.jsxs("button",{onClick:()=>Be(se),className:`w-full ${Se.bg} dark:bg-slate-800 px-4 py-3 flex items-center justify-between hover:brightness-95 dark:hover:bg-slate-700 transition-all`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${Se.bg} border ${Se.border}`,children:je?m.jsx(Ll,{size:20,className:Se.icon}):m.jsx(yl,{size:20,className:Se.icon})}),m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:`font-bold text-lg ${Se.text} dark:text-slate-200`,children:se}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[he.length," student",he.length!==1?"s":""," ",Object.entries(Ue).map(([Ye,Pe])=>` Year ${Ye}: ${Pe}`).join(" ")]})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${Se.badge}`,children:[he.length," Students"]})})]}),!je&&m.jsx("div",{className:"overflow-x-auto bg-white dark:bg-slate-800",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-300 uppercase text-xs font-bold tracking-wider",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 border-b border-slate-100 dark:border-slate-600",children:"Student ID"}),m.jsx("th",{className:"p-3 border-b border-slate-100 dark:border-slate-600",children:"Name"}),m.jsx("th",{className:"p-3 border-b border-slate-100 dark:border-slate-600",children:"Year/Section"}),m.jsx("th",{className:"p-3 border-b border-slate-100 dark:border-slate-600 text-right",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700",children:he.map(Ye=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition group",children:[m.jsx("td",{className:"p-3 font-mono text-primary-600 dark:text-primary-400 font-semibold text-sm",children:Ye.student_id}),m.jsx("td",{className:"p-3 text-slate-700 dark:text-slate-200 font-medium",children:Ye.name}),m.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-400 text-sm",children:Ye.year_level?`${Ye.year_level}-${Ye.section||"?"}`:"-"}),m.jsx("td",{className:"p-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1",children:[m.jsx("button",{onClick:()=>$(Ye),className:"text-amber-500 hover:text-amber-700 hover:bg-amber-50 dark:hover:bg-amber-900/30 p-2 rounded-lg transition",title:"View Achievements",children:m.jsx(lf,{size:16})}),m.jsx("button",{onClick:()=>me(Ye),className:"text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/30 p-2 rounded-lg transition",title:"Edit Student",children:m.jsx(fb,{size:16})}),m.jsx("button",{onClick:()=>K(Ye.id,Ye.name),className:"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 p-2 rounded-lg transition",title:"Delete Student",children:m.jsx(L3,{size:16})})]})})]},Ye.id))})]})})]})};return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 bg-gray-50 dark:bg-slate-900 p-8 min-h-screen relative transition-colors duration-300",children:[Y&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fadeIn",children:m.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto relative animate-scaleIn bg-white dark:bg-slate-800 rounded-2xl shadow-2xl",children:[m.jsx("button",{onClick:()=>$(null),className:"absolute top-4 right-4 z-[60] p-2 bg-black/20 hover:bg-black/40 rounded-full text-white transition-all shadow-lg",title:"Close",children:m.jsx(zr,{size:20})}),m.jsx(LR,{studentId:Y.id})]})}),m.jsx("div",{className:"lg:col-span-1",children:u?m.jsx(BR,{onSuccess:Ee,onCancel:()=>g(!1)}):m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700 sticky top-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-3 ${X?"bg-amber-500":"bg-primary-600"} rounded-xl shadow`,children:X?m.jsx(fb,{size:20,className:"text-white"}):m.jsx(rm,{size:20,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:X?"Edit Student":"Register Student"}),X&&m.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:["Editing: ",X.student_id]})]})]}),X?m.jsxs(Fi,{onClick:ke,variant:"outline",className:"text-xs px-3 py-2",children:[m.jsx(zr,{size:16})," Cancel"]}):m.jsxs(Fi,{onClick:()=>g(!0),variant:"secondary",className:"text-xs px-3 py-2",children:[m.jsx(J6,{size:16})," Batch"]})]}),m.jsxs("form",{onSubmit:xe,className:"space-y-5",children:[m.jsx(hn,{label:"Full Name",value:f,onChange:se=>w(se.target.value),icon:Lr,required:!0}),m.jsx(hn,{label:"Email Address",type:"email",value:E,onChange:se=>S(se.target.value),icon:M3}),m.jsx(hn,{label:"Phone Number",type:"tel",value:O,onChange:se=>k(se.target.value),icon:N6}),m.jsxs(Na,{label:"Course",value:M,onChange:se=>j(se.target.value),required:!0,children:[m.jsx("option",{value:"BSIT",children:"BSIT"}),m.jsx("option",{value:"BSED",children:"BSED"}),m.jsx("option",{value:"BEED",children:"BEED"}),m.jsx("option",{value:"Maritime",children:"Maritime"}),m.jsx("option",{value:"BSHM",children:"BSHM"}),m.jsx("option",{value:"BS Criminology",children:"BS Criminology"}),m.jsx("option",{value:"BSBA",children:"BSBA"}),m.jsx("option",{value:"BS Tourism",children:"BS Tourism"})]}),m.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.jsxs(Na,{label:"Year Level",value:F,onChange:se=>H(se.target.value),required:!0,className:"flex-grow min-w-[140px]",children:[m.jsx("option",{value:"1",children:"1st Year"}),m.jsx("option",{value:"2",children:"2nd Year"}),m.jsx("option",{value:"3",children:"3rd Year"}),m.jsx("option",{value:"4",children:"4th Year"})]}),m.jsx(hn,{label:"Section",value:z,onChange:se=>U(se.target.value),icon:uf,required:!0,className:"flex-grow min-w-[140px]"})]}),m.jsx(Fi,{type:"submit",variant:X?"primary":"form",fullWidth:!0,className:"mt-2",children:X?"Update Student":"Register Student"})]})]})}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsx("div",{className:"flex items-center justify-between mb-6",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-primary-600 rounded-xl shadow-lg",children:m.jsx(Pr,{size:24,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Registered Students"}),m.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Organized by course  ",Z.length," students total"]})]})]})}),Me.length>0&&!y&&m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:Me.slice(0,8).map(({course:se,totalStudents:he})=>{const je=Qw(se);return m.jsxs("button",{onClick:()=>{Oe(Se=>({...Se,[se]:!1}))},className:`${je.bg} dark:bg-top-800 ${je.border} dark:border-slate-700 border-2 rounded-2xl p-4 text-left hover:brightness-95 transition-all duration-200 hover:shadow-lg bg-white dark:bg-slate-800`,children:[m.jsx("div",{className:`text-xs font-bold ${je.text} dark:text-slate-200 uppercase tracking-wide truncate mb-1`,children:se}),m.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:he})]},se)})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 border border-gray-100 dark:border-slate-700 mb-6",children:m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end",children:[m.jsx("div",{className:"flex-1 w-full",children:m.jsxs("div",{className:"relative",children:[m.jsx(Nl,{className:"absolute left-4 top-3 text-primary-400",size:18}),m.jsx("input",{placeholder:"Search by name, ID, course, section...",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:ring-4 focus:ring-primary-100 dark:focus:ring-primary-900 focus:border-primary-600 transition-all bg-gray-50 dark:bg-slate-900 dark:text-white hover:bg-white dark:hover:bg-slate-800",value:y,onChange:se=>b(se.target.value)})]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:Le,className:"flex items-center gap-2 px-4 py-3 text-sm font-bold text-gray-600 dark:text-slate-300 bg-gray-100 dark:bg-slate-700 rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-all",title:"Expand All",children:[m.jsx(R3,{size:16})," Expand"]}),m.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-3 text-sm font-bold text-gray-600 dark:text-slate-300 bg-gray-100 dark:bg-slate-700 rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-all",title:"Collapse All",children:[m.jsx(D3,{size:16})," Collapse"]})]})]})}),s?m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-12 text-center text-gray-400 dark:text-slate-500 border border-gray-100 dark:border-slate-700",children:[m.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600 mx-auto mb-4"}),m.jsx("p",{children:"Loading students..."})]}):Object.keys(oe).length===0?m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-12 text-center text-gray-400 dark:text-slate-500 border border-gray-100 dark:border-slate-700",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx(Pr,{size:48,strokeWidth:1.5,className:"opacity-30"}),m.jsx("p",{className:"text-lg font-medium text-gray-600 dark:text-slate-300",children:y?`No students found matching "${y}"`:"No students registered yet"}),m.jsx("p",{className:"text-sm text-gray-400 dark:text-slate-500",children:"Register students using the form on the left"})]})}):m.jsx("div",{className:"space-y-4",children:Object.entries(oe).map(([se,he])=>m.jsx(re,{courseName:se,courseStudents:he},se))})]})]})}function zR(){const[t,e]=ne.useState("30"),[n,s]=ne.useState(""),[l,u]=ne.useState(""),[g,y]=ne.useState([]),[b,f]=ne.useState([]),[w,E]=ne.useState({monthly:[],summary:{}}),[S,O]=ne.useState(!1),[k,M]=ne.useState("books"),j=()=>{const U=new Date;let Y;if(t==="custom")return{start_date:n,end_date:l};switch(U.toISOString().split("T")[0],t){case"7":Y=new Date(U.setDate(U.getDate()-7)).toISOString().split("T")[0];break;case"30":Y=new Date(U.setDate(U.getDate()-30)).toISOString().split("T")[0];break;case"90":Y=new Date(U.setDate(U.getDate()-90)).toISOString().split("T")[0];break;case"365":Y=new Date(U.setFullYear(U.getFullYear()-1)).toISOString().split("T")[0];break;default:Y=new Date(U.setDate(U.getDate()-30)).toISOString().split("T")[0]}return{start_date:Y,end_date:new Date().toISOString().split("T")[0]}},F=()=>{O(!0);const U=j();Promise.all([tt.get("/reports/most-borrowed",{params:U}),tt.get("/reports/top-students",{params:U}),tt.get("/reports/penalties",{params:U})]).then(([Y,$,X])=>{y(Y.data),f($.data),E(X.data),O(!1)}).catch(()=>O(!1))};ne.useEffect(()=>{F()},[t,n,l]);const H=U=>{const Y=j(),$=new URLSearchParams(Y).toString(),X=localStorage.getItem("ACCESS_TOKEN"),ue=document.createElement("a"),J="http://127.0.0.1:8000/api";ue.href=`${J}/reports/export/${U}?${$}`,ue.setAttribute("download",`report_${U}_${new Date().toISOString().split("T")[0]}.csv`),fetch(ue.href,{headers:{Authorization:`Bearer ${X}`}}).then(Oe=>Oe.blob()).then(Oe=>{const Ee=window.URL.createObjectURL(Oe),xe=document.createElement("a");xe.href=Ee,xe.download=`report_${U}_${new Date().toISOString().split("T")[0]}.csv`,xe.click(),window.URL.revokeObjectURL(Ee)})},z=()=>{window.print()};return m.jsxs("div",{className:"space-y-8 bg-gray-50 dark:bg-slate-900 p-8 min-h-screen print:bg-white print:m-0 print:p-0 transition-colors duration-300",children:[m.jsxs("div",{className:"flex justify-between items-center print:hidden",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-primary-600 rounded-xl shadow-lg",children:m.jsx(N3,{size:28,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Reports & Analytics"}),m.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"Generate and export library statistics"})]})]}),m.jsxs("div",{className:"flex items-center gap-3 bg-white dark:bg-slate-800 px-4 py-3 rounded-xl shadow border border-gray-100 dark:border-slate-700",children:[m.jsx(Jc,{size:18,className:"text-primary-600 dark:text-primary-400"}),m.jsxs("select",{value:t,onChange:U=>e(U.target.value),className:"border-2 border-gray-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm focus:ring-4 focus:ring-primary-100 dark:focus:ring-primary-900 focus:border-primary-600 outline-none transition-all bg-gray-50 dark:bg-slate-900 dark:text-white",children:[m.jsx("option",{value:"7",children:"Last 7 Days"}),m.jsx("option",{value:"30",children:"Last 30 Days"}),m.jsx("option",{value:"90",children:"Last 90 Days"}),m.jsx("option",{value:"365",children:"This Year"}),m.jsx("option",{value:"custom",children:"Custom Range"})]}),t==="custom"&&m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"date",value:n,onChange:U=>s(U.target.value),className:"border-2 border-gray-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm focus:ring-4 focus:ring-primary-100 dark:focus:ring-primary-900 focus:border-primary-600 outline-none dark:bg-slate-900 dark:text-white"}),m.jsx("span",{className:"text-gray-400 font-medium",children:"to"}),m.jsx("input",{type:"date",value:l,onChange:U=>u(U.target.value),className:"border-2 border-gray-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm focus:ring-4 focus:ring-primary-100 dark:focus:ring-primary-900 focus:border-primary-600 outline-none dark:bg-slate-900 dark:text-white"})]})]})]}),m.jsxs("div",{className:"hidden print:block mb-4",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"PCLU Library System - Report"}),m.jsxs("p",{className:"text-gray-600",children:["Generated: ",new Date().toLocaleDateString()]})]}),m.jsxs("div",{className:"flex gap-3 print:hidden",children:[m.jsxs("button",{onClick:()=>M("books"),className:`flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all duration-200 ${k==="books"?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 shadow border border-gray-100 dark:border-slate-700"}`,children:[m.jsx(xo,{size:18})," Most Borrowed Books"]}),m.jsxs("button",{onClick:()=>M("students"),className:`flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all duration-200 ${k==="students"?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 shadow border border-gray-100 dark:border-slate-700"}`,children:[m.jsx(Pr,{size:18})," Top Students"]}),m.jsxs("button",{onClick:()=>M("penalties"),className:`flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all duration-200 ${k==="penalties"?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-700 shadow border border-gray-100 dark:border-slate-700"}`,children:[m.jsx(nu,{size:18})," Penalty Collection"]})]}),S&&m.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-slate-400 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700",children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"}),"Loading reports..."]})}),k==="books"&&!S&&m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(xo,{className:"text-primary-600 dark:text-primary-400",size:20})," Most Borrowed Books"]}),m.jsxs("div",{className:"flex gap-2 print:hidden",children:[m.jsxs("button",{onClick:()=>H("books"),className:"flex items-center gap-2 text-sm bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition font-medium shadow-sm",children:[m.jsx(ul,{size:14})," CSV"]}),m.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-sm bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition font-medium shadow-sm",children:[m.jsx(ul,{size:14})," PDF"]})]})]}),m.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-100 dark:border-slate-700",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-slate-300 text-xs font-bold uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4",children:"Rank"}),m.jsx("th",{className:"p-4",children:"Book"}),m.jsx("th",{className:"p-4",children:"Category"}),m.jsx("th",{className:"p-4 text-right",children:"Times Borrowed"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[g.map((U,Y)=>{const $=U.image_path||U.cover_image,X=$?$.startsWith("http")?$:`${"http://127.0.0.1:8000/api".replace("/api","")||""}/${$}`:null;return m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition",children:[m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${Y<3?"bg-primary-100 text-primary-700 dark:bg-primary-900/40 dark:text-primary-400":"bg-gray-100 text-gray-600 dark:bg-slate-700 dark:text-slate-400"}`,children:Y+1})}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-14 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-slate-700 dark:to-slate-600 rounded overflow-hidden flex-shrink-0 shadow-sm print:hidden",children:X?m.jsx("img",{src:X,alt:U.title,className:"w-full h-full object-cover",onError:ue=>{ue.target.onerror=null,ue.target.style.display="none"}}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx(xo,{size:14,className:"text-gray-400 dark:text-slate-500"})})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:U.title}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:U.author})]})]})}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-3 py-1 rounded-full text-xs font-bold border border-primary-100 dark:border-primary-800",children:U.category})}),m.jsx("td",{className:"p-4 text-right",children:m.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400 text-lg",children:U.borrow_count})})]},U.id)}),g.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-500 dark:text-slate-400",children:"No data for selected period"})})]})]})})]}),k==="students"&&!S&&m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(Pr,{className:"text-primary-600 dark:text-primary-400",size:20})," Top Borrowers"]}),m.jsxs("div",{className:"flex gap-2 print:hidden",children:[m.jsxs("button",{onClick:()=>H("students"),className:"flex items-center gap-2 text-sm bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition font-medium shadow-sm",children:[m.jsx(ul,{size:14})," CSV"]}),m.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-sm bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition font-medium shadow-sm",children:[m.jsx(ul,{size:14})," PDF"]})]})]}),m.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-100 dark:border-slate-700",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-slate-300 text-xs font-bold uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4",children:"Rank"}),m.jsx("th",{className:"p-4",children:"Student Name"}),m.jsx("th",{className:"p-4",children:"Student ID"}),m.jsx("th",{className:"p-4 text-center",children:"Books Borrowed"}),m.jsx("th",{className:"p-4 text-center",children:"Active Loans"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[b.map((U,Y)=>m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition",children:[m.jsxs("td",{className:"p-4 font-bold text-primary-600 dark:text-primary-400",children:["#",Y+1]}),m.jsx("td",{className:"p-4 font-medium text-gray-800 dark:text-white",children:U.name}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:"text-gray-600 dark:text-slate-400 font-mono bg-gray-100 dark:bg-slate-700 px-2 py-1 rounded",children:U.student_id})}),m.jsx("td",{className:"p-4 text-center font-bold text-emerald-600 dark:text-emerald-400",children:U.borrow_count}),m.jsx("td",{className:"p-4 text-center",children:U.active_loans>0?m.jsxs("span",{className:"bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-xs font-bold border border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",children:[U.active_loans," Active"]}):m.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"None"})})]},U.id)),b.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500 dark:text-slate-400",children:"No data for selected period"})})]})]})})]}),k==="penalties"&&!S&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Total Fines"}),m.jsxs("p",{className:"text-3xl font-bold text-gray-800 dark:text-white mt-2",children:["",w.summary.total_fines?.toFixed(2)||"0.00"]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Collected"}),m.jsxs("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400 mt-2",children:["",w.summary.total_collected?.toFixed(2)||"0.00"]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Pending"}),m.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400 mt-2",children:["",w.summary.total_pending?.toFixed(2)||"0.00"]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Late Returns"}),m.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mt-2",children:w.summary.total_late_returns||0})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(nu,{className:"text-primary-600 dark:text-primary-400",size:20})," Monthly Breakdown"]}),m.jsxs("div",{className:"flex gap-2 print:hidden",children:[m.jsxs("button",{onClick:()=>H("penalties"),className:"flex items-center gap-2 text-sm bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition font-medium shadow-sm",children:[m.jsx(ul,{size:14})," CSV"]}),m.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-sm bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition font-medium shadow-sm",children:[m.jsx(ul,{size:14})," PDF"]})]})]}),m.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-100 dark:border-slate-700",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 text-gray-600 dark:text-slate-300 text-xs font-bold uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4",children:"Month"}),m.jsx("th",{className:"p-4 text-right",children:"Total Fines"}),m.jsx("th",{className:"p-4 text-right",children:"Collected"}),m.jsx("th",{className:"p-4 text-right",children:"Pending"}),m.jsx("th",{className:"p-4 text-center",children:"Late Returns"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[w.monthly?.map(U=>m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition",children:[m.jsx("td",{className:"p-4 font-medium text-gray-800 dark:text-white",children:U.month}),m.jsxs("td",{className:"p-4 text-right font-mono text-gray-700 dark:text-slate-300",children:["",parseFloat(U.total_penalties).toFixed(2)]}),m.jsxs("td",{className:"p-4 text-right font-mono text-emerald-600 dark:text-emerald-400 font-bold",children:["",parseFloat(U.collected).toFixed(2)]}),m.jsxs("td",{className:"p-4 text-right font-mono text-amber-600 dark:text-amber-400",children:["",parseFloat(U.pending).toFixed(2)]}),m.jsx("td",{className:"p-4 text-center dark:text-slate-300",children:U.late_returns})]},U.month)),(!w.monthly||w.monthly.length===0)&&m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500 dark:text-slate-400",children:"No penalty data for selected period"})})]})]})})]})]})]})}function FR(){const[t,e]=ne.useState({total_students:0,active_borrowers:0,late_returners:0,pending_fines:0}),[n,s]=ne.useState([]),[l,u]=ne.useState(!1),[g,y]=ne.useState("BSIT"),[b,f]=ne.useState(""),[w,E]=ne.useState(""),S=["BSIT","BSED","BEED","Maritime","BSHM","BS Criminology","BSBA","BS Tourism"];ne.useEffect(()=>{O()},[g,b,w]);const O=()=>{u(!0),tt.get("/reports/department",{params:{course:g,year_level:b,section:w}}).then(({data:k})=>{e(k.stats),s(k.students),u(!1)}).catch(()=>u(!1))};return m.jsxs("div",{className:"space-y-6 bg-gray-50 p-8 min-h-screen",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center bg-white p-6 rounded-2xl shadow-lg border border-gray-100 gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-primary-600 rounded-xl shadow-lg",children:m.jsx(v3,{size:28,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Departmental Analytics"}),m.jsx("p",{className:"text-gray-500",children:"View statistics by course and class"})]})]}),m.jsxs("div",{className:"flex gap-3 flex-wrap w-full md:w-auto",children:[m.jsx("select",{value:g,onChange:k=>y(k.target.value),className:"border-2 border-primary-200 p-3 rounded-xl outline-none w-full md:w-auto font-bold bg-primary-50 text-primary-700 focus:ring-4 focus:ring-primary-100 focus:border-primary-600 transition-all",children:S.map(k=>m.jsx("option",{value:k,children:k},k))}),m.jsxs("select",{value:b,onChange:k=>f(k.target.value),className:"border-2 border-gray-200 p-3 rounded-xl outline-none w-full md:w-auto bg-gray-50 focus:ring-4 focus:ring-primary-100 focus:border-primary-600 transition-all",children:[m.jsx("option",{value:"",children:"All Year Levels"}),m.jsx("option",{value:"1",children:"1st Year"}),m.jsx("option",{value:"2",children:"2nd Year"}),m.jsx("option",{value:"3",children:"3rd Year"}),m.jsx("option",{value:"4",children:"4th Year"})]}),m.jsx("input",{placeholder:"Section (e.g. A)",value:w,onChange:k=>E(k.target.value),className:"border-2 border-gray-200 p-3 rounded-xl outline-none w-full md:w-auto bg-gray-50 focus:ring-4 focus:ring-primary-100 focus:border-primary-600 transition-all"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[m.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Total Students"}),m.jsx("div",{className:"text-4xl font-bold text-gray-800",children:t.total_students})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[m.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Active Borrowers"}),m.jsx("div",{className:"text-4xl font-bold text-emerald-600",children:t.active_borrowers})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[m.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Late Returners"}),m.jsx("div",{className:"text-4xl font-bold text-red-600",children:t.late_returners})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[m.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Pending Fines"}),m.jsxs("div",{className:"text-4xl font-bold text-amber-600",children:["",parseFloat(t.pending_fines).toFixed(2)]})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100",children:[m.jsxs("div",{className:"p-5 border-b border-gray-100 font-bold text-gray-700 bg-gray-50 flex items-center gap-2",children:[m.jsx(Pr,{size:18,className:"text-primary-600"}),"Student Breakdown: ",m.jsx("span",{className:"text-primary-600",children:g}),b?m.jsxs("span",{className:"text-gray-500",children:["  Year ",b]}):"",w?m.jsxs("span",{className:"text-gray-500",children:["  Section ",w]}):""]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-gray-50 text-gray-600 uppercase text-xs font-bold border-b border-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4",children:"Student Name"}),m.jsx("th",{className:"p-4",children:"ID"}),m.jsx("th",{className:"p-4 text-center",children:"Year/Sec"}),m.jsx("th",{className:"p-4 text-center",children:"Active Loans"}),m.jsx("th",{className:"p-4 text-center",children:"Status"}),m.jsx("th",{className:"p-4 text-right",children:"Pending Fine"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:l?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"}),"Loading data..."]})})}):n.length===0?m.jsx("tr",{children:m.jsxs("td",{colSpan:"6",className:"p-12 text-center text-gray-500",children:[m.jsx(Pr,{size:48,className:"mx-auto mb-3 opacity-20"}),"No students found for this filter."]})}):n.map(k=>m.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[m.jsx("td",{className:"p-4 font-medium text-gray-800",children:k.name}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:k.student_id})}),m.jsx("td",{className:"p-4 text-center text-gray-600",children:k.year_level?`${k.year_level}-${k.section||"?"}`:"N/A"}),m.jsx("td",{className:"p-4 text-center",children:k.active_loans>0?m.jsx("span",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-xs font-bold border border-primary-200",children:k.active_loans}):m.jsx("span",{className:"text-gray-400",children:"-"})}),m.jsx("td",{className:"p-4 text-center",children:m.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold ${k.status==="Overdue"?"bg-red-100 text-red-700 border border-red-200":k.status==="Active"?"bg-emerald-100 text-emerald-700 border border-emerald-200":"bg-gray-100 text-gray-500 border border-gray-200"}`,children:k.status})}),m.jsx("td",{className:"p-4 text-right font-medium",children:k.pending_fine>0?m.jsxs("span",{className:"text-red-600 font-bold",children:["",parseFloat(k.pending_fine).toFixed(2)]}):m.jsx("span",{className:"text-gray-400",children:"-"})})]},k.id))})]})})]})]})}function UR(){const[t,e]=ne.useState(""),[n,s]=ne.useState(""),[l,u]=ne.useState(""),[g,y]=ne.useState(""),[b,f]=ne.useState(!1),[w,E]=ne.useState(""),[S,O]=ne.useState(!1),[k,M]=ne.useState({}),j=()=>{const U="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let Y="";const $=new Uint32Array(16);crypto.getRandomValues($);for(let X=0;X<16;X++)Y+=U[$[X]%U.length];y(Y),f(!0)},F=ne.useCallback(async(U,Y)=>{if(!Y)return!0;try{const{data:$}=await tt.post("/users/check-unique",{field:U,value:Y});return $.is_unique?(M(X=>({...X,[U]:null})),!0):(M(X=>({...X,[U]:$.message})),!1)}catch{return!0}},[]),H=()=>{e(""),s(""),u(""),y(""),E(""),M({}),f(!1)},z=async U=>{U.preventDefault(),O(!0),M({});const Y=await F("email",n),$=await F("username",l);if(!Y||!$){O(!1);return}const X={account_type:"admin",name:t,email:n,username:l,password:g,permissions:w};try{const{data:ue}=await tt.post("/users",X);Er.fire({title:"Account Created!",html:`<p class="text-gray-600">New Admin <strong>${ue.user.name}</strong> created successfully.</p>
               <p class="mt-2 text-sm text-gray-500">Username: <code class="bg-gray-100 px-2 py-1 rounded">${l}</code></p>`,icon:"success",confirmButtonColor:"#2563eb"}),H()}catch(ue){const J=ue.response?.data?.message||"Failed to create account.";Er.fire("Error",J,"error"),ue.response?.data?.errors&&M(ue.response.data.errors)}finally{O(!1)}};return m.jsxs("div",{className:"space-y-8 bg-gray-50 dark:bg-slate-900 p-8 min-h-screen transition-colors duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-primary-600 rounded-xl shadow-lg",children:m.jsx(rm,{size:28,className:"text-white"})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-slate-400 mb-1",children:[m.jsx("span",{children:"User Management"}),m.jsx(Ll,{size:14}),m.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-semibold",children:"Add New Account"})]}),m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Create Administrator Account"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-8 pb-6 border-b border-gray-100 dark:border-slate-700",children:[m.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl",children:m.jsx(hb,{size:24,className:"text-primary-600 dark:text-primary-400"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"New Administrator"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Create a new admin account with system access"})]})]}),m.jsxs("form",{onSubmit:z,className:"space-y-6",children:[m.jsx(hn,{label:"Full Name",value:t,onChange:U=>e(U.target.value),icon:Lr,required:!0,error:k.name}),m.jsx(hn,{label:"Email Address",type:"email",value:n,onChange:U=>s(U.target.value),onBlur:()=>F("email",n),icon:M3,required:!0,error:k.email}),m.jsx(hn,{label:"Username",value:l,onChange:U=>u(U.target.value),onBlur:()=>F("username",l),icon:Lr,required:!0,error:k.username}),m.jsxs("div",{className:"relative",children:[m.jsx(hn,{label:"Password",type:b?"text":"password",value:g,onChange:U=>y(U.target.value),icon:df,required:!0,error:k.password}),m.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[m.jsx("button",{type:"button",onClick:()=>f(!b),className:"p-2 text-gray-400 hover:text-gray-600 transition",title:b?"Hide password":"Show password",children:b?m.jsx(L5,{size:18}):m.jsx(z5,{size:18})}),m.jsx("button",{type:"button",onClick:j,className:"p-2 text-primary-500 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition",title:"Generate Secure Password",children:m.jsx(j3,{size:18})})]})]}),m.jsxs(Na,{label:"Permissions Level",value:w,onChange:U=>E(U.target.value),required:!0,error:k.permissions,children:[m.jsx("option",{value:"full_access",children:"Full Access"}),m.jsx("option",{value:"read_only",children:"Read Only"})]}),m.jsx(Fi,{type:"submit",variant:"form",fullWidth:!0,loading:S,children:"Create Administrator Account"})]})]})}),m.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[m.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 rounded-2xl shadow-lg p-6 border border-primary-500",children:m.jsxs("div",{className:"text-white",children:[m.jsx(hb,{size:48,className:"mb-4 opacity-80"}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Administrator Account"}),m.jsx("p",{className:"text-sm opacity-80 mb-4",children:"Administrators can access the dashboard, manage books, students, and view reports."}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-white/60"}),m.jsx("span",{className:"opacity-80",children:"Full Access: All features"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-white/60"}),m.jsx("span",{className:"opacity-80",children:"Read Only: View only"})]})]})]})}),m.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-6 border-2 border-amber-200 dark:border-amber-800/50",children:[m.jsxs("h4",{className:"font-bold text-amber-800 dark:text-amber-200 mb-2 flex items-center gap-2",children:[m.jsx(df,{size:18}),"Password Security Tips"]}),m.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-300 space-y-1",children:[m.jsx("li",{children:" Use the Generate button for a secure password"}),m.jsx("li",{children:" Minimum 8 characters recommended"}),m.jsx("li",{children:" Share credentials securely with the user"})]})]})]})]})]})}function HR(){const t=Pl(),[e,n]=ne.useState("dashboard"),[s,l]=ne.useState(!1),[u,g]=ne.useState(new Date),[y,b]=ne.useState({overall:0,api:{status:"checking",latency:0,lastCheck:null},database:{status:"checking",tables:0},uptime:0}),[f,w]=ne.useState({totalBooks:0,totalCopies:0,availableCopies:0,borrowedCopies:0,totalStudents:0,activeLoans:0,overdueLoans:0,pendingFines:0,paidFines:0,todayLoans:0,todayReturns:0}),[E,S]=ne.useState([]),[O,k]=ne.useState(1),M=8,[j,F]=ne.useState(()=>{const me=localStorage.getItem("librarySettings");return me?JSON.parse(me):{libraryName:"PCLU Library System",defaultLoanDays:7,maxLoansPerStudent:3,finePerDay:10,emailNotifications:!0}});ne.useEffect(()=>{H();const me=setInterval(H,3e4);return()=>clearInterval(me)},[]),ne.useEffect(()=>{localStorage.setItem("librarySettings",JSON.stringify(j))},[j]);const H=ne.useCallback(async()=>{await Promise.all([z(),U(),Y()]),g(new Date)},[]),z=async()=>{const me=Date.now();let ke=0,K="offline",Z="offline",oe=0,Me=0;try{const Be=await tt.get("/books");oe=Date.now()-me,oe<300?(K="excellent",ke+=35):oe<800?(K="good",ke+=30):(K="slow",ke+=20),Z="connected",Me=8,ke+=35,Be.data&&Be.data.length>0?ke+=30:ke+=15}catch(Be){Be.code==="ERR_NETWORK"?(K="offline",Z="unknown"):Be.response&&(K="error",Z="connected",ke+=20)}b({overall:Math.min(ke,100),api:{status:K,latency:oe,lastCheck:new Date().toLocaleTimeString()},database:{status:Z,tables:Me},uptime:Math.floor((Date.now()-window.performance.timing.navigationStart)/1e3/60)})},U=async()=>{try{const[me,ke,K]=await Promise.all([tt.get("/books").catch(()=>({data:[]})),tt.get("/students").catch(()=>({data:[]})),tt.get("/transactions").catch(()=>({data:[]}))]),Z=me.data||[],oe=ke.data||[],Me=K.data||[],Be=new Date().toDateString(),Le=Z.reduce((Pe,cn)=>Pe+(cn.total_copies||1),0),G=Z.reduce((Pe,cn)=>Pe+(cn.available_copies||0),0),re=Me.filter(Pe=>!Pe.returned_at),se=re.filter(Pe=>Pe.due_date?new Date(Pe.due_date)<new Date:!1),he=Me.filter(Pe=>Pe.penalty_amount&&parseFloat(Pe.penalty_amount)>0),je=he.filter(Pe=>Pe.payment_status==="pending").reduce((Pe,cn)=>Pe+parseFloat(cn.penalty_amount||0),0),Se=he.filter(Pe=>Pe.payment_status==="paid").reduce((Pe,cn)=>Pe+parseFloat(cn.penalty_amount||0),0),Ue=Me.filter(Pe=>new Date(Pe.borrowed_at).toDateString()===Be).length,Ye=Me.filter(Pe=>Pe.returned_at&&new Date(Pe.returned_at).toDateString()===Be).length;w({totalBooks:Z.length,totalCopies:Le,availableCopies:G,borrowedCopies:Le-G,totalStudents:oe.length,activeLoans:re.length,overdueLoans:se.length,pendingFines:je,paidFines:Se,todayLoans:Ue,todayReturns:Ye})}catch(me){console.error("Failed to fetch stats:",me)}},Y=async()=>{try{const K=((await tt.get("/transactions")).data||[]).sort((Z,oe)=>new Date(oe.updated_at||oe.borrowed_at)-new Date(Z.updated_at||Z.borrowed_at)).map(Z=>({id:Z.id,type:Z.returned_at?"return":"borrow",book:Z.book_asset?.book_title?.title||"Unknown Book",user:Z.user?.name||"Unknown",date:Z.returned_at||Z.borrowed_at,hasOverdue:Z.penalty_amount&&parseFloat(Z.penalty_amount)>0}));S(K)}catch(me){console.error("Failed to fetch activity:",me)}},$=()=>{localStorage.setItem("librarySettings",JSON.stringify(j)),t.success("Settings saved successfully")},X=async me=>{l(!0);try{let ke=`${me}_export_${new Date().toISOString().split("T")[0]}.csv`;const Z=(await tt.get(`/${me}`)).data;if(!Z||Z.length===0){t.warning("No data available to export"),l(!1);return}const oe=Object.keys(Z[0]),Me=[oe.join(","),...Z.map(re=>oe.map(se=>{const he=re[se];return he==null?"":typeof he=="object"?JSON.stringify(he).replace(/,/g,";"):`"${String(he).replace(/"/g,'""')}"`}).join(","))].join(`
`),Be=new Blob([Me],{type:"text/csv;charset=utf-8;"}),Le=URL.createObjectURL(Be),G=document.createElement("a");G.href=Le,G.download=ke,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(Le),t.success(`Exported ${Z.length} ${me} records`)}catch{t.error(`Failed to export ${me}`)}l(!1)},ue=me=>{switch(me){case"excellent":return"text-emerald-500";case"good":return"text-green-500";case"connected":return"text-emerald-500";case"slow":return"text-amber-500";case"checking":return"text-blue-500";default:return"text-red-500"}},J=me=>{switch(me){case"excellent":case"good":case"connected":return"bg-emerald-100";case"slow":return"bg-amber-100";case"checking":return"bg-blue-100";default:return"bg-red-100"}},Oe=me=>me>=80?"from-emerald-500 to-green-400":me>=50?"from-amber-500 to-yellow-400":"from-red-500 to-orange-400",Ee=({id:me,label:ke,icon:K,badge:Z})=>m.jsxs("button",{onClick:()=>n(me),className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 text-left
        ${e===me?"bg-primary-600 text-white shadow-lg shadow-primary-600/30":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(K,{size:18}),ke]}),Z&&m.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${e===me?"bg-white/20 text-white":"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400"}`,children:Z})]}),xe=({icon:me,label:ke,value:K,subValue:Z,color:oe="blue"})=>{const Me={blue:"from-blue-500 to-blue-600",emerald:"from-emerald-500 to-emerald-600",amber:"from-amber-500 to-amber-600",red:"from-red-500 to-red-600",purple:"from-purple-500 to-purple-600",indigo:"from-indigo-500 to-indigo-600"};return m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-gray-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-medium",children:ke}),m.jsx("p",{className:"text-3xl font-black text-gray-800 dark:text-white mt-1",children:K}),Z&&m.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:Z})]}),m.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${Me[oe]} shadow-lg`,children:m.jsx(me,{size:22,className:"text-white"})})]})})};return m.jsxs("div",{className:"space-y-8 bg-gray-50 dark:bg-slate-900 p-8 min-h-screen transition-colors duration-300",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-gradient-to-br from-primary-600 to-primary-700 rounded-2xl shadow-lg shadow-primary-600/30",children:m.jsx(B3,{size:28,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-gray-800 dark:text-white",children:"System Settings"}),m.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-sm",children:["Last updated: ",u.toLocaleTimeString()]})]})]}),m.jsx("div",{className:"flex items-center gap-4",children:m.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition font-medium text-sm shadow-lg shadow-primary-600/30",children:[m.jsx(j3,{size:16}),"Refresh"]})})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[m.jsx("div",{className:"w-full lg:w-56 flex-shrink-0",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-3 space-y-1",children:[m.jsx(Ee,{id:"dashboard",label:"Dashboard",icon:cb}),m.jsx(Ee,{id:"health",label:"System Health",icon:lb,badge:`${y.overall}%`}),m.jsx(Ee,{id:"library",label:"Configuration",icon:gn}),m.jsx(Ee,{id:"data",label:"Data Export",icon:ub}),m.jsx(Ee,{id:"activity",label:"Activity Log",icon:wl,badge:E.length}),m.jsx(Ee,{id:"about",label:"About",icon:_g})]})}),m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 min-h-[650px]",children:[e==="dashboard"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(cb,{size:20,className:"text-primary-500"}),"Quick Overview"]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(xe,{icon:gn,label:"Total Books",value:f.totalBooks,subValue:`${f.totalCopies} copies total`,color:"blue"}),m.jsx(xe,{icon:Pr,label:"Students",value:f.totalStudents,color:"emerald"}),m.jsx(xe,{icon:P3,label:"Active Loans",value:f.activeLoans,subValue:`${f.overdueLoans} overdue`,color:"amber"}),m.jsx(xe,{icon:nu,label:"Pending Fines",value:`${f.pendingFines.toFixed(0)}`,subValue:`${f.paidFines.toFixed(0)} collected`,color:"red"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-100 dark:border-blue-900/30",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:m.jsx(gN,{size:18,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-black text-blue-700 dark:text-blue-400",children:f.todayLoans}),m.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 font-medium",children:"Books Borrowed Today"})]})]})}),m.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-xl border border-emerald-100 dark:border-emerald-900/30",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-emerald-500 rounded-lg",children:m.jsx(eu,{size:18,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-black text-emerald-700 dark:text-emerald-400",children:f.todayReturns}),m.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-300 font-medium",children:"Books Returned Today"})]})]})}),m.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/20 dark:to-violet-900/20 rounded-xl border border-purple-100 dark:border-purple-900/30",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:m.jsx(gn,{size:18,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-black text-purple-700 dark:text-purple-400",children:f.availableCopies}),m.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-300 font-medium",children:"Available Now"})]})]})})]}),m.jsxs("div",{className:"p-5 bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-800 dark:to-slate-900 rounded-2xl border border-gray-200 dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"System Status"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${y.overall>=80?"bg-emerald-500":y.overall>=50?"bg-amber-500":"bg-red-500"} animate-pulse`}),m.jsxs("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-400",children:[y.overall,"% Operational"]})]})]}),m.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-700 rounded-full h-2.5 overflow-hidden",children:m.jsx("div",{className:`h-full rounded-full bg-gradient-to-r ${Oe(y.overall)} transition-all duration-700`,style:{width:`${y.overall}%`}})})]})]}),e==="health"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(lb,{size:20,className:"text-primary-500"}),"System Health Monitor"]}),m.jsxs("span",{className:"text-xs text-gray-400",children:["Last check: ",y.api.lastCheck||"Checking..."]})]}),m.jsxs("div",{className:"p-8 bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl text-white relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-white/10 to-transparent rounded-full -mr-20 -mt-20"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("p",{className:"text-sm text-slate-300 mb-2",children:"Overall System Health"}),m.jsxs("div",{className:"flex items-end gap-4",children:[m.jsxs("span",{className:"text-6xl font-black",children:[y.overall,"%"]}),m.jsx("span",{className:`text-lg font-bold mb-2 ${y.overall>=80?"text-emerald-400":y.overall>=50?"text-amber-400":"text-red-400"}`,children:y.overall>=80?" Excellent":y.overall>=50?" Fair":" Critical"})]}),m.jsx("div",{className:"mt-4 w-full bg-slate-700 rounded-full h-3 overflow-hidden",children:m.jsx("div",{className:`h-full rounded-full bg-gradient-to-r ${Oe(y.overall)} transition-all duration-1000`,style:{width:`${y.overall}%`}})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:`p-5 rounded-2xl border ${J(y.api.status)} dark:bg-opacity-20 dark:border-opacity-30 border-gray-200 dark:border-slate-600`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm",children:y.api.status!=="offline"&&y.api.status!=="error"?m.jsx(dN,{size:22,className:ue(y.api.status)}):m.jsx(cN,{size:22,className:"text-red-500"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-800 dark:text-white",children:"API Server"}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Backend Connection"})]})]}),m.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full ${J(y.api.status)} ${ue(y.api.status)}`,children:y.api.status.toUpperCase()})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Response Time"}),m.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[y.api.latency,"ms"]})]})]}),m.jsxs("div",{className:`p-5 rounded-2xl border ${J(y.database.status)} dark:bg-opacity-20 dark:border-opacity-30 border-gray-200 dark:border-slate-600`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm",children:m.jsx(U6,{size:22,className:ue(y.database.status)})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-800 dark:text-white",children:"Database"}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"MySQL Server"})]})]}),m.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full ${J(y.database.status)} ${ue(y.database.status)}`,children:y.database.status.toUpperCase()})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Active Tables"}),m.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:y.database.tables})]})]})]}),m.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-xl border border-gray-200 dark:border-slate-600",children:m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(tu,{size:16,className:"text-gray-400"}),m.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Session uptime:"}),m.jsxs("span",{className:"font-bold text-gray-800 dark:text-white",children:[y.uptime," minutes"]})]})})]}),e==="library"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(gn,{size:20,className:"text-primary-500"}),"Library Configuration"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Library Name"}),m.jsx("input",{type:"text",value:j.libraryName,onChange:me=>F({...j,libraryName:me.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition bg-white dark:bg-slate-900 text-gray-900 dark:text-white"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center gap-2",children:[m.jsx(tu,{size:14})," Default Loan Period (days)"]}),m.jsx("input",{type:"number",min:"1",max:"30",value:j.defaultLoanDays,onChange:me=>F({...j,defaultLoanDays:parseInt(me.target.value)||7}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition bg-white dark:bg-slate-900 text-gray-900 dark:text-white"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center gap-2",children:[m.jsx(gn,{size:14})," Max Loans Per Student"]}),m.jsx("input",{type:"number",min:"1",max:"10",value:j.maxLoansPerStudent,onChange:me=>F({...j,maxLoansPerStudent:parseInt(me.target.value)||3}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition bg-white dark:bg-slate-900 text-gray-900 dark:text-white"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center gap-2",children:[m.jsx(nu,{size:14})," Fine Per Day ()"]}),m.jsx("input",{type:"number",min:"0",max:"500",value:j.finePerDay,onChange:me=>F({...j,finePerDay:parseInt(me.target.value)||10}),className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition bg-white dark:bg-slate-900 text-gray-900 dark:text-white"})]})]}),m.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-slate-700",children:m.jsx(Fi,{onClick:$,icon:I6,children:"Save Configuration"})})]}),e==="data"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(ub,{size:20,className:"text-primary-500"}),"Data Export"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("button",{onClick:()=>X("books"),disabled:s,className:"group p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 border-2 border-blue-200 dark:border-blue-700/50 rounded-2xl hover:shadow-xl hover:scale-[1.02] transition-all",children:[m.jsx(gn,{size:36,className:"text-blue-600 mb-3 group-hover:scale-110 transition-transform"}),m.jsx("p",{className:"font-bold text-blue-800 text-lg",children:"Export Books"}),m.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[f.totalBooks," records"]})]}),m.jsxs("button",{onClick:()=>X("students"),disabled:s,className:"group p-6 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-800/30 border-2 border-emerald-200 dark:border-emerald-700/50 rounded-2xl hover:shadow-xl hover:scale-[1.02] transition-all",children:[m.jsx(Pr,{size:36,className:"text-emerald-600 mb-3 group-hover:scale-110 transition-transform"}),m.jsx("p",{className:"font-bold text-emerald-800 text-lg",children:"Export Students"}),m.jsxs("p",{className:"text-sm text-emerald-600 mt-1",children:[f.totalStudents," records"]})]}),m.jsxs("button",{onClick:()=>X("transactions"),disabled:s,className:"group p-6 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 border-2 border-purple-200 dark:border-purple-700/50 rounded-2xl hover:shadow-xl hover:scale-[1.02] transition-all",children:[m.jsx(xo,{size:36,className:"text-purple-600 mb-3 group-hover:scale-110 transition-transform"}),m.jsx("p",{className:"font-bold text-purple-800 text-lg",children:"Export Transactions"}),m.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"All history"})]})]}),m.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50 rounded-xl text-sm text-amber-800 dark:text-amber-200",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(E3,{size:18,className:"flex-shrink-0 mt-0.5"}),m.jsx("p",{children:"Exports are generated as CSV files. Large datasets may take a moment to download."})]})})]}),e==="activity"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(wl,{size:20,className:"text-primary-500"}),"Activity Log"]}),m.jsx("div",{className:"space-y-3",children:E.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-400",children:[m.jsx(wl,{size:40,className:"mx-auto mb-3 opacity-50"}),m.jsx("p",{children:"No recent activity"})]}):m.jsxs(m.Fragment,{children:[E.slice((O-1)*M,O*M).map(me=>m.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-slate-700/50 rounded-xl border border-gray-100 dark:border-slate-600",children:[m.jsx("div",{className:`p-2 rounded-lg ${me.type==="borrow"?"bg-blue-100 dark:bg-blue-900/40":"bg-emerald-100 dark:bg-emerald-900/40"}`,children:me.type==="borrow"?m.jsx(gn,{size:18,className:"text-blue-600 dark:text-blue-400"}):m.jsx(eu,{size:18,className:"text-emerald-600 dark:text-emerald-400"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"font-medium text-gray-800 dark:text-white truncate",children:me.book}),m.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:[me.type==="borrow"?"Borrowed by":"Returned by"," ",me.user]})]}),m.jsxs("div",{className:"text-right flex-shrink-0",children:[m.jsx("p",{className:"text-xs text-gray-400",children:new Date(me.date).toLocaleDateString()}),me.hasOverdue&&m.jsx("span",{className:"text-xs text-red-500 font-bold",children:"Late"})]})]},me.id)),E.length>M&&m.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-slate-700",children:[m.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",m.jsx("span",{className:"font-bold",children:(O-1)*M+1})," to ",m.jsx("span",{className:"font-bold",children:Math.min(O*M,E.length)})," of ",m.jsx("span",{className:"font-bold",children:E.length})," results"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>k(me=>Math.max(me-1,1)),disabled:O===1,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m.jsx(_3,{size:20,className:"text-gray-600 dark:text-slate-400"})}),m.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Page ",O," of ",Math.ceil(E.length/M)]}),m.jsx("button",{onClick:()=>k(me=>Math.min(me+1,Math.ceil(E.length/M))),disabled:O===Math.ceil(E.length/M),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m.jsx(Ll,{size:20,className:"text-gray-600 dark:text-slate-400"})})]})]})]})})]}),e==="about"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(_g,{size:20,className:"text-primary-500"}),"About System"]}),m.jsxs("div",{className:"text-center py-10",children:[m.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 rounded-3xl flex items-center justify-center mb-5 shadow-2xl shadow-primary-600/40",children:m.jsx(gn,{size:44,className:"text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-gray-800 dark:text-white",children:j.libraryName}),m.jsx("p",{className:"text-gray-500 dark:text-slate-400 mt-2",children:"Library Management System"}),m.jsxs("div",{className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-gray-100 rounded-full",children:[m.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Version 1.0.0"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-xl text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Frontend"}),m.jsx("p",{className:"font-bold text-gray-800 dark:text-white mt-1",children:"React + Vite"})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-xl text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Backend"}),m.jsx("p",{className:"font-bold text-gray-800 dark:text-white mt-1",children:"Laravel 10"})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-xl text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Database"}),m.jsx("p",{className:"font-bold text-gray-800 dark:text-white mt-1",children:"MySQL"})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-xl text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Styling"}),m.jsx("p",{className:"font-bold text-gray-800 dark:text-white mt-1",children:"Tailwind CSS"})]})]})]})]})})]})]})}const s4=ne.createContext(null);function gg({children:t}){const[e,n]=ne.useState(()=>{const u=localStorage.getItem("theme");return u?u==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});ne.useEffect(()=>{const u=document.documentElement;e?(u.classList.add("dark"),localStorage.setItem("theme","dark")):(u.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]);const l={isDark:e,toggleTheme:()=>{n(u=>!u)},theme:e?"dark":"light"};return m.jsx(s4.Provider,{value:l,children:t})}function VR(){const t=ne.useContext(s4);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}function GR(){const[t,e]=ne.useState(new Date);ne.useEffect(()=>{const g=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(g)},[]);const n=g=>{let y=g.getHours();const b=g.getMinutes(),f=g.getSeconds(),w=y>=12?"PM":"AM";y=y%12,y=y||12;const E=b<10?"0"+b:b,S=f<10?"0"+f:f;return{time:`${y}:${E}:${S}`,ampm:w}},s=g=>{const y={weekday:"short",month:"short",day:"numeric"};return g.toLocaleDateString("en-US",y)},{time:l,ampm:u}=n(t);return m.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white/10 rounded-xl border border-white/20",children:[m.jsx(tu,{size:20,className:"text-white/70"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-baseline gap-1.5",children:[m.jsx("span",{className:"text-xl font-bold text-white tabular-nums tracking-tight",children:l}),m.jsx("span",{className:"text-xs font-bold text-white/70",children:u})]}),m.jsx("div",{className:"text-xs text-white/60 font-medium",children:s(t)})]})]})}function qR({children:t,activeTab:e,setActiveTab:n,onLogout:s,userName:l,userRole:u="Administrator"}){const[g,y]=ne.useState(!1),{isDark:b,toggleTheme:f}=VR(),w=({id:S,label:O,icon:k})=>m.jsxs("button",{onClick:()=>{n(S),y(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200
        ${e===S?"bg-white/20 text-white shadow-sm border border-white/30":"text-white/80 hover:bg-white/10 hover:text-white"}`,children:[m.jsx(k,{size:20,strokeWidth:2}),O]}),E=()=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center gap-3",children:[m.jsx("div",{className:"bg-white p-2.5 rounded-lg shadow-sm",children:m.jsx(Sl,{size:24,style:{color:"#020463"}})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h1",{className:"text-xl font-bold text-white leading-none truncate",children:"PCLU Library"}),m.jsx("p",{className:"text-xs text-white/70 mt-1 font-medium truncate",children:"Management System"})]})]}),m.jsx("div",{className:"px-4 pt-4",children:m.jsx(GR,{})}),m.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto no-scrollbar",children:[m.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-white/50 uppercase tracking-wider mb-2 mt-2",children:"Main Menu"}),m.jsx(w,{id:"dashboard",label:"Dashboard",icon:O3}),m.jsx(w,{id:"circulation",label:"Circulation",icon:I3}),m.jsx(w,{id:"books",label:"Book Inventory",icon:gn}),m.jsx(w,{id:"students",label:"Student List",icon:Pr}),m.jsx(w,{id:"user-management",label:"User Management",icon:rm}),m.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-white/50 uppercase tracking-wider mb-2 mt-6",children:"Analytics & Logs"}),m.jsx(w,{id:"history",label:"History Logs",icon:wl}),m.jsx(w,{id:"reports",label:"Reports",icon:N3}),m.jsx(w,{id:"department-analytics",label:"Dept. Analytics",icon:v3}),m.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-white/50 uppercase tracking-wider mb-2 mt-6",children:"System"}),m.jsx(w,{id:"settings",label:"Settings",icon:B3}),m.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-white/50 uppercase tracking-wider mb-2 mt-6",children:"Public Access"}),m.jsxs("a",{href:"/catalog",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-white/80 hover:bg-white/10 hover:text-white transition-all duration-200",children:[m.jsx(gn,{size:20,strokeWidth:2}),"Student Kiosk"]})]}),m.jsxs("div",{className:"p-4 border-t border-white/10",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4 px-2",children:[m.jsx("span",{className:"text-xs font-medium text-white/70",children:"Theme"}),m.jsx("button",{onClick:f,className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/10 hover:bg-white/20 transition text-xs font-bold text-white",children:b?m.jsxs(m.Fragment,{children:[m.jsx(_6,{size:14})," Dark"]}):m.jsxs(m.Fragment,{children:[m.jsx(Q6,{size:14})," Light"]})})]}),m.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 mb-2",children:[m.jsx("div",{className:"w-9 h-9 bg-white/20 rounded-full flex items-center justify-center",children:m.jsx(Lr,{size:18,className:"text-white"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-white truncate",children:l||"User"}),m.jsx("p",{className:"text-xs text-white/60",children:u})]})]}),m.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-white/80 hover:bg-red-500/20 hover:text-red-300 transition-all duration-200",children:[m.jsx(h6,{size:20,strokeWidth:2}),"Sign Out"]})]})]});return m.jsxs("div",{className:"min-h-screen flex bg-gray-100 dark:bg-slate-900 font-sans transition-colors duration-300",children:[m.jsxs("div",{className:"flex w-full",children:[m.jsx("aside",{className:"hidden lg:flex w-72 flex-col h-screen sticky top-0 shadow-xl z-20",style:{backgroundColor:"#020463"},children:m.jsx(E,{})}),g&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>y(!1)}),m.jsxs("aside",{className:"lg:hidden fixed left-0 top-0 bottom-0 w-72 flex flex-col z-50 shadow-2xl animate-slideIn",style:{backgroundColor:"#020463"},children:[m.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition",children:m.jsx(zr,{size:20})}),m.jsx(E,{})]})]}),m.jsxs("main",{className:"flex-1 overflow-auto min-h-screen bg-gray-100 dark:bg-slate-900 transition-colors duration-300",children:[m.jsxs("div",{className:"lg:hidden p-4 bg-white dark:bg-slate-800 shadow-sm flex items-center justify-between sticky top-0 z-10 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Sl,{size:24,className:"text-primary-600 dark:text-primary-400"}),m.jsx("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:"PCLU Library"})]}),m.jsx("button",{onClick:()=>y(!0),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),m.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),m.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),m.jsx("div",{className:"w-full",children:t})]})]}),m.jsx("style",{children:`
        @keyframes slideIn {
          from { transform: translateX(-100%); }
          to { transform: translateX(0); }
        }
        .animate-slideIn {
          animation: slideIn 0.3s ease-out forwards;
        }
      `})]})}function XR(){const[t,e]=ne.useState(new Date);ne.useEffect(()=>{const s=setInterval(()=>e(new Date),1e3);return()=>clearInterval(s)},[]);const n=s=>{let l=s.getHours();const u=s.getMinutes(),g=l>=12?"PM":"AM";l=l%12||12;const y=u<10?"0"+u:u;return`${l}:${y} ${g}`};return m.jsxs("div",{className:"flex items-center gap-2 text-primary-100 bg-white/10 px-4 py-2 rounded-full backdrop-blur-sm border border-white/20",children:[m.jsx(tu,{size:16}),m.jsx("span",{className:"font-bold font-mono tracking-wide",children:n(t)})]})}function YR({children:t}){return m.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans flex flex-col",children:[m.jsx("header",{className:"bg-primary-600 text-white shadow-xl sticky top-0 z-40",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-white p-2 rounded-xl shadow-lg",children:m.jsx(Sl,{className:"text-primary-600",size:32})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold leading-none tracking-tight",children:"PCLU Library"}),m.jsx("p",{className:"text-primary-200 text-xs font-medium tracking-wider uppercase mt-1",children:"Student Kiosk"})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(XR,{}),m.jsx("button",{onClick:()=>window.location.reload(),className:"hidden md:flex bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"Reset"}),m.jsxs("a",{href:"/",className:"text-primary-200 hover:text-white text-xs font-bold flex gap-1 items-center opacity-50 hover:opacity-100 transition-opacity",children:[m.jsx(d6,{size:14})," Staff"]})]})]})}),m.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto px-6 py-8",children:t}),m.jsx("footer",{className:"bg-white border-t border-slate-200 py-6 text-center text-slate-400 text-sm",children:m.jsx("p",{children:" 2026 PCLU Library Management System  Public Access Catalog"})})]})}function WR({book:t,onLocate:e}){const n=t.available_copies>0,l=(()=>{const u=t.image_path||t.cover_image;return u?u.startsWith("http")?u:`${"http://127.0.0.1:8000/api".replace("/api","")||""}/${u}`:null})();return m.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 group",children:m.jsxs("div",{className:"flex h-full",children:[m.jsxs("div",{className:"w-32 bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center shrink-0 border-r border-gray-100 relative overflow-hidden",children:[l?m.jsx("img",{src:l,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:u=>{u.target.onerror=null,u.target.style.display="none",u.target.parentElement.querySelector(".fallback-icon").style.display="flex"}}):null,m.jsx("div",{className:`fallback-icon absolute inset-0 flex items-center justify-center ${l?"hidden":"flex"}`,children:m.jsx(Vc,{size:40,className:"text-slate-300 group-hover:scale-110 transition-transform duration-500"})}),m.jsx("div",{className:`absolute bottom-0 w-full text-center text-[10px] font-bold uppercase py-1.5 ${n?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:n?`${t.available_copies} Available`:"Borrowed"})]}),m.jsxs("div",{className:"p-4 flex flex-col flex-1 min-w-0",children:[m.jsxs("div",{className:"mb-auto",children:[m.jsx("span",{className:"text-[10px] font-bold tracking-wider text-primary-600 uppercase mb-1 block",children:t.category}),m.jsx("h3",{className:"font-bold text-gray-800 leading-tight mb-1 line-clamp-2",title:t.title,children:t.title}),m.jsx("p",{className:"text-sm text-gray-500 mb-2 truncate",children:t.author}),m.jsxs("div",{className:"space-y-1 text-xs text-gray-400",children:[t.publisher&&m.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[m.jsx(jf,{size:12}),m.jsx("span",{className:"truncate",children:t.publisher})]}),t.published_year&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Jc,{size:12}),m.jsx("span",{children:t.published_year})]}),t.call_number&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(xo,{size:12}),m.jsx("span",{className:"font-mono",children:t.call_number})]})]})]}),m.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[m.jsx("div",{className:"text-xs font-medium text-gray-400 font-mono truncate",children:t.isbn||"No ISBN"}),n&&m.jsxs("button",{onClick:()=>e(t),className:"flex items-center gap-1.5 text-xs font-bold text-primary-600 bg-primary-50 px-3 py-2 rounded-lg hover:bg-primary-100 transition-colors flex-shrink-0",children:[m.jsx(Cl,{size:14}),m.jsx("span",{className:"hidden sm:inline",children:"Find It"})]})]}),m.jsx("div",{className:"mt-2 sm:hidden",children:n?m.jsxs("button",{onClick:()=>e(t),className:"w-full flex items-center justify-center gap-1.5 text-xs font-bold text-primary-600 bg-primary-50 px-3 py-2 rounded-lg",children:[m.jsx(Cl,{size:14})," Locate"]}):m.jsx("div",{className:"text-center text-xs font-bold text-rose-500 bg-rose-50 py-2 rounded-lg",children:"Out of Stock"})})]})]})})}function ZR({book:t,location:e,onClose:n}){if(!t||!e)return null;const l=(()=>{const u=t.image_path||t.cover_image;return u?u.startsWith("http")?u:`${"http://127.0.0.1:8000/api".replace("/api","")||""}/${u}`:null})();return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative animate-scale-up",children:[m.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:m.jsx(Sl,{size:120})}),m.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-white/20 hover:bg-white/40 p-2 rounded-full transition-colors",children:m.jsx(zr,{size:20})}),m.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Locate Book"}),m.jsx("p",{className:"text-primary-100 text-sm",children:"Follow the map to find your book."})]}),m.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"w-20 h-28 flex-shrink-0 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg overflow-hidden shadow-md",children:[l?m.jsx("img",{src:l,alt:t.title,className:"w-full h-full object-cover",onError:u=>{u.target.onerror=null,u.target.style.display="none",u.target.parentElement.querySelector(".fallback-icon").style.display="flex"}}):null,m.jsx("div",{className:`fallback-icon w-full h-full flex items-center justify-center ${l?"hidden":"flex"}`,children:m.jsx(gn,{size:28,className:"text-gray-400"})})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"font-bold text-gray-800 text-lg line-clamp-2",children:t.title}),m.jsx("p",{className:"text-gray-500 text-sm",children:t.author}),m.jsxs("div",{className:"mt-2 space-y-1 text-xs text-gray-400",children:[t.publisher&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(jf,{size:12}),m.jsx("span",{className:"truncate",children:t.publisher})]}),t.call_number&&m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(xo,{size:12}),m.jsx("span",{className:"font-mono",children:t.call_number})]})]}),m.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm font-medium text-emerald-600 bg-emerald-50 px-3 py-1.5 rounded-lg w-fit",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Available Now"]})]})]})}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-4 p-4 border-2 border-primary-100 rounded-xl bg-primary-50/50",children:[m.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm text-primary-600",children:m.jsx(Cl,{size:28})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-primary-400 uppercase tracking-wider",children:"Exact Location"}),m.jsx("div",{className:"text-xl font-bold text-gray-800",children:e.shelf||"N/A"}),m.jsx("div",{className:"text-sm text-gray-600",children:[e.building,e.aisle].filter(Boolean).join(", ")||"Location not specified"})]})]}),m.jsxs("div",{className:"h-40 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl border-2 border-dashed border-slate-300 flex flex-col items-center justify-center text-slate-400",children:[m.jsx(x5,{size:32,className:"mb-2"}),m.jsx("span",{className:"text-xs font-medium",children:"Shelf Map Visualization"}),m.jsx("span",{className:"text-[10px] mt-1",children:"(Mockup)"})]})]}),m.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 text-center",children:m.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-primary-200",children:"Got it, thanks!"})})]})})}function KR(){const[t,e]=ne.useState([]),[n,s]=ne.useState(!1),[l,u]=ne.useState(""),[g,y]=ne.useState("All"),[b,f]=ne.useState(null),w=["All","Fiction","Science","Technology","History","Education","Literature","Reference","Business","Arts","Religion","Philosophy","Law","Medicine","Engineering","Maritime","Hospitality","Criminology"];ne.useEffect(()=>{E()},[l,g]);const E=()=>{s(!0);const O={};l&&(O.search=l),g!=="All"&&(O.search=g+(l?" "+l:"")),tt.get("/public/books",{params:O}).then(({date:k,data:M})=>{M&&M.data?e(M.data):Array.isArray(M)?e(M):e([]),s(!1)}).catch(k=>{console.error(k),s(!1)})},S=O=>{tt.get(`/public/books/${O.id}`).then(({data:k})=>{const M=k.assets&&k.assets.length>0?k.assets[0]:null;M?(f(O),f({...O,location:M})):alert("Sorry, no physical copy location found.")}).catch(k=>console.error(k))};return m.jsxs(YR,{children:[m.jsxs("div",{className:"text-center mb-12 animate-fade-in-down",children:[m.jsx("h2",{className:"text-4xl font-extrabold text-slate-800 mb-4 tracking-tight",children:"Find Your Next Great Read"}),m.jsxs("p",{className:"text-slate-500 mb-8 text-lg",children:["Search our collection of ",t.length>0?"thousands of":""," books and resources."]}),m.jsxs("div",{className:"max-w-2xl mx-auto relative group",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none",children:m.jsx(Nl,{className:"text-slate-400 group-focus-within:text-primary-500 transition-colors",size:24})}),m.jsx("input",{type:"text",placeholder:"Search by title, author, or ISBN...",className:"w-full pl-16 pr-6 py-5 rounded-2xl border-2 border-slate-200 shadow-sm focus:border-primary-500 focus:ring-4 focus:ring-primary-100 outline-none text-lg transition-all",value:l,onChange:O=>u(O.target.value)})]}),m.jsx("div",{className:"flex flex-wrap justify-center gap-3 mt-6",children:w.map(O=>m.jsx("button",{onClick:()=>y(O),className:`px-5 py-2.5 rounded-full text-sm font-bold transition-all transform hover:-translate-y-0.5
                            ${g===O?"bg-primary-600 text-white shadow-lg shadow-primary-200 ring-2 ring-primary-100":"bg-white text-slate-500 border border-slate-200 hover:border-primary-300 hover:text-primary-600"}`,children:O},O))})]}),n?m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[m.jsx(k3,{size:48,className:"animate-spin mb-4 text-primary-500"}),m.jsx("p",{children:"Searching the archives..."})]}):t.length>0?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 animate-fade-in",children:t.map(O=>m.jsx(WR,{book:O,onLocate:S},O.id))}):m.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300",children:[m.jsx("div",{className:"inline-block p-4 bg-slate-50 rounded-full mb-4",children:m.jsx(Nl,{size:32,className:"text-slate-400"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:"No books found"}),m.jsx("p",{className:"text-slate-500",children:"Try adjusting your search terms or category."}),m.jsx("button",{onClick:()=>{u(""),y("All")},className:"mt-6 text-primary-600 font-bold hover:underline",children:"Clear all filters"})]}),b&&m.jsx(ZR,{book:b,location:b.location,onClose:()=>f(null)})]})}function QR(){if(window.location.pathname==="/catalog")return m.jsx(gg,{children:m.jsx(Q1,{children:m.jsx(KR,{})})});const t=localStorage.getItem("ACCESS_TOKEN"),e=localStorage.getItem("USER_NAME"),[n,s]=ne.useState("dashboard"),[l,u]=ne.useState(!0),[g,y]=ne.useState(!1),[b,f]=ne.useState(""),[w,E]=ne.useState(3),S=()=>{localStorage.clear(),window.location.reload()},O=M=>{f(M),s("books")},k=()=>{f("")};return t?m.jsx(gg,{children:m.jsx(Q1,{children:m.jsxs(qR,{activeTab:n,setActiveTab:s,onLogout:S,userName:e,children:[n==="dashboard"&&m.jsx(IR,{}),n==="students"&&m.jsx(PR,{}),n==="books"&&m.jsx(yT,{pendingBarcode:b,onClearPendingBarcode:k}),n==="circulation"&&m.jsx($T,{onNavigateToBooks:O}),n==="history"&&m.jsx(JT,{}),n==="reports"&&m.jsx(zR,{}),n==="department-analytics"&&m.jsx(FR,{}),n==="user-management"&&m.jsx(UR,{}),n==="settings"&&m.jsx(HR,{})]})})}):m.jsx(gg,{children:m.jsx(Q1,{children:m.jsx(xN,{})})})}DE.createRoot(document.getElementById("root")).render(m.jsx(ne.StrictMode,{children:m.jsx(QR,{})}));
